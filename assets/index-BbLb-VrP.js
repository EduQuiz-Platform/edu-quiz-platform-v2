var jC=Object.defineProperty;var ty=e=>{throw TypeError(e)};var NC=(e,t,r)=>t in e?jC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var fl=(e,t,r)=>NC(e,typeof t!="symbol"?t+"":t,r),qu=(e,t,r)=>t.has(e)||ty("Cannot "+r);var Y=(e,t,r)=>(qu(e,t,"read from private field"),r?r.call(e):t.get(e)),Ee=(e,t,r)=>t.has(e)?ty("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ve=(e,t,r,n)=>(qu(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),kt=(e,t,r)=>(qu(e,t,"access private method"),r);var hl=(e,t,r,n)=>({set _(s){ve(e,t,s,r)},get _(){return Y(e,t,n)}});import{j as a}from"./ui-BeEox6fF.js";import{r as S,R as k,a as SC,u as Xn,L as Te,O as _C,b as Qn,c as Nt,d as AC,B as PC,e as OC,f as Ye,N as lp}from"./router-5rs13ixx.js";import{a as kC,c as ml,g as ze}from"./vendor-B7FnPyzq.js";import{c as CC}from"./supabase-BGDDHyV0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var pl={},ry;function TC(){if(ry)return pl;ry=1;var e=kC();return pl.createRoot=e.createRoot,pl.hydrateRoot=e.hydrateRoot,pl}var EC=TC();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(e,t)=>{const r=S.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>S.createElement("svg",{ref:d,...MC,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${IC(e)}`,l].join(" "),...u},[...t.map(([f,h])=>S.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=se("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=se("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=se("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=se("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=se("BookText",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["path",{d:"M8 7h6",key:"1f0q6e"}],["path",{d:"M8 11h8",key:"vwpz6n"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=se("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=se("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=se("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=se("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=se("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=se("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=se("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=se("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=se("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=se("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=se("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=se("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=se("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=se("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=se("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=se("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=se("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=se("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=se("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=se("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=se("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=se("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=se("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=se("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=se("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=se("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=se("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=se("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=se("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=se("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=se("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=se("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=se("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=se("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=se("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=se("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=se("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=se("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);class QS extends k.Component{constructor(r){super(r);fl(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:void 0})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Error Boundary caught an error:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(ka,{className:"mx-auto h-16 w-16 text-red-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Something went wrong"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We're sorry, but something unexpected happened. Please try refreshing the page."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:this.handleRetry,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[a.jsx(Vt,{className:"w-4 h-4 mr-2"}),"Try Again"]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-3 px-4 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Reload Page"})]}),!1]})}):this.props.children}}var Yc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},aT={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Dn,sx,DS,iT=(DS=class{constructor(){Ee(this,Dn,aT);Ee(this,sx,!1)}setTimeoutProvider(e){ve(this,Dn,e)}setTimeout(e,t){return Y(this,Dn).setTimeout(e,t)}clearTimeout(e){Y(this,Dn).clearTimeout(e)}setInterval(e,t){return Y(this,Dn).setInterval(e,t)}clearInterval(e){Y(this,Dn).clearInterval(e)}},Dn=new WeakMap,sx=new WeakMap,DS),hp=new iT;function oT(e){setTimeout(e,0)}var Xc=typeof window>"u"||"Deno"in globalThis;function Nr(){}function lT(e,t){return typeof e=="function"?e(t):e}function cT(e){return typeof e=="number"&&e>=0&&e!==1/0}function uT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function mp(e,t){return typeof e=="function"?e(t):e}function dT(e,t){return typeof e=="function"?e(t):e}function iy(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==dx(o,t.options))return!1}else if(!io(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function oy(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(ao(t.options.mutationKey)!==ao(i))return!1}else if(!io(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function dx(e,t){return((t==null?void 0:t.queryKeyHashFn)||ao)(e)}function ao(e){return JSON.stringify(e,(t,r)=>pp(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function io(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>io(e[r],t[r])):!1}var fT=Object.prototype.hasOwnProperty;function JS(e,t){if(e===t)return e;const r=ly(e)&&ly(t);if(!r&&!(pp(e)&&pp(t)))return t;const s=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<s:fT.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const m=JS(f,h);l[d]=m,m===f&&c++}return s===o&&c===s?e:l}function ly(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pp(e){if(!cy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!cy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function cy(e){return Object.prototype.toString.call(e)==="[object Object]"}function hT(e){return new Promise(t=>{hp.setTimeout(t,e)})}function mT(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?JS(e,t):t}function pT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function gT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var fx=Symbol();function ZS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===fx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var bs,Rn,xa,RS,xT=(RS=class extends Yc{constructor(){super();Ee(this,bs);Ee(this,Rn);Ee(this,xa);ve(this,xa,t=>{if(!Xc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Y(this,Rn)||this.setEventListener(Y(this,xa))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,Rn))==null||t.call(this),ve(this,Rn,void 0))}setEventListener(t){var r;ve(this,xa,t),(r=Y(this,Rn))==null||r.call(this),ve(this,Rn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Y(this,bs)!==t&&(ve(this,bs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Y(this,bs)=="boolean"?Y(this,bs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},bs=new WeakMap,Rn=new WeakMap,xa=new WeakMap,RS),e_=new xT;function yT(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var vT=oT;function bT(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=vT;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Lt=bT(),ya,$n,va,$S,wT=($S=class extends Yc{constructor(){super();Ee(this,ya,!0);Ee(this,$n);Ee(this,va);ve(this,va,t=>{if(!Xc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Y(this,$n)||this.setEventListener(Y(this,va))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,$n))==null||t.call(this),ve(this,$n,void 0))}setEventListener(t){var r;ve(this,va,t),(r=Y(this,$n))==null||r.call(this),ve(this,$n,t(this.setOnline.bind(this)))}setOnline(t){Y(this,ya)!==t&&(ve(this,ya,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Y(this,ya)}},ya=new WeakMap,$n=new WeakMap,va=new WeakMap,$S),Fl=new wT;function jT(e){return Math.min(1e3*2**e,3e4)}function t_(e){return(e??"online")==="online"?Fl.isOnline():!0}var gp=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function r_(e){let t=!1,r=0,n;const s=yT(),i=()=>s.status!=="pending",o=p=>{var g;if(!i()){const y=new gp(p);h(y),(g=e.onCancel)==null||g.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>e_.isFocused()&&(e.networkMode==="always"||Fl.isOnline())&&e.canRun(),d=()=>t_(e.networkMode)&&e.canRun(),f=p=>{i()||(n==null||n(),s.resolve(p))},h=p=>{i()||(n==null||n(),s.reject(p))},m=()=>new Promise(p=>{var g;n=y=>{(i()||u())&&p(y)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;n=void 0,i()||(p=e.onContinue)==null||p.call(e)}),x=()=>{if(i())return;let p;const g=r===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var N;if(i())return;const v=e.retry??(Xc?0:3),w=e.retryDelay??jT,j=typeof w=="function"?w(r,y):w,b=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(t||!b){h(y);return}r++,(N=e.onFail)==null||N.call(e,r,y),hT(j).then(()=>u()?void 0:m()).then(()=>{t?h(y):x()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():m().then(x),s)}}var ws,LS,n_=(LS=class{constructor(){Ee(this,ws)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cT(this.gcTime)&&ve(this,ws,hp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xc?1/0:300*1e3))}clearGcTimeout(){Y(this,ws)&&(hp.clearTimeout(Y(this,ws)),ve(this,ws,void 0))}},ws=new WeakMap,LS),js,ba,dr,Ns,vt,Ko,Ss,Sr,nn,qS,NT=(qS=class extends n_{constructor(t){super();Ee(this,Sr);Ee(this,js);Ee(this,ba);Ee(this,dr);Ee(this,Ns);Ee(this,vt);Ee(this,Ko);Ee(this,Ss);ve(this,Ss,!1),ve(this,Ko,t.defaultOptions),this.setOptions(t.options),this.observers=[],ve(this,Ns,t.client),ve(this,dr,Y(this,Ns).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ve(this,js,dy(this.options)),this.state=t.state??Y(this,js),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Y(this,vt))==null?void 0:t.promise}setOptions(t){if(this.options={...Y(this,Ko),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=dy(this.options);r.data!==void 0&&(this.setState(uy(r.data,r.dataUpdatedAt)),ve(this,js,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,dr).remove(this)}setData(t,r){const n=mT(this.state.data,t,this.options);return kt(this,Sr,nn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){kt(this,Sr,nn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=Y(this,vt))==null?void 0:n.promise;return(s=Y(this,vt))==null||s.cancel(t),r?r.then(Nr).catch(Nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,js))}isActive(){return this.observers.some(t=>dT(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>mp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!uT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,vt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,vt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Y(this,dr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Y(this,vt)&&(Y(this,Ss)?Y(this,vt).cancel({revert:!0}):Y(this,vt).cancelRetry()),this.scheduleGc()),Y(this,dr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||kt(this,Sr,nn).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,x,p,g,y,v,w;if(this.state.fetchStatus!=="idle"&&((c=Y(this,vt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,vt))return Y(this,vt).continueRetry(),Y(this,vt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(b=>b.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,s=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(ve(this,Ss,!0),n.signal)})},i=()=>{const j=ZS(this.options,r),N=(()=>{const _={client:Y(this,Ns),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return ve(this,Ss,!1),this.options.persister?this.options.persister(j,N,this):j(N)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,Ns),state:this.state,fetchFn:i};return s(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),ve(this,ba,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&kt(this,Sr,nn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ve(this,vt,r_({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof gp&&j.revert&&this.setState({...Y(this,ba),fetchStatus:"idle"}),n.abort()},onFail:(j,b)=>{kt(this,Sr,nn).call(this,{type:"failed",failureCount:j,error:b})},onPause:()=>{kt(this,Sr,nn).call(this,{type:"pause"})},onContinue:()=>{kt(this,Sr,nn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await Y(this,vt).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(h=Y(this,dr).config).onSuccess)==null||m.call(h,j,this),(p=(x=Y(this,dr).config).onSettled)==null||p.call(x,j,this.state.error,this),j}catch(j){if(j instanceof gp){if(j.silent)return Y(this,vt).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw kt(this,Sr,nn).call(this,{type:"error",error:j}),(y=(g=Y(this,dr).config).onError)==null||y.call(g,j,this),(w=(v=Y(this,dr).config).onSettled)==null||w.call(v,this.state.data,j,this),j}finally{this.scheduleGc()}}},js=new WeakMap,ba=new WeakMap,dr=new WeakMap,Ns=new WeakMap,vt=new WeakMap,Ko=new WeakMap,Ss=new WeakMap,Sr=new WeakSet,nn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ST(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...uy(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ve(this,ba,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Lt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Y(this,dr).notify({query:this,type:"updated",action:t})})},qS);function ST(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:t_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function uy(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function dy(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function fy(e){return{onFetch:(t,r)=>{var d,f,h,m,x;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=ZS(t.options,t.fetchOptions),v=async(w,j,b)=>{if(p)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const _=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:j,direction:b?"backward":"forward",meta:t.options.meta};return g(P),P})(),A=await y(_),{maxPages:O}=t.options,T=b?gT:pT;return{pages:T(w.pages,A,O),pageParams:T(w.pageParams,j,O)}};if(s&&i.length){const w=s==="backward",j=w?_T:hy,b={pages:i,pageParams:o},N=j(n,b);l=await v(b,N,w)}else{const w=e??i.length;do{const j=c===0?o[0]??n.initialPageParam:hy(n,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function hy(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function _T(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Yo,Lr,Rt,_s,qr,Cn,BS,AT=(BS=class extends n_{constructor(t){super();Ee(this,qr);Ee(this,Yo);Ee(this,Lr);Ee(this,Rt);Ee(this,_s);ve(this,Yo,t.client),this.mutationId=t.mutationId,ve(this,Rt,t.mutationCache),ve(this,Lr,[]),this.state=t.state||PT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Y(this,Lr).includes(t)||(Y(this,Lr).push(t),this.clearGcTimeout(),Y(this,Rt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ve(this,Lr,Y(this,Lr).filter(r=>r!==t)),this.scheduleGc(),Y(this,Rt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Y(this,Lr).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Rt).remove(this))}continue(){var t;return((t=Y(this,_s))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,m,x,p,g,y,v,w,j,b,N,_,A,O;const r=()=>{kt(this,qr,Cn).call(this,{type:"continue"})},n={client:Y(this,Yo),meta:this.options.meta,mutationKey:this.options.mutationKey};ve(this,_s,r_({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,P)=>{kt(this,qr,Cn).call(this,{type:"failed",failureCount:T,error:P})},onPause:()=>{kt(this,qr,Cn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Rt).canRun(this)}));const s=this.state.status==="pending",i=!Y(this,_s).canStart();try{if(s)r();else{kt(this,qr,Cn).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=Y(this,Rt).config).onMutate)==null?void 0:l.call(o,t,this,n));const P=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));P!==this.state.context&&kt(this,qr,Cn).call(this,{type:"pending",context:P,variables:t,isPaused:i})}const T=await Y(this,_s).start();return await((f=(d=Y(this,Rt).config).onSuccess)==null?void 0:f.call(d,T,t,this.state.context,this,n)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,T,t,this.state.context,n)),await((p=(x=Y(this,Rt).config).onSettled)==null?void 0:p.call(x,T,null,this.state.variables,this.state.context,this,n)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,T,null,t,this.state.context,n)),kt(this,qr,Cn).call(this,{type:"success",data:T}),T}catch(T){try{throw await((w=(v=Y(this,Rt).config).onError)==null?void 0:w.call(v,T,t,this.state.context,this,n)),await((b=(j=this.options).onError)==null?void 0:b.call(j,T,t,this.state.context,n)),await((_=(N=Y(this,Rt).config).onSettled)==null?void 0:_.call(N,void 0,T,this.state.variables,this.state.context,this,n)),await((O=(A=this.options).onSettled)==null?void 0:O.call(A,void 0,T,t,this.state.context,n)),T}finally{kt(this,qr,Cn).call(this,{type:"error",error:T})}}finally{Y(this,Rt).runNext(this)}}},Yo=new WeakMap,Lr=new WeakMap,Rt=new WeakMap,_s=new WeakMap,qr=new WeakSet,Cn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Lt.batch(()=>{Y(this,Lr).forEach(n=>{n.onMutationUpdate(t)}),Y(this,Rt).notify({mutation:this,type:"updated",action:t})})},BS);function PT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var an,_r,Xo,FS,OT=(FS=class extends Yc{constructor(t={}){super();Ee(this,an);Ee(this,_r);Ee(this,Xo);this.config=t,ve(this,an,new Set),ve(this,_r,new Map),ve(this,Xo,0)}build(t,r,n){const s=new AT({client:t,mutationCache:this,mutationId:++hl(this,Xo)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){Y(this,an).add(t);const r=gl(t);if(typeof r=="string"){const n=Y(this,_r).get(r);n?n.push(t):Y(this,_r).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Y(this,an).delete(t)){const r=gl(t);if(typeof r=="string"){const n=Y(this,_r).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&Y(this,_r).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=gl(t);if(typeof r=="string"){const n=Y(this,_r).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=gl(t);if(typeof r=="string"){const s=(n=Y(this,_r).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Lt.batch(()=>{Y(this,an).forEach(t=>{this.notify({type:"removed",mutation:t})}),Y(this,an).clear(),Y(this,_r).clear()})}getAll(){return Array.from(Y(this,an))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>oy(r,n))}findAll(t={}){return this.getAll().filter(r=>oy(t,r))}notify(t){Lt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Lt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Nr))))}},an=new WeakMap,_r=new WeakMap,Xo=new WeakMap,FS);function gl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Br,zS,kT=(zS=class extends Yc{constructor(t={}){super();Ee(this,Br);this.config=t,ve(this,Br,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??dx(s,r);let o=this.get(i);return o||(o=new NT({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Y(this,Br).has(t.queryHash)||(Y(this,Br).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Y(this,Br).get(t.queryHash);r&&(t.destroy(),r===t&&Y(this,Br).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Lt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Y(this,Br).get(t)}getAll(){return[...Y(this,Br).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>iy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>iy(t,n)):r}notify(t){Lt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Br=new WeakMap,zS),it,Ln,qn,wa,ja,Bn,Na,Sa,US,CT=(US=class{constructor(e={}){Ee(this,it);Ee(this,Ln);Ee(this,qn);Ee(this,wa);Ee(this,ja);Ee(this,Bn);Ee(this,Na);Ee(this,Sa);ve(this,it,e.queryCache||new kT),ve(this,Ln,e.mutationCache||new OT),ve(this,qn,e.defaultOptions||{}),ve(this,wa,new Map),ve(this,ja,new Map),ve(this,Bn,0)}mount(){hl(this,Bn)._++,Y(this,Bn)===1&&(ve(this,Na,e_.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,it).onFocus())})),ve(this,Sa,Fl.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,it).onOnline())})))}unmount(){var e,t;hl(this,Bn)._--,Y(this,Bn)===0&&((e=Y(this,Na))==null||e.call(this),ve(this,Na,void 0),(t=Y(this,Sa))==null||t.call(this),ve(this,Sa,void 0))}isFetching(e){return Y(this,it).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Y(this,Ln).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Y(this,it).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Y(this,it).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(mp(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Y(this,it).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=Y(this,it).get(n.queryHash),i=s==null?void 0:s.state.data,o=lT(t,i);if(o!==void 0)return Y(this,it).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Lt.batch(()=>Y(this,it).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Y(this,it).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Y(this,it);Lt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Y(this,it);return Lt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Lt.batch(()=>Y(this,it).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Nr).catch(Nr)}invalidateQueries(e,t={}){return Lt.batch(()=>(Y(this,it).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Lt.batch(()=>Y(this,it).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Nr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Nr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Y(this,it).build(this,t);return r.isStaleByTime(mp(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Nr).catch(Nr)}fetchInfiniteQuery(e){return e.behavior=fy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Nr).catch(Nr)}ensureInfiniteQueryData(e){return e.behavior=fy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Fl.isOnline()?Y(this,Ln).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,it)}getMutationCache(){return Y(this,Ln)}getDefaultOptions(){return Y(this,qn)}setDefaultOptions(e){ve(this,qn,e)}setQueryDefaults(e,t){Y(this,wa).set(ao(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Y(this,wa).values()],r={};return t.forEach(n=>{io(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Y(this,ja).set(ao(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Y(this,ja).values()],r={};return t.forEach(n=>{io(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Y(this,qn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=dx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===fx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Y(this,qn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Y(this,it).clear(),Y(this,Ln).clear()}},it=new WeakMap,Ln=new WeakMap,qn=new WeakMap,wa=new WeakMap,ja=new WeakMap,Bn=new WeakMap,Na=new WeakMap,Sa=new WeakMap,US),TT=S.createContext(void 0),ET=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(TT.Provider,{value:e,children:t}));function MT(){return new CT({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:(e,t)=>{if(t&&typeof t=="object"&&"status"in t){const r=t.status;if(r>=400&&r<500)return!1}return e<3},refetchOnWindowFocus:!1,refetchOnReconnect:!0},mutations:{retry:!1}}})}function IT({children:e}){const[t]=S.useState(()=>MT());return a.jsxs(ET,{client:t,children:[e,!1]})}const DT=()=>{const[e,t]=S.useState({isInstallable:!1,isInstalled:!1,isOnline:navigator.onLine,showUpdatePrompt:!1,isUpdateAvailable:!1}),[r,n]=S.useState(null),[s,i]=S.useState(null),o=S.useCallback(()=>{const y=window.matchMedia("(display-mode: standalone)").matches,v=window.navigator.standalone===!0,w=y||v;return t(j=>({...j,isInstalled:w})),w},[]),l=S.useCallback(()=>{const y=v=>{v.preventDefault(),n(v),t(w=>({...w,isInstallable:!0}))};return window.addEventListener("beforeinstallprompt",y),()=>{window.removeEventListener("beforeinstallprompt",y)}},[]),c=S.useCallback(async()=>{if(r)try{const y=await r.prompt();console.log("Install prompt result:",y),y.outcome==="accepted"&&t(v=>({...v,isInstalled:!0,isInstallable:!1})),n(null)}catch(y){console.error("Error installing app:",y)}},[r]),u=S.useCallback(()=>{t(y=>({...y,isOnline:!0}))},[]),d=S.useCallback(()=>{t(y=>({...y,isOnline:!1}))},[]),f=S.useCallback(async()=>{if("serviceWorker"in navigator)try{const y=await navigator.serviceWorker.register("/sw.js",{scope:"/"});i(y),console.log("Service Worker registered:",y),y.addEventListener("updatefound",()=>{const v=y.installing;v&&v.addEventListener("statechange",()=>{v.state==="installed"&&navigator.serviceWorker.controller&&t(w=>({...w,showUpdatePrompt:!0,isUpdateAvailable:!0}))})}),navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()})}catch(y){console.error("Service Worker registration failed:",y)}},[]),h=S.useCallback(()=>{s!=null&&s.waiting&&(s.waiting.postMessage({type:"SKIP_WAITING"}),t(y=>({...y,showUpdatePrompt:!1,isUpdateAvailable:!1})))},[s]),m=S.useCallback(y=>{const{data:v}=y;if(v&&typeof v=="object")switch(v.type){case"UPDATE_AVAILABLE":console.log("Auto-update available, reloading..."),window.location.reload();break;case"UPDATE_STATUS":t(w=>({...w,isUpdateAvailable:v.isUpdateAvailable}));break}},[]),x=S.useCallback(()=>{t(y=>({...y,showUpdatePrompt:!1}))},[]),p=S.useCallback(()=>{var y;s&&((y=s.active)==null||y.postMessage({type:"CHECK_UPDATES"}))},[s]),g=S.useCallback(async()=>s!=null&&s.active?new Promise(y=>{var w;const v=new MessageChannel;v.port1.onmessage=j=>{y(j.data.version)},(w=s.active)==null||w.postMessage({type:"GET_UPDATE_STATUS"},[v.port2])}):null,[s]);return S.useEffect(()=>{var v;o();const y=l();return window.addEventListener("online",u),window.addEventListener("offline",d),f(),(v=navigator.serviceWorker)==null||v.addEventListener("message",m),()=>{var w;y(),window.removeEventListener("online",u),window.removeEventListener("offline",d),(w=navigator.serviceWorker)==null||w.removeEventListener("message",m)}},[o,l,u,d,f,m]),{...e,installApp:c,updateApp:h,dismissUpdate:x,registerServiceWorker:f,forceUpdateCheck:p,getCurrentVersion:g}},RT=({onInstall:e,onDismiss:t})=>{const[r,n]=S.useState(!1);S.useEffect(()=>{const o=window.matchMedia("(display-mode: standalone)").matches,l=window.navigator.standalone===!0,c=localStorage.getItem("pwa-install-dismissed")==="true";!o&&!l&&!c&&n(!0)},[]);const s=()=>{e&&e(),n(!1)},i=()=>{localStorage.setItem("pwa-install-dismissed","true"),t&&t(),n(!1)};return r?a.jsx("div",{className:"fixed bottom-4 right-4 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-sm z-50",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(ln,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Install App"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Install EduQuiz Platform for quick access and offline use."}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:s,className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded text-sm font-medium hover:bg-blue-700 transition",children:"Install"}),a.jsx("button",{onClick:i,className:"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 transition",children:"Later"})]})]}),a.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 transition",children:a.jsx(jn,{className:"h-5 w-5"})})]})}):null},$T=({onNetworkChange:e})=>{const[t,r]=S.useState(navigator.onLine),[n,s]=S.useState(!1);return S.useEffect(()=>{const i=()=>{r(!0),s(!0),e==null||e(!0),setTimeout(()=>s(!1),3e3)},o=()=>{r(!1),s(!0),e==null||e(!1)};return window.addEventListener("online",i),window.addEventListener("offline",o),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",o)}},[e]),n?a.jsx("div",{className:`fixed top-20 left-1/2 transform -translate-x-1/2 px-4 py-2 rounded-lg shadow-lg z-50 ${t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[t?a.jsx(sT,{className:"h-4 w-4"}):a.jsx(nT,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:t?"Back online":"You're offline"})]})}):null},LT=({onUpdate:e,onDismiss:t})=>{const[r,n]=S.useState(!1),[s,i]=S.useState(null);S.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistration().then(c=>{c&&(i(c),c.addEventListener("updatefound",()=>{const u=c.installing;u&&u.addEventListener("statechange",()=>{u.state==="installed"&&navigator.serviceWorker.controller&&n(!0)})}))})},[]);const o=async()=>{s!=null&&s.waiting&&(s.waiting.postMessage({type:"SKIP_WAITING"}),e&&e()),n(!1)},l=()=>{t&&t(),n(!1)};return r?a.jsx("div",{className:"fixed bottom-4 left-4 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-sm z-50",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Vt,{className:"h-6 w-6 text-green-600 flex-shrink-0 mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Update Available"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"A new version of the app is ready to install."}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:o,className:"flex-1 bg-green-600 text-white px-3 py-2 rounded text-sm font-medium hover:bg-green-700 transition",children:"Update"}),a.jsx("button",{onClick:l,className:"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 transition",children:"Later"})]})]})]})}):null},qT=({onSubscribe:e,onDismiss:t})=>{const[r,n]=S.useState(!1),[s,i]=S.useState(Notification.permission);S.useEffect(()=>{const c=localStorage.getItem("push-notification-dismissed")==="true";s==="default"&&!c&&setTimeout(()=>n(!0),1e4)},[s]);const o=async()=>{try{const c=await Notification.requestPermission();i(c),c==="granted"&&(e&&e(),localStorage.setItem("push-notification-dismissed","true")),n(!1)}catch(c){console.error("Error requesting notification permission:",c)}},l=()=>{localStorage.setItem("push-notification-dismissed","true"),t&&t(),n(!1)};return!r||s!=="default"?null:a.jsx("div",{className:"fixed top-20 right-4 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-sm z-50",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Aa,{className:"h-6 w-6 text-purple-600 flex-shrink-0 mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Enable Notifications"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Get notified about new assignments, grades, and announcements."}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:o,className:"flex-1 bg-purple-600 text-white px-3 py-2 rounded text-sm font-medium hover:bg-purple-700 transition",children:"Enable"}),a.jsx("button",{onClick:l,className:"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 transition",children:"No Thanks"})]})]})]})})},BT=({children:e})=>{const{isInstallable:t,isInstalled:r,showUpdatePrompt:n,installApp:s,updateApp:i,dismissUpdate:o,registerServiceWorker:l}=DT();return k.useEffect(()=>{l()},[l]),a.jsxs(a.Fragment,{children:[e,t&&!r&&a.jsx(RT,{onInstall:s,onDismiss:()=>{}}),a.jsx($T,{onNetworkChange:c=>{}}),n&&a.jsx(LT,{onUpdate:i,onDismiss:o}),a.jsx(qT,{onSubscribe:()=>{},onDismiss:()=>{}})]})};var FT=e=>{switch(e){case"success":return VT;case"info":return HT;case"warning":return WT;case"error":return GT;default:return null}},zT=Array(12).fill(0),UT=({visible:e,className:t})=>k.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},k.createElement("div",{className:"sonner-spinner"},zT.map((r,n)=>k.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),VT=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),WT=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),HT=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),GT=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),KT=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},k.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),k.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),YT=()=>{let[e,t]=k.useState(document.hidden);return k.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},xp=1,XT=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:xp++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],k.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(JT(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||xp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},zt=new XT,QT=(e,t)=>{let r=(t==null?void 0:t.id)||xp++;return zt.addToast({title:e,...t,id:r}),r},JT=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",ZT=QT,eE=()=>zt.toasts,tE=()=>zt.getActiveToasts();Object.assign(ZT,{success:zt.success,info:zt.info,warning:zt.warning,error:zt.error,custom:zt.custom,message:zt.message,promise:zt.promise,dismiss:zt.dismiss,loading:zt.loading},{getHistory:eE,getToasts:tE});function rE(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}rE(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xl(e){return e.label!==void 0}var nE=3,sE="32px",aE="16px",my=4e3,iE=356,oE=14,lE=20,cE=200;function br(...e){return e.filter(Boolean).join(" ")}function uE(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var dE=e=>{var t,r,n,s,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:x,interacting:p,setHeights:g,visibleToasts:y,heights:v,index:w,toasts:j,expanded:b,removeToast:N,defaultRichColors:_,closeButton:A,style:O,cancelButtonStyle:T,actionButtonStyle:P,className:C="",descriptionClassName:E="",duration:M,position:$,gap:q,loadingIcon:D,expandByDefault:z,classNames:V,icons:ee,closeButtonAriaLabel:ae="Close toast",pauseWhenPageIsHidden:W}=e,[Z,ce]=k.useState(null),[X,I]=k.useState(null),[B,J]=k.useState(!1),[G,re]=k.useState(!1),[R,L]=k.useState(!1),[Q,ie]=k.useState(!1),[oe,de]=k.useState(!1),[Se,Ie]=k.useState(0),[qe,nt]=k.useState(0),et=k.useRef(m.duration||M||my),_t=k.useRef(null),Pe=k.useRef(null),Ir=w===0,vr=w+1<=y,le=m.type,he=m.dismissible!==!1,Be=m.className||"",Oe=m.descriptionClassName||"",pe=k.useMemo(()=>v.findIndex(we=>we.toastId===m.id)||0,[v,m.id]),ne=k.useMemo(()=>{var we;return(we=m.closeButton)!=null?we:A},[m.closeButton,A]),fe=k.useMemo(()=>m.duration||M||my,[m.duration,M]),Ce=k.useRef(0),je=k.useRef(0),Ke=k.useRef(0),Me=k.useRef(null),[Ht,Ws]=$.split("-"),ar=k.useMemo(()=>v.reduce((we,Re,Ve)=>Ve>=pe?we:we+Re.height,0),[v,pe]),ss=YT(),Hs=m.invert||h,Gs=le==="loading";je.current=k.useMemo(()=>pe*q+ar,[pe,ar]),k.useEffect(()=>{et.current=fe},[fe]),k.useEffect(()=>{J(!0)},[]),k.useEffect(()=>{let we=Pe.current;if(we){let Re=we.getBoundingClientRect().height;return nt(Re),g(Ve=>[{toastId:m.id,height:Re,position:m.position},...Ve]),()=>g(Ve=>Ve.filter(Gt=>Gt.toastId!==m.id))}},[g,m.id]),k.useLayoutEffect(()=>{if(!B)return;let we=Pe.current,Re=we.style.height;we.style.height="auto";let Ve=we.getBoundingClientRect().height;we.style.height=Re,nt(Ve),g(Gt=>Gt.find(Kt=>Kt.toastId===m.id)?Gt.map(Kt=>Kt.toastId===m.id?{...Kt,height:Ve}:Kt):[{toastId:m.id,height:Ve,position:m.position},...Gt])},[B,m.title,m.description,g,m.id]);let Dr=k.useCallback(()=>{re(!0),Ie(je.current),g(we=>we.filter(Re=>Re.toastId!==m.id)),setTimeout(()=>{N(m)},cE)},[m,N,g,je]);k.useEffect(()=>{if(m.promise&&le==="loading"||m.duration===1/0||m.type==="loading")return;let we;return b||p||W&&ss?(()=>{if(Ke.current<Ce.current){let Re=new Date().getTime()-Ce.current;et.current=et.current-Re}Ke.current=new Date().getTime()})():et.current!==1/0&&(Ce.current=new Date().getTime(),we=setTimeout(()=>{var Re;(Re=m.onAutoClose)==null||Re.call(m,m),Dr()},et.current)),()=>clearTimeout(we)},[b,p,m,le,W,ss,Dr]),k.useEffect(()=>{m.delete&&Dr()},[Dr,m.delete]);function dl(){var we,Re,Ve;return ee!=null&&ee.loading?k.createElement("div",{className:br(V==null?void 0:V.loader,(we=m==null?void 0:m.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":le==="loading"},ee.loading):D?k.createElement("div",{className:br(V==null?void 0:V.loader,(Re=m==null?void 0:m.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":le==="loading"},D):k.createElement(UT,{className:br(V==null?void 0:V.loader,(Ve=m==null?void 0:m.classNames)==null?void 0:Ve.loader),visible:le==="loading"})}return k.createElement("li",{tabIndex:0,ref:Pe,className:br(C,Be,V==null?void 0:V.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,V==null?void 0:V.default,V==null?void 0:V[le],(r=m==null?void 0:m.classNames)==null?void 0:r[le]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:_,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":B,"data-promise":!!m.promise,"data-swiped":oe,"data-removed":G,"data-visible":vr,"data-y-position":Ht,"data-x-position":Ws,"data-index":w,"data-front":Ir,"data-swiping":R,"data-dismissible":he,"data-type":le,"data-invert":Hs,"data-swipe-out":Q,"data-swipe-direction":X,"data-expanded":!!(b||z&&B),style:{"--index":w,"--toasts-before":w,"--z-index":j.length-w,"--offset":`${G?Se:je.current}px`,"--initial-height":z?"auto":`${qe}px`,...O,...m.style},onDragEnd:()=>{L(!1),ce(null),Me.current=null},onPointerDown:we=>{Gs||!he||(_t.current=new Date,Ie(je.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(L(!0),Me.current={x:we.clientX,y:we.clientY}))},onPointerUp:()=>{var we,Re,Ve,Gt;if(Q||!he)return;Me.current=null;let Kt=Number(((we=Pe.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Rr=Number(((Re=Pe.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),F=new Date().getTime()-((Ve=_t.current)==null?void 0:Ve.getTime()),H=Z==="x"?Kt:Rr,_e=Math.abs(H)/F;if(Math.abs(H)>=lE||_e>.11){Ie(je.current),(Gt=m.onDismiss)==null||Gt.call(m,m),I(Z==="x"?Kt>0?"right":"left":Rr>0?"down":"up"),Dr(),ie(!0),de(!1);return}L(!1),ce(null)},onPointerMove:we=>{var Re,Ve,Gt,Kt;if(!Me.current||!he||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;let Rr=we.clientY-Me.current.y,F=we.clientX-Me.current.x,H=(Ve=e.swipeDirections)!=null?Ve:uE($);!Z&&(Math.abs(F)>1||Math.abs(Rr)>1)&&ce(Math.abs(F)>Math.abs(Rr)?"x":"y");let _e={x:0,y:0};Z==="y"?(H.includes("top")||H.includes("bottom"))&&(H.includes("top")&&Rr<0||H.includes("bottom")&&Rr>0)&&(_e.y=Rr):Z==="x"&&(H.includes("left")||H.includes("right"))&&(H.includes("left")&&F<0||H.includes("right")&&F>0)&&(_e.x=F),(Math.abs(_e.x)>0||Math.abs(_e.y)>0)&&de(!0),(Gt=Pe.current)==null||Gt.style.setProperty("--swipe-amount-x",`${_e.x}px`),(Kt=Pe.current)==null||Kt.style.setProperty("--swipe-amount-y",`${_e.y}px`)}},ne&&!m.jsx?k.createElement("button",{"aria-label":ae,"data-disabled":Gs,"data-close-button":!0,onClick:Gs||!he?()=>{}:()=>{var we;Dr(),(we=m.onDismiss)==null||we.call(m,m)},className:br(V==null?void 0:V.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=ee==null?void 0:ee.close)!=null?i:KT):null,m.jsx||S.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:k.createElement(k.Fragment,null,le||m.icon||m.promise?k.createElement("div",{"data-icon":"",className:br(V==null?void 0:V.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||dl():null,m.type!=="loading"?m.icon||(ee==null?void 0:ee[le])||FT(le):null):null,k.createElement("div",{"data-content":"",className:br(V==null?void 0:V.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},k.createElement("div",{"data-title":"",className:br(V==null?void 0:V.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?k.createElement("div",{"data-description":"",className:br(E,Oe,V==null?void 0:V.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),S.isValidElement(m.cancel)?m.cancel:m.cancel&&xl(m.cancel)?k.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:we=>{var Re,Ve;xl(m.cancel)&&he&&((Ve=(Re=m.cancel).onClick)==null||Ve.call(Re,we),Dr())},className:br(V==null?void 0:V.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,S.isValidElement(m.action)?m.action:m.action&&xl(m.action)?k.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||P,onClick:we=>{var Re,Ve;xl(m.action)&&((Ve=(Re=m.action).onClick)==null||Ve.call(Re,we),!we.defaultPrevented&&Dr())},className:br(V==null?void 0:V.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function py(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function fE(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?aE:sE;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var hE=S.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:x=nE,toastOptions:p,dir:g=py(),gap:y=oE,loadingIcon:v,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:b}=e,[N,_]=k.useState([]),A=k.useMemo(()=>Array.from(new Set([n].concat(N.filter(W=>W.position).map(W=>W.position)))),[N,n]),[O,T]=k.useState([]),[P,C]=k.useState(!1),[E,M]=k.useState(!1),[$,q]=k.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=k.useRef(null),z=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=k.useRef(null),ee=k.useRef(!1),ae=k.useCallback(W=>{_(Z=>{var ce;return(ce=Z.find(X=>X.id===W.id))!=null&&ce.delete||zt.dismiss(W.id),Z.filter(({id:X})=>X!==W.id)})},[]);return k.useEffect(()=>zt.subscribe(W=>{if(W.dismiss){_(Z=>Z.map(ce=>ce.id===W.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{SC.flushSync(()=>{_(Z=>{let ce=Z.findIndex(X=>X.id===W.id);return ce!==-1?[...Z.slice(0,ce),{...Z[ce],...W},...Z.slice(ce+1)]:[W,...Z]})})})}),[]),k.useEffect(()=>{if(d!=="system"){q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:Z})=>{q(Z?"dark":"light")})}catch{W.addListener(({matches:ce})=>{try{q(ce?"dark":"light")}catch(X){console.error(X)}})}},[d]),k.useEffect(()=>{N.length<=1&&C(!1)},[N]),k.useEffect(()=>{let W=Z=>{var ce,X;s.every(I=>Z[I]||Z.code===I)&&(C(!0),(ce=D.current)==null||ce.focus()),Z.code==="Escape"&&(document.activeElement===D.current||(X=D.current)!=null&&X.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[s]),k.useEffect(()=>{if(D.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,ee.current=!1)}},[D.current]),k.createElement("section",{ref:t,"aria-label":`${j} ${z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((W,Z)=>{var ce;let[X,I]=W.split("-");return N.length?k.createElement("ol",{key:W,dir:g==="auto"?py():g,tabIndex:-1,ref:D,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":X,"data-lifted":P&&N.length>1&&!i,"data-x-position":I,style:{"--front-toast-height":`${((ce=O[0])==null?void 0:ce.height)||0}px`,"--width":`${iE}px`,"--gap":`${y}px`,...m,...fE(c,u)},onBlur:B=>{ee.current&&!B.currentTarget.contains(B.relatedTarget)&&(ee.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||ee.current||(ee.current=!0,V.current=B.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{E||C(!1)},onDragEnd:()=>C(!1),onPointerDown:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},N.filter(B=>!B.position&&Z===0||B.position===W).map((B,J)=>{var G,re;return k.createElement(dE,{key:B.id,icons:w,index:J,toast:B,defaultRichColors:f,duration:(G=p==null?void 0:p.duration)!=null?G:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:x,closeButton:(re=p==null?void 0:p.closeButton)!=null?re:o,interacting:E,position:W,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ae,toasts:N.filter(R=>R.position==B.position),heights:O.filter(R=>R.position==B.position),setHeights:T,expandByDefault:i,gap:y,loadingIcon:v,expanded:P,pauseWhenPageIsHidden:b,swipeDirections:e.swipeDirections})})):null}))});const mE="https://wfolyzksvsfvshxxcjhs.supabase.co",pE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indmb2x5emtzdnNmdnNoeHhjamhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMDExMjUsImV4cCI6MjA3Nzc3NzEyNX0.7EBbLDCG5MKN1d0BSWzq4pJqFP4Y5KFlbBRgOjdK5OU",U=CC(mE,pE),s_=S.createContext(void 0);function gE({children:e}){const[t,r]=S.useState(null),[n,s]=S.useState(null),[i,o]=S.useState(!0),[l,c]=S.useState(!1);S.useEffect(()=>{async function w(){o(!0);try{const{data:{user:b}}=await U.auth.getUser();if(r(b),b){const{data:N}=await U.from("profiles").select("*").eq("id",b.id).maybeSingle();s(N)}}finally{o(!1)}}w();const{data:{subscription:j}}=U.auth.onAuthStateChange((b,N)=>{r((N==null?void 0:N.user)||null),N!=null&&N.user?U.from("profiles").select("*").eq("id",N.user.id).maybeSingle().then(({data:_})=>s(_)):s(null)});return()=>j.unsubscribe()},[]);async function u(w){try{const{data:j,error:b}=await U.from("password_reset_requests").select("status, temp_password, temp_password_expires_at, temp_password_used, admin_notes, created_at, temp_password_viewed_at").eq("user_email",w).order("created_at",{ascending:!1}).limit(1).maybeSingle();return b&&b.code!=="PGRST116"?(console.error("Error checking password reset status:",b),{hasApprovedReset:!1}):j&&j.status==="approved"&&j.temp_password&&!j.temp_password_used&&new Date(j.temp_password_expires_at)>new Date?{hasApprovedReset:!0,tempPassword:j.temp_password,expiresAt:j.temp_password_expires_at,status:j.status,tempPasswordViewed:j.temp_password_viewed_at}:{hasApprovedReset:!1}}catch(j){return console.error("Error checking password reset info:",j),{hasApprovedReset:!1}}}async function d(w){try{await U.from("password_reset_requests").update({temp_password_viewed_at:new Date().toISOString()}).eq("user_email",w).eq("status","approved").is("temp_password_viewed_at",null)}catch(j){console.error("Error marking temp password as viewed:",j)}}async function f(w,j){const b=await u(w);if(b.hasApprovedReset&&b.tempPassword)if(j===b.tempPassword){const{error:_}=await U.auth.signInWithPassword({email:w,password:b.tempPassword});if(_)throw _.message.includes("Invalid login credentials")?new Error("INVALID_TEMP_PASSWORD"):_;return}else{if(j==="TEMP_PASSWORD_INTENT")throw new Error("SHOW_TEMP_PASSWORD");{const{error:_}=await U.auth.signInWithPassword({email:w,password:j});if(_)throw _;return}}const{error:N}=await U.auth.signInWithPassword({email:w,password:j});if(N)throw N}async function h(w,j,b,N){const{error:_}=await U.auth.signUp({email:w,password:j,options:{data:{full_name:b,role:N}}});if(_)throw _}async function m(){const{error:w}=await U.auth.signOut();if(w)throw w}async function x(w){const{error:j}=await U.auth.resetPasswordForEmail(w,{redirectTo:`${window.location.origin}/reset-password`});if(j)throw j}async function p(){var w;if(!t){c(!1);return}try{const{data:j,error:b}=await U.functions.invoke("password-reset-session/check-status");if(b){c(!1);return}(w=j==null?void 0:j.data)!=null&&w.requires_password_change?c(!0):c(!1)}catch{c(!1)}}async function g(w,j,b){try{if(!t)throw new Error("User must be logged in to change password");const N={newPassword:w,sessionToken:b||void 0};j&&(N.currentPassword=j);const{data:_,error:A}=await U.functions.invoke("password-reset-session/change-password",{body:N});if(A)throw new Error(A.message||"Failed to change password");if(_!=null&&_.error)throw new Error(_.error.message||"Failed to change password");return c(!1),{success:!0,message:(_==null?void 0:_.message)||"Password changed successfully"}}catch(N){return{success:!1,message:N.message||"Failed to change password"}}}async function y(){if(!t)return{hasTempPassword:!1};try{const{data:w,error:j}=await U.from("password_reset_requests").select(`
          temp_password,
          temp_password_expires_at,
          temp_password_used,
          approved_at
        `).eq("user_id",t.id).eq("status","approved").eq("temp_password_used",!1).order("approved_at",{ascending:!1}).limit(1).single();return j||!w?{hasTempPassword:!1}:new Date(w.temp_password_expires_at)<new Date?{hasTempPassword:!1}:(c(!0),{hasTempPassword:!0,password:w.temp_password,expiresAt:w.temp_password_expires_at})}catch(w){return console.error("Error checking for temporary password:",w),{hasTempPassword:!1}}}async function v(w,j){try{const b={ipAddress:null,userAgent:navigator.userAgent,timestamp:new Date().toISOString()},{data:N,error:_}=await U.functions.invoke("password-reset-request",{body:{email:w,reason:j||void 0,requestDetails:b}});if(_)throw new Error(_.message||"Failed to submit password reset request");if(N!=null&&N.error)throw new Error(N.error.message||"Failed to submit password reset request");return{success:!0,message:(N==null?void 0:N.message)||"Password reset request submitted successfully"}}catch(b){return{success:!1,message:b.message||"Failed to submit password reset request"}}}return a.jsx(s_.Provider,{value:{user:t,profile:n,loading:i,signIn:f,signUp:h,signOut:m,resetPassword:x,hasTemporaryPassword:l,checkPasswordResetStatus:p,requestPasswordReset:v,changePasswordAfterReset:g,checkForTemporaryPassword:y,getPasswordResetInfo:u,markTempPasswordAsViewed:d},children:e})}function Ze(){const e=S.useContext(s_);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function xE(){const{user:e,profile:t,signOut:r}=Ze(),[n,s]=S.useState(!1),i=Xn(),o=()=>s(!1),l=i.pathname.includes("/dashboard")||i.pathname.includes("/achievements")||i.pathname.includes("/bookmarks")||i.pathname.includes("/resources")||i.pathname.includes("/assignments/");return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[a.jsxs("nav",{className:"bg-white shadow-md border-b border-slate-200 sticky top-0 z-50",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs(Te,{to:"/",className:"flex items-center space-x-2 flex-shrink-0",onClick:o,children:[a.jsx(Jo,{className:"h-7 w-7 sm:h-8 sm:w-8 text-blue-600"}),a.jsx("span",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"EduQuiz Platform"})]}),a.jsxs("div",{className:"hidden lg:flex items-center space-x-6",children:[a.jsx(Te,{to:"/",className:"text-slate-700 hover:text-blue-600 transition font-medium",children:"Quiz Challenge"}),a.jsxs(Te,{to:"/courses",className:"text-slate-700 hover:text-blue-600 transition font-medium flex items-center space-x-1",children:[a.jsx(tt,{className:"h-4 w-4"}),a.jsx("span",{children:"Courses"})]}),e&&t?a.jsxs(a.Fragment,{children:[t.role==="student"&&a.jsxs(Te,{to:"/student/dashboard",className:"text-slate-700 hover:text-blue-600 transition font-medium flex items-center space-x-1",children:[a.jsx(Ks,{className:"h-4 w-4"}),a.jsx("span",{children:"My Dashboard"})]}),t.role==="teacher"&&a.jsxs(Te,{to:"/teacher/dashboard",className:"text-slate-700 hover:text-blue-600 transition font-medium flex items-center space-x-1",children:[a.jsx(Ks,{className:"h-4 w-4"}),a.jsx("span",{children:"Teacher Dashboard"})]}),t.role==="admin"&&a.jsxs(Te,{to:"/admin/dashboard",className:"text-slate-700 hover:text-blue-600 transition font-medium flex items-center space-x-1",children:[a.jsx(Ks,{className:"h-4 w-4"}),a.jsx("span",{children:"Admin Panel"})]}),a.jsxs("div",{className:"flex items-center space-x-3 border-l border-slate-200 pl-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kr,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:t.full_name||t.email}),a.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full capitalize",children:t.role})]}),a.jsxs("button",{onClick:()=>r(),className:"flex items-center space-x-1 text-slate-700 hover:text-red-600 transition",children:[a.jsx(Oa,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:"Logout"})]})]})]}):a.jsxs(Te,{to:"/login",className:"flex items-center space-x-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:[a.jsx(Bi,{className:"h-4 w-4"}),a.jsx("span",{children:"Login"})]})]}),l&&a.jsx("button",{onClick:()=>s(!n),className:"lg:hidden p-2 rounded-lg hover:bg-slate-100 transition","aria-label":"Toggle menu",children:n?a.jsx(jn,{className:"h-6 w-6 text-slate-700"}):a.jsx(KS,{className:"h-6 w-6 text-slate-700"})})]})}),n&&l&&a.jsx("div",{className:"lg:hidden border-t border-slate-200 bg-white",children:a.jsxs("div",{className:"px-4 py-3 space-y-3",children:[a.jsx(Te,{to:"/",onClick:o,className:"block py-2 px-3 text-slate-700 hover:bg-slate-100 rounded-lg font-medium",children:"Quiz Challenge"}),a.jsxs(Te,{to:"/courses",onClick:o,className:"flex items-center space-x-2 py-2 px-3 text-slate-700 hover:bg-slate-100 rounded-lg font-medium",children:[a.jsx(tt,{className:"h-5 w-5"}),a.jsx("span",{children:"Courses"})]}),e&&t?a.jsxs(a.Fragment,{children:[t.role==="student"&&a.jsxs(Te,{to:"/student/dashboard",onClick:o,className:"flex items-center space-x-2 py-2 px-3 text-slate-700 hover:bg-slate-100 rounded-lg font-medium",children:[a.jsx(Ks,{className:"h-5 w-5"}),a.jsx("span",{children:"My Dashboard"})]}),t.role==="teacher"&&a.jsxs(Te,{to:"/teacher/dashboard",onClick:o,className:"flex items-center space-x-2 py-2 px-3 text-slate-700 hover:bg-slate-100 rounded-lg font-medium",children:[a.jsx(Ks,{className:"h-5 w-5"}),a.jsx("span",{children:"Teacher Dashboard"})]}),t.role==="admin"&&a.jsxs(Te,{to:"/admin/dashboard",onClick:o,className:"flex items-center space-x-2 py-2 px-3 text-slate-700 hover:bg-slate-100 rounded-lg font-medium",children:[a.jsx(Ks,{className:"h-5 w-5"}),a.jsx("span",{children:"Admin Panel"})]}),a.jsxs("div",{className:"border-t border-slate-200 pt-3 mt-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 py-2 px-3 bg-slate-50 rounded-lg mb-2",children:[a.jsx(Kr,{className:"h-5 w-5 text-slate-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-700",children:t.full_name||t.email}),a.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full capitalize inline-block mt-1",children:t.role})]})]}),a.jsxs("button",{onClick:()=>{r(),o()},className:"w-full flex items-center space-x-2 py-2 px-3 text-red-600 hover:bg-red-50 rounded-lg font-medium",children:[a.jsx(Oa,{className:"h-5 w-5"}),a.jsx("span",{children:"Logout"})]})]})]}):a.jsxs(Te,{to:"/login",onClick:o,className:"flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition font-medium",children:[a.jsx(Bi,{className:"h-5 w-5"}),a.jsx("span",{children:"Login"})]})]})})]}),a.jsx("main",{children:a.jsx(_C,{})}),a.jsx("footer",{className:"bg-slate-900 text-slate-300 py-6 sm:py-8 mt-auto",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:a.jsx("p",{className:"text-sm sm:text-base",children:"2025 EduQuiz Platform. All rights reserved."})})})]})}const a_=S.createContext({});function yE(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const hx=S.createContext(null),i_=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function vE(e=!0){const t=S.useContext(hx);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=S.useId();S.useEffect(()=>{e&&s(i)},[e]);const o=S.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const mx=typeof window<"u",bE=mx?S.useLayoutEffect:S.useEffect,er=e=>e;let o_=er;function px(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ca=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},fn=e=>e*1e3,hn=e=>e/1e3,wE={useManualTiming:!1};function jE(e){let t=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const m=f&&n?t:r;return d&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(o=u,n){s=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,s&&(s=!1,c.process(u))}};return c}const yl=["read","resolveKeyframes","update","preRender","render","postRender"],NE=40;function l_(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=yl.reduce((y,v)=>(y[v]=jE(i),y),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,m=()=>{const y=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(y-s.timestamp,NE),1),s.timestamp=y,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(m))},x=()=>{r=!0,n=!0,s.isProcessing||e(m)};return{schedule:yl.reduce((y,v)=>{const w=o[v];return y[v]=(j,b=!1,N=!1)=>(r||x(),w.schedule(j,b,N)),y},{}),cancel:y=>{for(let v=0;v<yl.length;v++)o[yl[v]].cancel(y)},state:s,steps:o}}const{schedule:Je,cancel:Wn,state:Pt,steps:Fu}=l_(typeof requestAnimationFrame<"u"?requestAnimationFrame:er,!0),c_=S.createContext({strict:!1}),gy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ta={};for(const e in gy)Ta[e]={isEnabled:t=>gy[e].some(r=>!!t[r])};function SE(e){for(const t in e)Ta[t]={...Ta[t],...e[t]}}const _E=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_E.has(e)}let u_=e=>!zl(e);function AE(e){e&&(u_=t=>t.startsWith("on")?!zl(t):e(t))}try{AE(require("@emotion/is-prop-valid").default)}catch{}function PE(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(u_(s)||r===!0&&zl(s)||!t&&!zl(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function OE(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Qc=S.createContext({});function oo(e){return typeof e=="string"||Array.isArray(e)}function Jc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const gx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xx=["initial",...gx];function Zc(e){return Jc(e.animate)||xx.some(t=>oo(e[t]))}function d_(e){return!!(Zc(e)||e.variants)}function kE(e,t){if(Zc(e)){const{initial:r,animate:n}=e;return{initial:r===!1||oo(r)?r:void 0,animate:oo(n)?n:void 0}}return e.inherit!==!1?t:{}}function CE(e){const{initial:t,animate:r}=kE(e,S.useContext(Qc));return S.useMemo(()=>({initial:t,animate:r}),[xy(t),xy(r)])}function xy(e){return Array.isArray(e)?e.join(" "):e}const TE=Symbol.for("motionComponentSymbol");function Zs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function EE(e,t,r){return S.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Zs(r)&&(r.current=n))},[t])}const yx=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ME="framerAppearId",f_="data-"+yx(ME),{schedule:vx}=l_(queueMicrotask,!1),h_=S.createContext({});function IE(e,t,r,n,s){var i,o;const{visualElement:l}=S.useContext(Qc),c=S.useContext(c_),u=S.useContext(hx),d=S.useContext(i_).reducedMotion,f=S.useRef(null);n=n||c.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,m=S.useContext(h_);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&DE(f.current,r,s,m);const x=S.useRef(!1);S.useInsertionEffect(()=>{h&&x.current&&h.update(r,u)});const p=r[f_],g=S.useRef(!!p&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,p))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,p)));return bE(()=>{h&&(x.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),vx.render(h.render),g.current&&h.animationState&&h.animationState.animateChanges())}),S.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,p)}),g.current=!1))}),h}function DE(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:m_(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Zs(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function m_(e){if(e)return e.options.allowProjection!==!1?e.projection:m_(e.parent)}function RE({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){var i,o;e&&SE(e);function l(u,d){let f;const h={...S.useContext(i_),...u,layoutId:$E(u)},{isStatic:m}=h,x=CE(u),p=n(u,m);if(!m&&mx){LE();const g=qE(h);f=g.MeasureLayout,x.visualElement=IE(s,p,h,t,g.ProjectionNode)}return a.jsxs(Qc.Provider,{value:x,children:[f&&x.visualElement?a.jsx(f,{visualElement:x.visualElement,...h}):null,r(s,u,EE(p,x.visualElement,d),p,m,x.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const c=S.forwardRef(l);return c[TE]=s,c}function $E({layoutId:e}){const t=S.useContext(a_).id;return t&&e!==void 0?t+"-"+e:e}function LE(e,t){S.useContext(c_).strict}function qE(e){const{drag:t,layout:r}=Ta;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const BE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bx(e){return typeof e!="string"||e.includes("-")?!1:!!(BE.indexOf(e)>-1||/[A-Z]/u.test(e))}function yy(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function wx(e,t,r,n){if(typeof t=="function"){const[s,i]=yy(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=yy(n);t=t(r!==void 0?r:e.custom,s,i)}return t}const yp=e=>Array.isArray(e),FE=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),zE=e=>yp(e)?e[e.length-1]||0:e,Mt=e=>!!(e&&e.getVelocity);function Il(e){const t=Mt(e)?e.get():e;return FE(t)?t.toValue():t}function UE({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,i){const o={latestValues:VE(n,s,i,e),renderState:t()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const p_=e=>(t,r)=>{const n=S.useContext(Qc),s=S.useContext(hx),i=()=>UE(e,t,n,s);return r?i():yE(i)};function VE(e,t,r,n){const s={},i=n(e,{});for(const h in i)s[h]=Il(i[h]);let{initial:o,animate:l}=e;const c=Zc(e),u=d_(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!Jc(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const x=wx(e,h[m]);if(x){const{transitionEnd:p,transition:g,...y}=x;for(const v in y){let w=y[v];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(s[v]=w)}for(const v in p)s[v]=p[v]}}}return s}const oi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qs=new Set(oi),g_=e=>t=>typeof t=="string"&&t.startsWith(e),x_=g_("--"),WE=g_("var(--"),jx=e=>WE(e)?HE.test(e.split("/*")[0].trim()):!1,HE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,y_=(e,t)=>t&&typeof e=="number"?t.transform(e):e,yn=(e,t,r)=>r>t?t:r<e?e:r,li={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lo={...li,transform:e=>yn(0,1,e)},vl={...li,default:1},Zo=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Tn=Zo("deg"),Ur=Zo("%"),xe=Zo("px"),GE=Zo("vh"),KE=Zo("vw"),vy={...Ur,parse:e=>Ur.parse(e)/100,transform:e=>Ur.transform(e*100)},YE={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe},XE={rotate:Tn,rotateX:Tn,rotateY:Tn,rotateZ:Tn,scale:vl,scaleX:vl,scaleY:vl,scaleZ:vl,skew:Tn,skewX:Tn,skewY:Tn,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:lo,originX:vy,originY:vy,originZ:xe},by={...li,transform:Math.round},Nx={...YE,...XE,zIndex:by,size:xe,fillOpacity:lo,strokeOpacity:lo,numOctaves:by},QE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JE=oi.length;function ZE(e,t,r){let n="",s=!0;for(let i=0;i<JE;i++){const o=oi[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=y_(l,Nx[o]);if(!c){s=!1;const d=QE[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function Sx(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(qs.has(c)){o=!0;continue}else if(x_(c)){s[c]=u;continue}else{const d=y_(u,Nx[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=ZE(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const eM={offset:"stroke-dashoffset",array:"stroke-dasharray"},tM={offset:"strokeDashoffset",array:"strokeDasharray"};function rM(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?eM:tM;e[i.offset]=xe.transform(-n);const o=xe.transform(t),l=xe.transform(r);e[i.array]=`${o} ${l}`}function wy(e,t,r){return typeof e=="string"?e:xe.transform(t+r*e)}function nM(e,t,r){const n=wy(t,e.x,e.width),s=wy(r,e.y,e.height);return`${n} ${s}`}function _x(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(Sx(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:x}=e;h.transform&&(x&&(m.transform=h.transform),delete h.transform),x&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=nM(x,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),o!==void 0&&rM(h,o,l,c,!1)}const Ax=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),v_=()=>({...Ax(),attrs:{}}),Px=e=>typeof e=="string"&&e.toLowerCase()==="svg";function b_(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const w_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function j_(e,t,r,n){b_(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(w_.has(s)?s:yx(s),t.attrs[s])}const Ul={};function sM(e){Object.assign(Ul,e)}function N_(e,{layout:t,layoutId:r}){return qs.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Ul[e]||e==="opacity")}function Ox(e,t,r){var n;const{style:s}=e,i={};for(const o in s)(Mt(s[o])||t.style&&Mt(t.style[o])||N_(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function S_(e,t,r){const n=Ox(e,t,r);for(const s in e)if(Mt(e[s])||Mt(t[s])){const i=oi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function aM(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const jy=["x","y","width","height","cx","cy","r"],iM={useVisualState:p_({scrapeMotionValuesFromProps:S_,createRenderState:v_,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let i=!!e.drag;if(!i){for(const l in s)if(qs.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<jy.length;l++){const c=jy[l];e[c]!==t[c]&&(o=!0)}o&&Je.read(()=>{aM(r,n),Je.render(()=>{_x(n,s,Px(r.tagName),e.transformTemplate),j_(r,n)})})}})},oM={useVisualState:p_({scrapeMotionValuesFromProps:Ox,createRenderState:Ax})};function __(e,t,r){for(const n in t)!Mt(t[n])&&!N_(n,r)&&(e[n]=t[n])}function lM({transformTemplate:e},t){return S.useMemo(()=>{const r=Ax();return Sx(r,t,e),Object.assign({},r.vars,r.style)},[t])}function cM(e,t){const r=e.style||{},n={};return __(n,r,e),Object.assign(n,lM(e,t)),n}function uM(e,t){const r={},n=cM(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function dM(e,t,r,n){const s=S.useMemo(()=>{const i=v_();return _x(i,t,Px(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};__(i,e.style,e),s.style={...i,...s.style}}return s}function fM(e=!1){return(r,n,s,{latestValues:i},o)=>{const c=(bx(r)?dM:uM)(n,i,o,r),u=PE(n,typeof r=="string",e),d=r!==S.Fragment?{...u,...c,ref:s}:{},{children:f}=n,h=S.useMemo(()=>Mt(f)?f.get():f,[f]);return S.createElement(r,{...d,children:h})}}function hM(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...bx(n)?iM:oM,preloadedFeatures:e,useRender:fM(s),createVisualElement:t,Component:n};return RE(o)}}function A_(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function eu(e,t,r){const n=e.getProps();return wx(n,t,r!==void 0?r:n.custom,e)}const mM=px(()=>window.ScrollTimeline!==void 0);class pM{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(mM()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class gM extends pM{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function kx(e,t){return e?e[t]||e.default||e:void 0}const vp=2e4;function P_(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<vp;)t+=r,n=e.next(t);return t>=vp?1/0:t}function Cx(e){return typeof e=="function"}function Ny(e,t){e.timeline=t,e.onfinish=null}const Tx=e=>Array.isArray(e)&&typeof e[0]=="number",xM={linearEasing:void 0};function yM(e,t){const r=px(e);return()=>{var n;return(n=xM[t])!==null&&n!==void 0?n:r()}}const Vl=yM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),O_=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(Ca(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function k_(e){return!!(typeof e=="function"&&Vl()||!e||typeof e=="string"&&(e in bp||Vl())||Tx(e)||Array.isArray(e)&&e.every(k_))}const Ei=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,bp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ei([0,.65,.55,1]),circOut:Ei([.55,0,1,.45]),backIn:Ei([.31,.01,.66,-.59]),backOut:Ei([.33,1.53,.69,.99])};function C_(e,t){if(e)return typeof e=="function"&&Vl()?O_(e,t):Tx(e)?Ei(e):Array.isArray(e)?e.map(r=>C_(r,t)||bp.easeOut):bp[e]}const jr={x:!1,y:!1};function T_(){return jr.x||jr.y}function vM(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function E_(e,t){const r=vM(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function Sy(e){return t=>{t.pointerType==="touch"||T_()||e(t)}}function bM(e,t,r={}){const[n,s,i]=E_(e,r),o=Sy(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=Sy(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const M_=(e,t)=>t?e===t?!0:M_(e,t.parentElement):!1,Ex=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,wM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jM(e){return wM.has(e.tagName)||e.tabIndex!==-1}const Mi=new WeakSet;function _y(e){return t=>{t.key==="Enter"&&e(t)}}function zu(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const NM=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=_y(()=>{if(Mi.has(r))return;zu(r,"down");const s=_y(()=>{zu(r,"up")}),i=()=>zu(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Ay(e){return Ex(e)&&!T_()}function SM(e,t,r={}){const[n,s,i]=E_(e,r),o=l=>{const c=l.currentTarget;if(!Ay(l)||Mi.has(c))return;Mi.add(c);const u=t(l),d=(m,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!Ay(m)||!Mi.has(c))&&(Mi.delete(c),typeof u=="function"&&u(m,{success:x}))},f=m=>{d(m,r.useGlobalTarget||M_(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return n.forEach(l=>{!jM(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>NM(u,s),s)}),i}function _M(e){return e==="x"||e==="y"?jr[e]?null:(jr[e]=!0,()=>{jr[e]=!1}):jr.x||jr.y?null:(jr.x=jr.y=!0,()=>{jr.x=jr.y=!1})}const I_=new Set(["width","height","top","left","right","bottom",...oi]);let Dl;function AM(){Dl=void 0}const Vr={now:()=>(Dl===void 0&&Vr.set(Pt.isProcessing||wE.useManualTiming?Pt.timestamp:performance.now()),Dl),set:e=>{Dl=e,queueMicrotask(AM)}};function Mx(e,t){e.indexOf(t)===-1&&e.push(t)}function Ix(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Dx{constructor(){this.subscriptions=[]}add(t){return Mx(this.subscriptions,t),()=>Ix(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function D_(e,t){return t?e*(1e3/t):0}const Py=30,PM=e=>!isNaN(parseFloat(e));class OM{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=Vr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Vr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=PM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Dx);const n=this.events[t].add(r);return t==="change"?()=>{n(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Vr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Py)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Py);return D_(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function co(e,t){return new OM(e,t)}function kM(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,co(r))}function CM(e,t){const r=eu(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const l=zE(i[o]);kM(e,o,l)}}function TM(e){return!!(Mt(e)&&e.add)}function wp(e,t){const r=e.getValue("willChange");if(TM(r))return r.add(t)}function R_(e){return e.props[f_]}const $_=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,EM=1e-7,MM=12;function IM(e,t,r,n,s){let i,o,l=0;do o=t+(r-t)/2,i=$_(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>EM&&++l<MM);return o}function el(e,t,r,n){if(e===t&&r===n)return er;const s=i=>IM(i,0,1,e,r);return i=>i===0||i===1?i:$_(s(i),t,n)}const L_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,q_=e=>t=>1-e(1-t),B_=el(.33,1.53,.69,.99),Rx=q_(B_),F_=L_(Rx),z_=e=>(e*=2)<1?.5*Rx(e):.5*(2-Math.pow(2,-10*(e-1))),$x=e=>1-Math.sin(Math.acos(e)),U_=q_($x),V_=L_($x),W_=e=>/^0[^.\s]+$/u.test(e);function DM(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||W_(e):!0}const Fi=e=>Math.round(e*1e5)/1e5,Lx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RM(e){return e==null}const $M=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qx=(e,t)=>r=>!!(typeof r=="string"&&$M.test(r)&&r.startsWith(e)||t&&!RM(r)&&Object.prototype.hasOwnProperty.call(r,t)),H_=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,l]=n.match(Lx);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},LM=e=>yn(0,255,e),Uu={...li,transform:e=>Math.round(LM(e))},ms={test:qx("rgb","red"),parse:H_("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Uu.transform(e)+", "+Uu.transform(t)+", "+Uu.transform(r)+", "+Fi(lo.transform(n))+")"};function qM(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const jp={test:qx("#"),parse:qM,transform:ms.transform},ea={test:qx("hsl","hue"),parse:H_("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ur.transform(Fi(t))+", "+Ur.transform(Fi(r))+", "+Fi(lo.transform(n))+")"},Ct={test:e=>ms.test(e)||jp.test(e)||ea.test(e),parse:e=>ms.test(e)?ms.parse(e):ea.test(e)?ea.parse(e):jp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ms.transform(e):ea.transform(e)},BM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FM(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Lx))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(BM))===null||r===void 0?void 0:r.length)||0)>0}const G_="number",K_="color",zM="var",UM="var(",Oy="${}",VM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uo(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(VM,c=>(Ct.test(c)?(n.color.push(i),s.push(K_),r.push(Ct.parse(c))):c.startsWith(UM)?(n.var.push(i),s.push(zM),r.push(c)):(n.number.push(i),s.push(G_),r.push(parseFloat(c))),++i,Oy)).split(Oy);return{values:r,split:l,indexes:n,types:s}}function Y_(e){return uo(e).values}function X_(e){const{split:t,types:r}=uo(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const l=r[o];l===G_?i+=Fi(s[o]):l===K_?i+=Ct.transform(s[o]):i+=s[o]}return i}}const WM=e=>typeof e=="number"?0:e;function HM(e){const t=Y_(e);return X_(e)(t.map(WM))}const Hn={test:FM,parse:Y_,createTransformer:X_,getAnimatableNone:HM},GM=new Set(["brightness","contrast","saturate","opacity"]);function KM(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Lx)||[];if(!n)return e;const s=r.replace(n,"");let i=GM.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const YM=/\b([a-z-]*)\(.*?\)/gu,Np={...Hn,getAnimatableNone:e=>{const t=e.match(YM);return t?t.map(KM).join(" "):e}},XM={...Nx,color:Ct,backgroundColor:Ct,outlineColor:Ct,fill:Ct,stroke:Ct,borderColor:Ct,borderTopColor:Ct,borderRightColor:Ct,borderBottomColor:Ct,borderLeftColor:Ct,filter:Np,WebkitFilter:Np},Bx=e=>XM[e];function Q_(e,t){let r=Bx(e);return r!==Np&&(r=Hn),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const QM=new Set(["auto","none","0"]);function JM(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!QM.has(i)&&uo(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=Q_(r,s)}const ky=e=>e===li||e===xe,Cy=(e,t)=>parseFloat(e.split(", ")[t]),Ty=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return Cy(s[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?Cy(i[1],e):0}},ZM=new Set(["x","y","z"]),e6=oi.filter(e=>!ZM.has(e));function t6(e){const t=[];return e6.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Ea={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Ty(4,13),y:Ty(5,14)};Ea.translateX=Ea.x;Ea.translateY=Ea.y;const As=new Set;let Sp=!1,_p=!1;function J_(){if(_p){const e=Array.from(As).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=t6(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var l;(l=n.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}_p=!1,Sp=!1,As.forEach(e=>e.complete()),As.clear()}function Z_(){As.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_p=!0)})}function r6(){Z_(),J_()}class Fx{constructor(t,r,n,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(As.add(this),Sp||(Sp=!0,Je.read(Z_),Je.resolveKeyframes(J_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),As.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,As.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const eA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),n6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function s6(e){const t=n6.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function tA(e,t,r=1){const[n,s]=s6(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return eA(o)?parseFloat(o):o}return jx(s)?tA(s,t,r+1):s}const rA=e=>t=>t.test(e),a6={test:e=>e==="auto",parse:e=>e},nA=[li,xe,Ur,Tn,KE,GE,a6],Ey=e=>nA.find(rA(e));class sA extends Fx{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),jx(u))){const d=tA(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!I_.has(n)||t.length!==2)return;const[s,i]=t,o=Ey(s),l=Ey(i);if(o!==l)if(ky(o)&&ky(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)DM(t[s])&&n.push(s);n.length&&JM(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ea[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Ea[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const My=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hn.test(e)||e==="0")&&!e.startsWith("url("));function i6(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function o6(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=My(s,t),l=My(i,t);return!o||!l?!1:i6(e)||(r==="spring"||Cx(r))&&n}const l6=e=>e!==null;function tu(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(l6),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const c6=40;class aA{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Vr.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>c6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&r6(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Vr.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!o6(t,n,s,i))if(o)this.options.duration=0;else{c&&c(tu(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const st=(e,t,r)=>e+(t-e)*r;function Vu(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function u6({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=Vu(c,l,e+1/3),i=Vu(c,l,e),o=Vu(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Wl(e,t){return r=>r>0?t:e}const Wu=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},d6=[jp,ms,ea],f6=e=>d6.find(t=>t.test(e));function Iy(e){const t=f6(e);if(!t)return!1;let r=t.parse(e);return t===ea&&(r=u6(r)),r}const Dy=(e,t)=>{const r=Iy(e),n=Iy(t);if(!r||!n)return Wl(e,t);const s={...r};return i=>(s.red=Wu(r.red,n.red,i),s.green=Wu(r.green,n.green,i),s.blue=Wu(r.blue,n.blue,i),s.alpha=st(r.alpha,n.alpha,i),ms.transform(s))},h6=(e,t)=>r=>t(e(r)),tl=(...e)=>e.reduce(h6),Ap=new Set(["none","hidden"]);function m6(e,t){return Ap.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function p6(e,t){return r=>st(e,t,r)}function zx(e){return typeof e=="number"?p6:typeof e=="string"?jx(e)?Wl:Ct.test(e)?Dy:y6:Array.isArray(e)?iA:typeof e=="object"?Ct.test(e)?Dy:g6:Wl}function iA(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>zx(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function g6(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=zx(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function x6(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][s[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[i]=c,s[o]++}return n}const y6=(e,t)=>{const r=Hn.createTransformer(t),n=uo(e),s=uo(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Ap.has(e)&&!s.values.length||Ap.has(t)&&!n.values.length?m6(e,t):tl(iA(x6(n,s),s.values),r):Wl(e,t)};function oA(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?st(e,t,r):zx(e)(e,t)}const v6=5;function lA(e,t,r){const n=Math.max(t-v6,0);return D_(r-e(n),t-n)}const ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hu=.001;function b6({duration:e=ot.duration,bounce:t=ot.bounce,velocity:r=ot.velocity,mass:n=ot.mass}){let s,i,o=1-t;o=yn(ot.minDamping,ot.maxDamping,o),e=yn(ot.minDuration,ot.maxDuration,hn(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-r,m=Pp(u,o),x=Math.exp(-f);return Hu-h/m*x},i=u=>{const f=u*o*e,h=f*r+r,m=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-f),p=Pp(Math.pow(u,2),o);return(-s(u)+Hu>0?-1:1)*((h-m)*x)/p}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-Hu+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=j6(s,i,l);if(e=fn(e),isNaN(c))return{stiffness:ot.stiffness,damping:ot.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const w6=12;function j6(e,t,r){let n=r;for(let s=1;s<w6;s++)n=n-e(n)/t(n);return n}function Pp(e,t){return e*Math.sqrt(1-t*t)}const N6=["duration","bounce"],S6=["stiffness","damping","mass"];function Ry(e,t){return t.some(r=>e[r]!==void 0)}function _6(e){let t={velocity:ot.velocity,stiffness:ot.stiffness,damping:ot.damping,mass:ot.mass,isResolvedFromDuration:!1,...e};if(!Ry(e,S6)&&Ry(e,N6))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*yn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:ot.mass,stiffness:s,damping:i}}else{const r=b6(e);t={...t,...r,mass:ot.mass},t.isResolvedFromDuration=!0}return t}function cA(e=ot.visualDuration,t=ot.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=_6({...r,velocity:-hn(r.velocity||0)}),x=h||0,p=u/(2*Math.sqrt(c*d)),g=o-i,y=hn(Math.sqrt(c/d)),v=Math.abs(g)<5;n||(n=v?ot.restSpeed.granular:ot.restSpeed.default),s||(s=v?ot.restDelta.granular:ot.restDelta.default);let w;if(p<1){const b=Pp(y,p);w=N=>{const _=Math.exp(-p*y*N);return o-_*((x+p*y*g)/b*Math.sin(b*N)+g*Math.cos(b*N))}}else if(p===1)w=b=>o-Math.exp(-y*b)*(g+(x+y*g)*b);else{const b=y*Math.sqrt(p*p-1);w=N=>{const _=Math.exp(-p*y*N),A=Math.min(b*N,300);return o-_*((x+p*y*g)*Math.sinh(A)+b*g*Math.cosh(A))/b}}const j={calculatedDuration:m&&f||null,next:b=>{const N=w(b);if(m)l.done=b>=f;else{let _=0;p<1&&(_=b===0?fn(x):lA(w,b,N));const A=Math.abs(_)<=n,O=Math.abs(o-N)<=s;l.done=A&&O}return l.value=l.done?o:N,l},toString:()=>{const b=Math.min(P_(j),vp),N=O_(_=>j.next(b*_).value,b,30);return b+"ms "+N}};return j}function $y({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=A=>l!==void 0&&A<l||c!==void 0&&A>c,x=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let p=r*t;const g=f+p,y=o===void 0?g:o(g);y!==g&&(p=y-f);const v=A=>-p*Math.exp(-A/n),w=A=>y+v(A),j=A=>{const O=v(A),T=w(A);h.done=Math.abs(O)<=u,h.value=h.done?y:T};let b,N;const _=A=>{m(h.value)&&(b=A,N=cA({keyframes:[h.value,x(h.value)],velocity:lA(w,A,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:A=>{let O=!1;return!N&&b===void 0&&(O=!0,j(A),_(A)),b!==void 0&&A>=b?N.next(A-b):(!O&&j(A),h)}}}const A6=el(.42,0,1,1),P6=el(0,0,.58,1),uA=el(.42,0,.58,1),O6=e=>Array.isArray(e)&&typeof e[0]!="number",k6={linear:er,easeIn:A6,easeInOut:uA,easeOut:P6,circIn:$x,circInOut:V_,circOut:U_,backIn:Rx,backInOut:F_,backOut:B_,anticipate:z_},Ly=e=>{if(Tx(e)){o_(e.length===4);const[t,r,n,s]=e;return el(t,r,n,s)}else if(typeof e=="string")return k6[e];return e};function C6(e,t,r){const n=[],s=r||oA,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||er:t;l=tl(c,l)}n.push(l)}return n}function T6(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(o_(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=C6(t,n,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Ca(e[f],e[f+1],d);return l[f](h)};return r?d=>u(yn(e[0],e[i-1],d)):u}function E6(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Ca(0,t,n);e.push(st(r,1,s))}}function M6(e){const t=[0];return E6(t,e.length-1),t}function I6(e,t){return e.map(r=>r*t)}function D6(e,t){return e.map(()=>t||uA).splice(0,e.length-1)}function Hl({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=O6(n)?n.map(Ly):Ly(n),i={done:!1,value:t[0]},o=I6(r&&r.length===t.length?r:M6(t),e),l=T6(o,t,{ease:Array.isArray(s)?s:D6(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const R6=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Je.update(t,!0),stop:()=>Wn(t),now:()=>Pt.isProcessing?Pt.timestamp:Vr.now()}},$6={decay:$y,inertia:$y,tween:Hl,keyframes:Hl,spring:cA},L6=e=>e/100;class Ux extends aA{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Fx,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=Cx(r)?r:$6[r]||Hl;let c,u;l!==Hl&&typeof t[0]!="number"&&(c=tl(L6,oA(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=P_(d));const{calculatedDuration:f}=d,h=f+s,m=h*(n+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return i.next(0);const{delay:h,repeat:m,repeatType:x,repeatDelay:p,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?y<0:y>d;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,j=i;if(m){const A=Math.min(this.currentTime,d)/f;let O=Math.floor(A),T=A%1;!T&&A>=1&&(T=1),T===1&&O--,O=Math.min(O,m+1),!!(O%2)&&(x==="reverse"?(T=1-T,p&&(T-=p/f)):x==="mirror"&&(j=o)),w=yn(0,1,T)*f}const b=v?{done:!1,value:c[0]}:j.next(w);l&&(b.value=l(b.value));let{done:N}=b;!v&&u!==null&&(N=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return _&&s!==void 0&&(b.value=tu(c,this.options,s)),g&&g(b.value),_&&this.finish(),b}get duration(){const{resolved:t}=this;return t?hn(t.calculatedDuration):0}get time(){return hn(this.currentTime)}set time(t){t=fn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=hn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=R6,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const q6=new Set(["opacity","clipPath","filter","transform"]);function B6(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=C_(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const F6=px(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Gl=10,z6=2e4;function U6(e){return Cx(e.type)||e.type==="spring"||!k_(e.ease)}function V6(e,t){const r=new Ux({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let i=0;for(;!n.done&&i<z6;)n=r.sample(i),s.push(n.value),i+=Gl;return{times:void 0,keyframes:s,duration:i-Gl,ease:"linear"}}const dA={anticipate:z_,backInOut:F_,circInOut:V_};function W6(e){return e in dA}class qy extends aA{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new sA(i,(o,l)=>this.onKeyframesResolved(o,l),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:i,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&Vl()&&W6(i)&&(i=dA[i]),U6(this.options)){const{onComplete:f,onUpdate:h,motionValue:m,element:x,...p}=this.options,g=V6(t,p);t=g.keyframes,t.length===1&&(t[1]=t[0]),n=g.duration,s=g.times,i=g.ease,o="keyframes"}const d=B6(l.owner.current,c,t,{...this.options,duration:n,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Ny(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(tu(t,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return hn(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return hn(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=fn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return er;const{animation:n}=r;Ny(n,t)}return er}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:i,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...m}=this.options,x=new Ux({...m,keyframes:n,duration:s,type:i,ease:o,times:l,isGenerator:!0}),p=fn(this.time);u.setWithVelocity(x.sample(p-Gl).value,x.sample(p).value,Gl)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return F6()&&n&&q6.has(n)&&!c&&!u&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const H6={type:"spring",stiffness:500,damping:25,restSpeed:10},G6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),K6={type:"keyframes",duration:.8},Y6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},X6=(e,{keyframes:t})=>t.length>2?K6:qs.has(e)?e.startsWith("scale")?G6(t[1]):H6:Y6;function Q6({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Vx=(e,t,r,n={},s,i)=>o=>{const l=kx(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-fn(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};Q6(l)||(d={...d,...X6(e,d)}),d.duration&&(d.duration=fn(d.duration)),d.repeatDelay&&(d.repeatDelay=fn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!i&&t.get()!==void 0){const h=tu(d.keyframes,l);if(h!==void 0)return Je.update(()=>{d.onUpdate(h),d.onComplete()}),new gM([])}return!i&&qy.supports(d)?new qy(d):new Ux(d)};function J6({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function fA(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in c){const h=e.getValue(f,(i=e.latestValues[f])!==null&&i!==void 0?i:null),m=c[f];if(m===void 0||d&&J6(d,f))continue;const x={delay:r,...kx(o||{},f)};let p=!1;if(window.MotionHandoffAnimation){const y=R_(e);if(y){const v=window.MotionHandoffAnimation(y,f,Je);v!==null&&(x.startTime=v,p=!0)}}wp(e,f),h.start(Vx(f,h,m,e.shouldReduceMotion&&I_.has(f)?{type:!1}:x,e,p));const g=h.animation;g&&u.push(g)}return l&&Promise.all(u).then(()=>{Je.update(()=>{l&&CM(e,l)})}),u}function Op(e,t,r={}){var n;const s=eu(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const o=s?()=>Promise.all(fA(e,s,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return Z6(e,t,d+u,f,h,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(r.delay)])}function Z6(e,t,r=0,n=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(e5).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Op(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function e5(e,t){return e.sortNodePosition(t)}function t5(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Op(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Op(e,t,r);else{const s=typeof t=="function"?eu(e,t,r.custom):t;n=Promise.all(fA(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const r5=xx.length;function hA(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?hA(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<r5;r++){const n=xx[r],s=e.props[n];(oo(s)||s===!1)&&(t[n]=s)}return t}const n5=[...gx].reverse(),s5=gx.length;function a5(e){return t=>Promise.all(t.map(({animation:r,options:n})=>t5(e,r,n)))}function i5(e){let t=a5(e),r=By(),n=!0;const s=c=>(u,d)=>{var f;const h=eu(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:x,...p}=h;u={...u,...p,...x}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=hA(e.parent)||{},f=[],h=new Set;let m={},x=1/0;for(let g=0;g<s5;g++){const y=n5[g],v=r[y],w=u[y]!==void 0?u[y]:d[y],j=oo(w),b=y===c?v.isActive:null;b===!1&&(x=g);let N=w===d[y]&&w!==u[y]&&j;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),v.protectedKeys={...m},!v.isActive&&b===null||!w&&!v.prevProp||Jc(w)||typeof w=="boolean")continue;const _=o5(v.prevProp,w);let A=_||y===c&&v.isActive&&!N&&j||g>x&&j,O=!1;const T=Array.isArray(w)?w:[w];let P=T.reduce(s(y),{});b===!1&&(P={});const{prevResolvedValues:C={}}=v,E={...C,...P},M=D=>{A=!0,h.has(D)&&(O=!0,h.delete(D)),v.needsAnimating[D]=!0;const z=e.getValue(D);z&&(z.liveStyle=!1)};for(const D in E){const z=P[D],V=C[D];if(m.hasOwnProperty(D))continue;let ee=!1;yp(z)&&yp(V)?ee=!A_(z,V):ee=z!==V,ee?z!=null?M(D):h.add(D):z!==void 0&&h.has(D)?M(D):v.protectedKeys[D]=!0}v.prevProp=w,v.prevResolvedValues=P,v.isActive&&(m={...m,...P}),n&&e.blockInitialAnimation&&(A=!1),A&&(!(N&&_)||O)&&f.push(...T.map(D=>({animation:D,options:{type:y}})))}if(h.size){const g={};h.forEach(y=>{const v=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),g[y]=v??null}),f.push({animation:g})}let p=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(f):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),r[c].isActive=u;const f=o(c);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=By(),n=!0}}}function o5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!A_(t,e):!1}function as(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function By(){return{animate:as(!0),whileInView:as(),whileHover:as(),whileTap:as(),whileDrag:as(),whileFocus:as(),exit:as()}}class Jn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class l5 extends Jn{constructor(t){super(t),t.animationState||(t.animationState=i5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Jc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let c5=0;class u5 extends Jn{constructor(){super(...arguments),this.id=c5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const d5={animation:{Feature:l5},exit:{Feature:u5}};function fo(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function rl(e){return{point:{x:e.pageX,y:e.pageY}}}const f5=e=>t=>Ex(t)&&e(t,rl(t));function zi(e,t,r,n){return fo(e,t,f5(r),n)}const Fy=(e,t)=>Math.abs(e-t);function h5(e,t){const r=Fy(e.x,t.x),n=Fy(e.y,t.y);return Math.sqrt(r**2+n**2)}class mA{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ku(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=h5(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:x}=f,{timestamp:p}=Pt;this.history.push({...x,timestamp:p});const{onStart:g,onMove:y}=this.handlers;h||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Gu(h,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Ku(f.type==="pointercancel"?this.lastMoveEventInfo:Gu(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,g),x&&x(f,g)},!Ex(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=rl(t),l=Gu(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Pt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,Ku(l,this.history)),this.removeListeners=tl(zi(this.contextWindow,"pointermove",this.handlePointerMove),zi(this.contextWindow,"pointerup",this.handlePointerUp),zi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Wn(this.updatePoint)}}function Gu(e,t){return t?{point:t(e.point)}:e}function zy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ku({point:e},t){return{point:e,delta:zy(e,pA(t)),offset:zy(e,m5(t)),velocity:p5(t,.1)}}function m5(e){return e[0]}function pA(e){return e[e.length-1]}function p5(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=pA(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>fn(t)));)r--;if(!n)return{x:0,y:0};const i=hn(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const gA=1e-4,g5=1-gA,x5=1+gA,xA=.01,y5=0-xA,v5=0+xA;function sr(e){return e.max-e.min}function b5(e,t,r){return Math.abs(e-t)<=r}function Uy(e,t,r,n=.5){e.origin=n,e.originPoint=st(t.min,t.max,e.origin),e.scale=sr(r)/sr(t),e.translate=st(r.min,r.max,e.origin)-e.originPoint,(e.scale>=g5&&e.scale<=x5||isNaN(e.scale))&&(e.scale=1),(e.translate>=y5&&e.translate<=v5||isNaN(e.translate))&&(e.translate=0)}function Ui(e,t,r,n){Uy(e.x,t.x,r.x,n?n.originX:void 0),Uy(e.y,t.y,r.y,n?n.originY:void 0)}function Vy(e,t,r){e.min=r.min+t.min,e.max=e.min+sr(t)}function w5(e,t,r){Vy(e.x,t.x,r.x),Vy(e.y,t.y,r.y)}function Wy(e,t,r){e.min=t.min-r.min,e.max=e.min+sr(t)}function Vi(e,t,r){Wy(e.x,t.x,r.x),Wy(e.y,t.y,r.y)}function j5(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?st(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?st(r,e,n.max):Math.min(e,r)),e}function Hy(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function N5(e,{top:t,left:r,bottom:n,right:s}){return{x:Hy(e.x,r,s),y:Hy(e.y,t,n)}}function Gy(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function S5(e,t){return{x:Gy(e.x,t.x),y:Gy(e.y,t.y)}}function _5(e,t){let r=.5;const n=sr(e),s=sr(t);return s>n?r=Ca(t.min,t.max-n,e.min):n>s&&(r=Ca(e.min,e.max-s,t.min)),yn(0,1,r)}function A5(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const kp=.35;function P5(e=kp){return e===!1?e=0:e===!0&&(e=kp),{x:Ky(e,"left","right"),y:Ky(e,"top","bottom")}}function Ky(e,t,r){return{min:Yy(e,t),max:Yy(e,r)}}function Yy(e,t){return typeof e=="number"?e:e[t]||0}const Xy=()=>({translate:0,scale:1,origin:0,originPoint:0}),ta=()=>({x:Xy(),y:Xy()}),Qy=()=>({min:0,max:0}),ut=()=>({x:Qy(),y:Qy()});function ur(e){return[e("x"),e("y")]}function yA({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function O5({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function k5(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Yu(e){return e===void 0||e===1}function Cp({scale:e,scaleX:t,scaleY:r}){return!Yu(e)||!Yu(t)||!Yu(r)}function cs(e){return Cp(e)||vA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function vA(e){return Jy(e.x)||Jy(e.y)}function Jy(e){return e&&e!=="0%"}function Kl(e,t,r){const n=e-r,s=t*n;return r+s}function Zy(e,t,r,n,s){return s!==void 0&&(e=Kl(e,s,n)),Kl(e,r,n)+t}function Tp(e,t=0,r=1,n,s){e.min=Zy(e.min,t,r,n,s),e.max=Zy(e.max,t,r,n,s)}function bA(e,{x:t,y:r}){Tp(e.x,t.translate,t.scale,t.originPoint),Tp(e.y,r.translate,r.scale,r.originPoint)}const ev=.999999999999,tv=1.0000000000001;function C5(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&na(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,bA(e,o)),n&&cs(i.latestValues)&&na(e,i.latestValues))}t.x<tv&&t.x>ev&&(t.x=1),t.y<tv&&t.y>ev&&(t.y=1)}function ra(e,t){e.min=e.min+t,e.max=e.max+t}function rv(e,t,r,n,s=.5){const i=st(e.min,e.max,s);Tp(e,t,r,i,n)}function na(e,t){rv(e.x,t.x,t.scaleX,t.scale,t.originX),rv(e.y,t.y,t.scaleY,t.scale,t.originY)}function wA(e,t){return yA(k5(e.getBoundingClientRect(),t))}function T5(e,t,r){const n=wA(e,r),{scroll:s}=t;return s&&(ra(n.x,s.offset.x),ra(n.y,s.offset.y)),n}const jA=({current:e})=>e?e.ownerDocument.defaultView:null,E5=new WeakMap;class M5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(rl(d).point)},i=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:x}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_M(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ur(g=>{let y=this.getAxisMotionValue(g).get()||0;if(Ur.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[g];w&&(y=sr(w)*(parseFloat(y)/100))}}this.originPoint[g]=y}),x&&Je.postRender(()=>x(d,f)),wp(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:x,onDrag:p}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:g}=f;if(m&&this.currentDirection===null){this.currentDirection=I5(g),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),p&&p(d,f)},l=(d,f)=>this.stop(d,f),c=()=>ur(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new mA(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:jA(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Je.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!bl(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=j5(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Zs(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=N5(s.layoutBox,r):this.constraints=!1,this.elastic=P5(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ur(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=A5(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Zs(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=T5(n,s.root,this.visualElement.getTransformPagePoint());let o=S5(s.layout.layoutBox,i);if(r){const l=r(O5(o));this.hasMutatedConstraints=!!l,l&&(o=yA(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ur(d=>{if(!bl(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,x={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return wp(this.visualElement,t),n.start(Vx(t,n,0,r,this.visualElement,!1))}stopAnimation(){ur(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ur(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ur(r=>{const{drag:n}=this.getProps();if(!bl(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-st(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Zs(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ur(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=_5({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ur(o=>{if(!bl(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(st(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;E5.set(this.visualElement,this);const t=this.visualElement.current,r=zi(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Zs(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Je.read(n);const o=fo(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ur(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=kp,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function bl(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function I5(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class D5 extends Jn{constructor(t){super(t),this.removeGroupControls=er,this.removeListeners=er,this.controls=new M5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||er}unmount(){this.removeGroupControls(),this.removeListeners()}}const nv=e=>(t,r)=>{e&&Je.postRender(()=>e(t,r))};class R5 extends Jn{constructor(){super(...arguments),this.removePointerDownListener=er}onPointerDown(t){this.session=new mA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:nv(t),onStart:nv(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&Je.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=zi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Rl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(xe.test(e))e=parseFloat(e);else return e;const r=sv(e,t.target.x),n=sv(e,t.target.y);return`${r}% ${n}%`}},$5={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Hn.parse(e);if(s.length>5)return n;const i=Hn.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=st(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class L5 extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;sM(q5),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Rl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Je.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vx.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function NA(e){const[t,r]=vE(),n=S.useContext(a_);return a.jsx(L5,{...e,layoutGroup:n,switchLayoutGroup:S.useContext(h_),isPresent:t,safeToRemove:r})}const q5={borderRadius:{...bi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bi,borderTopRightRadius:bi,borderBottomLeftRadius:bi,borderBottomRightRadius:bi,boxShadow:$5};function B5(e,t,r){const n=Mt(e)?e:co(e);return n.start(Vx("",n,t,r)),n.animation}function F5(e){return e instanceof SVGElement&&e.tagName!=="svg"}const z5=(e,t)=>e.depth-t.depth;class U5{constructor(){this.children=[],this.isDirty=!1}add(t){Mx(this.children,t),this.isDirty=!0}remove(t){Ix(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(z5),this.isDirty=!1,this.children.forEach(t)}}function V5(e,t){const r=Vr.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(Wn(n),e(i-t))};return Je.read(n,!0),()=>Wn(n)}const SA=["TopLeft","TopRight","BottomLeft","BottomRight"],W5=SA.length,av=e=>typeof e=="string"?parseFloat(e):e,iv=e=>typeof e=="number"||xe.test(e);function H5(e,t,r,n,s,i){s?(e.opacity=st(0,r.opacity!==void 0?r.opacity:1,G5(n)),e.opacityExit=st(t.opacity!==void 0?t.opacity:1,0,K5(n))):i&&(e.opacity=st(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<W5;o++){const l=`border${SA[o]}Radius`;let c=ov(t,l),u=ov(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||iv(c)===iv(u)?(e[l]=Math.max(st(av(c),av(u),n),0),(Ur.test(u)||Ur.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=st(t.rotate||0,r.rotate||0,n))}function ov(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const G5=_A(0,.5,U_),K5=_A(.5,.95,er);function _A(e,t,r){return n=>n<e?0:n>t?1:r(Ca(e,t,n))}function lv(e,t){e.min=t.min,e.max=t.max}function ir(e,t){lv(e.x,t.x),lv(e.y,t.y)}function cv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function uv(e,t,r,n,s){return e-=t,e=Kl(e,1/r,n),s!==void 0&&(e=Kl(e,1/s,n)),e}function Y5(e,t=0,r=1,n=.5,s,i=e,o=e){if(Ur.test(t)&&(t=parseFloat(t),t=st(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=st(i.min,i.max,n);e===i&&(l-=t),e.min=uv(e.min,t,r,l,s),e.max=uv(e.max,t,r,l,s)}function dv(e,t,[r,n,s],i,o){Y5(e,t[r],t[n],t[s],t.scale,i,o)}const X5=["x","scaleX","originX"],Q5=["y","scaleY","originY"];function fv(e,t,r,n){dv(e.x,t,X5,r?r.x:void 0,n?n.x:void 0),dv(e.y,t,Q5,r?r.y:void 0,n?n.y:void 0)}function hv(e){return e.translate===0&&e.scale===1}function AA(e){return hv(e.x)&&hv(e.y)}function mv(e,t){return e.min===t.min&&e.max===t.max}function J5(e,t){return mv(e.x,t.x)&&mv(e.y,t.y)}function pv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function PA(e,t){return pv(e.x,t.x)&&pv(e.y,t.y)}function gv(e){return sr(e.x)/sr(e.y)}function xv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Z5{constructor(){this.members=[]}add(t){Mx(this.members,t),t.scheduleRender()}remove(t){if(Ix(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function e4(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:x}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const us={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ii=typeof window<"u"&&window.MotionDebug!==void 0,Xu=["","X","Y","Z"],t4={visibility:"hidden"},yv=1e3;let r4=0;function Qu(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function OA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=R_(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Je,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&OA(n)}function kA({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=r4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ii&&(us.totalNodes=us.resolvedTargetDeltas=us.recalculatedProjection=0),this.nodes.forEach(a4),this.nodes.forEach(u4),this.nodes.forEach(d4),this.nodes.forEach(i4),Ii&&window.MotionDebug.record(us)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new U5)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Dx),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=F5(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=V5(h,250),Rl.hasAnimatedSinceResize&&(Rl.hasAnimatedSinceResize=!1,this.nodes.forEach(bv))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||g4,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=d.getProps(),v=!this.targetLayout||!PA(this.targetLayout,x)||m,w=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const j={...kx(p,"layout"),onPlay:g,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||bv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(f4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vv);return}this.isUpdating||this.nodes.forEach(l4),this.isUpdating=!1,this.nodes.forEach(c4),this.nodes.forEach(n4),this.nodes.forEach(s4),this.clearAllSnapshots();const l=Vr.now();Pt.delta=yn(0,1e3/60,l-Pt.timestamp),Pt.timestamp=l,Pt.isProcessing=!0,Fu.update.process(Pt),Fu.preRender.process(Pt),Fu.render.process(Pt),Pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(o4),this.sharedNodes.forEach(h4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!AA(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||cs(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),x4(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return ut();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(y4))){const{scroll:d}=this.root;d&&(ra(c.x,d.offset.x),ra(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=ut();if(ir(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ir(c,o),ra(c.x,f.offset.x),ra(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=ut();ir(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&na(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),cs(d.latestValues)&&na(c,d.latestValues)}return cs(this.latestValues)&&na(c,this.latestValues),c}removeTransform(o){const l=ut();ir(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!cs(u.latestValues))continue;Cp(u.latestValues)&&u.updateSnapshot();const d=ut(),f=u.measurePageBox();ir(d,f),fv(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return cs(this.latestValues)&&fv(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Pt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Vi(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),w5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ir(this.target,this.layout.layoutBox),bA(this.target,this.targetDelta)):ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Vi(this.relativeTargetOrigin,this.target,m.target),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ii&&us.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Cp(this.parent.latestValues)||vA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Pt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;ir(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;C5(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ut());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cv(this.prevProjectionDelta.x,this.projectionDelta.x),cv(this.prevProjectionDelta.y,this.projectionDelta.y)),Ui(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!xv(this.projectionDelta.x,this.prevProjectionDelta.x)||!xv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Ii&&us.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ta(),this.projectionDelta=ta(),this.projectionDeltaWithTransform=ta()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=ta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=ut(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,p=m!==x,g=this.getStack(),y=!g||g.members.length<=1,v=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(p4));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const b=j/1e3;wv(f.x,o.x,b),wv(f.y,o.y,b),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vi(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m4(this.relativeTarget,this.relativeTargetOrigin,h,b),w&&J5(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ut()),ir(w,this.relativeTarget)),p&&(this.animationValues=d,H5(d,u,this.latestValues,b,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{Rl.hasAnimatedSinceResize=!0,this.currentAnimation=B5(0,yv,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&CA(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ut();const f=sr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=sr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}ir(l,c),na(l,d),Ui(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Z5),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Qu("z",o,u,this.animationValues);for(let d=0;d<Xu.length;d++)Qu(`rotate${Xu[d]}`,o,u,this.animationValues),Qu(`skew${Xu[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return t4;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Il(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Il(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!cs(this.latestValues)&&(p.transform=d?d({},""):"none",this.hasProjected=!1),p}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=e4(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:x}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const p in Ul){if(h[p]===void 0)continue;const{correct:g,applyTo:y}=Ul[p],v=u.transform==="none"?h[p]:g(h[p],f);if(y){const w=y.length;for(let j=0;j<w;j++)u[y[j]]=v}else u[p]=v}return this.options.layoutId&&(u.pointerEvents=f===this?Il(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(vv),this.root.sharedNodes.clear()}}}function n4(e){e.updateLayout()}function s4(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?ur(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],m=sr(h);h.min=n[f].min,h.max=h.min+m}):CA(i,r.layoutBox,n)&&ur(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],m=sr(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=ta();Ui(l,n,r.layoutBox);const c=ta();o?Ui(c,e.applyTransform(s,!0),r.measuredBox):Ui(c,n,r.layoutBox);const u=!AA(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const x=ut();Vi(x,r.layoutBox,h.layoutBox);const p=ut();Vi(p,n,m.layoutBox),PA(x,p)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function a4(e){Ii&&us.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function i4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function o4(e){e.clearSnapshot()}function vv(e){e.clearMeasurements()}function l4(e){e.isLayoutDirty=!1}function c4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function bv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function u4(e){e.resolveTargetDelta()}function d4(e){e.calcProjection()}function f4(e){e.resetSkewAndRotation()}function h4(e){e.removeLeadSnapshot()}function wv(e,t,r){e.translate=st(t.translate,0,r),e.scale=st(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function jv(e,t,r,n){e.min=st(t.min,r.min,n),e.max=st(t.max,r.max,n)}function m4(e,t,r,n){jv(e.x,t.x,r.x,n),jv(e.y,t.y,r.y,n)}function p4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const g4={duration:.45,ease:[.4,0,.1,1]},Nv=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Sv=Nv("applewebkit/")&&!Nv("chrome/")?Math.round:er;function _v(e){e.min=Sv(e.min),e.max=Sv(e.max)}function x4(e){_v(e.x),_v(e.y)}function CA(e,t,r){return e==="position"||e==="preserve-aspect"&&!b5(gv(t),gv(r),.2)}function y4(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const v4=kA({attachResizeListener:(e,t)=>fo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ju={current:void 0},TA=kA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ju.current){const e=new v4({});e.mount(window),e.setOptions({layoutScroll:!0}),Ju.current=e}return Ju.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),b4={pan:{Feature:R5},drag:{Feature:D5,ProjectionNode:TA,MeasureLayout:NA}};function Av(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&Je.postRender(()=>i(t,rl(t)))}class w4 extends Jn{mount(){const{current:t}=this.node;t&&(this.unmount=bM(t,r=>(Av(this.node,r,"Start"),n=>Av(this.node,n,"End"))))}unmount(){}}class j4 extends Jn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tl(fo(this.node.current,"focus",()=>this.onFocus()),fo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Pv(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&Je.postRender(()=>i(t,rl(t)))}class N4 extends Jn{mount(){const{current:t}=this.node;t&&(this.unmount=SM(t,r=>(Pv(this.node,r,"Start"),(n,{success:s})=>Pv(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ep=new WeakMap,Zu=new WeakMap,S4=e=>{const t=Ep.get(e.target);t&&t(e)},_4=e=>{e.forEach(S4)};function A4({root:e,...t}){const r=e||document;Zu.has(r)||Zu.set(r,{});const n=Zu.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(_4,{root:e,...t})),n[s]}function P4(e,t,r){const n=A4(t);return Ep.set(e,r),n.observe(e),()=>{Ep.delete(e),n.unobserve(e)}}const O4={some:0,all:1};class k4 extends Jn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:O4[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return P4(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(C4(t,r))&&this.startObserver()}unmount(){}}function C4({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const T4={inView:{Feature:k4},tap:{Feature:N4},focus:{Feature:j4},hover:{Feature:w4}},E4={layout:{ProjectionNode:TA,MeasureLayout:NA}},Mp={current:null},EA={current:!1};function M4(){if(EA.current=!0,!!mx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mp.current=e.matches;e.addListener(t),t()}else Mp.current=!1}const I4=[...nA,Ct,Hn],D4=e=>I4.find(rA(e)),Ov=new WeakMap;function R4(e,t,r){for(const n in t){const s=t[n],i=r[n];if(Mt(s))e.addValue(n,s);else if(Mt(i))e.addValue(n,co(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,co(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const kv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $4{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Vr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Je.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Zc(r),this.isVariantNode=d_(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in h){const x=h[m];c[m]!==void 0&&Mt(x)&&x.set(c[m],!1)}}mount(t){this.current=t,Ov.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),EA.current||M4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ov.delete(this.current),this.projection&&this.projection.unmount(),Wn(this.notifyUpdate),Wn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=qs.has(t),s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Je.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ta){const r=Ta[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<kv.length;n++){const s=kv[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=R4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=co(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(eA(s)||W_(s))?s=parseFloat(s):!D4(s)&&Hn.test(r)&&(s=Q_(t,r)),this.setBaseTarget(t,Mt(s)?s.get():s)),Mt(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=wx(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Mt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Dx),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class MA extends $4{constructor(){super(...arguments),this.KeyframeResolver=sA}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Mt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function L4(e){return window.getComputedStyle(e)}class q4 extends MA{constructor(){super(...arguments),this.type="html",this.renderInstance=b_}readValueFromInstance(t,r){if(qs.has(r)){const n=Bx(r);return n&&n.default||0}else{const n=L4(t),s=(x_(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return wA(t,r)}build(t,r,n){Sx(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Ox(t,r,n)}}class B4 extends MA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(qs.has(r)){const n=Bx(r);return n&&n.default||0}return r=w_.has(r)?r:yx(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return S_(t,r,n)}build(t,r,n){_x(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){j_(t,r,n,s)}mount(t){this.isSVGTag=Px(t.tagName),super.mount(t)}}const F4=(e,t)=>bx(e)?new B4(t):new q4(t,{allowProjection:e!==S.Fragment}),z4=hM({...d5,...T4,...b4,...E4},F4),IA=OE(z4),Cv=({children:e,className:t="",...r})=>a.jsx(IA.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,ease:"easeInOut"},className:t,...r,children:e}),U4=({size:e=40,color:t="text-blue-500",className:r="",...n})=>a.jsx(IA.div,{className:`inline-block ${t} ${r}`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{width:e,height:e},...n,children:a.jsxs("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),V4=[{id:"science",name:"Science",icon:$C,color:"from-blue-500 to-blue-600",description:"Physics, Chemistry, Biology"},{id:"mathematics",name:"Mathematics",icon:LC,color:"from-purple-500 to-purple-600",description:"Algebra, Geometry, Calculus"},{id:"english",name:"English",icon:RC,color:"from-green-500 to-green-600",description:"Grammar, Literature, Vocabulary"},{id:"computing",name:"Computing",icon:KC,color:"from-orange-500 to-orange-600",description:"Programming, Networks, Security"}];function W4(){return a.jsxs("div",{className:"min-h-screen",children:[a.jsx("section",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-12 sm:py-16 md:py-20",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-4 sm:mb-6 leading-tight",children:"Welcome to EduQuiz Platform"}),a.jsx("p",{className:"text-base sm:text-lg md:text-xl text-blue-100 mb-6 sm:mb-8 max-w-3xl mx-auto px-4",children:"Challenge yourself with interactive quizzes and explore comprehensive courses taught by expert instructors"}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4 px-4",children:[a.jsx(Te,{to:"/courses",className:"bg-white text-blue-600 px-6 sm:px-8 py-3 rounded-lg font-semibold hover:bg-blue-50 transition text-center min-h-[48px] flex items-center justify-center",children:"Browse Courses"}),a.jsx(Te,{to:"/register",className:"bg-blue-800 text-white px-6 sm:px-8 py-3 rounded-lg font-semibold hover:bg-blue-900 transition text-center min-h-[48px] flex items-center justify-center",children:"Get Started"})]})]})})}),a.jsx("section",{className:"py-8 sm:py-12 md:py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-8 sm:mb-12 text-slate-800",children:"Quiz Challenge"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:V4.map(e=>a.jsxs(Te,{to:`/quiz/${e.id}`,className:"group bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden transform hover:-translate-y-1 active:scale-95",children:[a.jsxs("div",{className:`bg-gradient-to-r ${e.color} p-5 sm:p-6 text-white`,children:[a.jsx(e.icon,{className:"h-10 w-10 sm:h-12 sm:w-12 mb-3"}),a.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2",children:e.name}),a.jsx("p",{className:"text-sm opacity-90",children:e.description})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"15 questions | 30s per question"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Test your knowledge now!"})]})]},e.id))})]})}),a.jsx("section",{className:"bg-white py-8 sm:py-12 md:py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-8 sm:mb-12 text-slate-800",children:"Why Choose Our Platform?"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8",children:[a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"bg-blue-100 rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center mx-auto mb-4",children:a.jsx(Jo,{className:"h-7 w-7 sm:h-8 sm:w-8 text-blue-600"})}),a.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2 text-slate-800",children:"Expert Instructors"}),a.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Learn from experienced teachers and industry professionals"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"bg-purple-100 rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center mx-auto mb-4",children:a.jsx(Yr,{className:"h-7 w-7 sm:h-8 sm:w-8 text-purple-600"})}),a.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2 text-slate-800",children:"Interactive Learning"}),a.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Engage with quizzes, lessons, and hands-on projects"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"bg-green-100 rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center mx-auto mb-4",children:a.jsx(no,{className:"h-7 w-7 sm:h-8 sm:w-8 text-green-600"})}),a.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2 text-slate-800",children:"Track Progress"}),a.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Monitor your learning journey and achievements"})]})]})]})})]})}function H4(){const{category:e}=Qn(),t=Nt(),{user:r,loading:n}=Ze(),[s,i]=S.useState(null),[o,l]=S.useState(0),[c,u]=S.useState(null),[d,f]=S.useState(null),[h,m]=S.useState(!0),[x,p]=S.useState(null),[g,y]=S.useState({}),[v,w]=S.useState(Date.now()),[j,b]=S.useState({}),[N,_]=S.useState(!1),[A,O]=S.useState(new Set),[T,P]=S.useState(0),[C,E]=S.useState(Date.now()),[M,$]=S.useState(!1),[q,D]=S.useState(null),[z,V]=S.useState(null),[ee,ae]=S.useState(!1),[W,Z]=S.useState(!1),[ce,X]=S.useState(!1),[I,B]=S.useState([]),[J,G]=S.useState(!1),[re,R]=S.useState([]);S.useEffect(()=>{!n&&r?Q():!n&&!r&&(p("Authentication required. Please log in."),m(!1))},[e,r,n]),S.useEffect(()=>{if(!s||!s.questions[o]||M)return;const le=s.questions[o],he=setInterval(()=>{const Be=Math.floor((Date.now()-v)/1e3),Oe=Math.max(0,le.time_limit-Be);P(Oe),Oe===0&&!M&&oe()},100);return()=>clearInterval(he)},[o,v,s,M]),S.useEffect(()=>{if(M&&z){const le=setTimeout(()=>{de()},2500);return()=>clearTimeout(le)}},[M,z]),S.useEffect(()=>{if(c&&!M&&!W&&s){const le=s.questions[o].id;if(!g[le]){const he=setTimeout(()=>{oe()},800);return()=>clearTimeout(he)}}},[c,M,W,o]);const L=le=>({science:"6",mathematics:"7",english:"8",computing:"9"})[le]||"6",Q=async()=>{var le,he,Be;try{if(m(!0),p(null),n)return;if(!r)throw new Error("Authentication required. Please log in again.");const{data:{session:Oe},error:pe}=await U.auth.getSession();if(pe||!Oe)throw new Error("Failed to get authentication session. Please log in again.");const ne=L(e||"science"),fe=await fetch(`https://wfolyzksvsfvshxxcjhs.supabase.co/functions/v1/quiz-service/start?quiz_id=${ne}&questions=15`,{method:"GET",headers:{Authorization:`Bearer ${Oe.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indmb2x5emtzdnNmdnNoeHhjamhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMDExMjUsImV4cCI6MjA3Nzc3NzEyNX0.7EBbLDCG5MKN1d0BSWzq4pJqFP4Y5KFlbBRgOjdK5OU"}});if(!fe.ok){const Me=await fe.json().catch(()=>({}));throw new Error(((le=Me.error)==null?void 0:le.message)||`Debug test failed for category: ${e}`)}const Ce=await fe.json();if(!Ce.data.success)throw console.error("Quiz service returned success: false",Ce),new Error(((he=Ce.data.error)==null?void 0:he.message)||"Quiz service returned an error");if(!Ce.data.data)throw console.error("Quiz service returned no data:",Ce),new Error("Quiz service returned no data");if(!Ce.data.data.questions)throw console.error("Quiz service returned no questions array:",Ce.data),new Error("Quiz service returned no questions");const je=Ce.data.data.questions||[];if(je.length===0)throw new Error("No questions available for this category. Please try another category.");const Ke=je.map(Me=>({id:Me.id,question_text:Me.question_text,option_a:Me.option_a,option_b:Me.option_b,option_c:Me.option_c,option_d:Me.option_d,correct_answer:Me.correct_answer,explanation:Me.explanation,hint:Me.hint,points:Me.points||10,time_limit:Me.time_limit||30,difficulty:Me.difficulty||"medium"}));i({id:ne,questions:Ke,start_time:new Date().toISOString(),total_questions:Ke.length,hints_used:0}),l(0),E(Date.now()),w(Date.now()),P(((Be=Ke[0])==null?void 0:Be.time_limit)||30)}catch(Oe){console.error("Error starting quiz:",Oe),p(Oe instanceof Error?Oe.message:"Failed to start quiz")}finally{m(!1)}},ie=async()=>{if(!s||!s.questions[o])return;const le=s.questions[o];if(!A.has(le.id))try{const{data:{session:he},error:Be}=await U.auth.getSession();if(Be||!he)return;const Oe=await fetch(`https://wfolyzksvsfvshxxcjhs.supabase.co/functions/v1/quiz-service/questions/${le.id}/hint`,{method:"GET",headers:{Authorization:`Bearer ${he.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indmb2x5emtzdnNmdnNoeHhjamhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMDExMjUsImV4cCI6MjA3Nzc3NzEyNX0.7EBbLDCG5MKN1d0BSWzq4pJqFP4Y5KFlbBRgOjdK5OU"}});if(Oe.ok){const pe=await Oe.json();pe.data&&pe.data.hint&&(_(!0),O(new Set([...A,le.id])),i(ne=>ne?{...ne,hints_used:ne.hints_used+1}:null))}}catch(he){console.error("Error getting hint:",he)}},oe=()=>{if(!s||W)return;Z(!0);const le=s.questions[o],he=c||"TIMEOUT",Be=he===le.correct_answer,Oe=Date.now()-v;b(pe=>({...pe,[le.id]:Oe})),y(pe=>({...pe,[le.id]:he})),D(Be?"correct":"incorrect"),$(!0),V(Date.now())},de=()=>{var le;s&&($(!1),D(null),V(null),u(null),_(!1),Z(!1),o<s.questions.length-1?(l(he=>he+1),ae(!0),w(Date.now()),P(((le=s.questions[o+1])==null?void 0:le.time_limit)||30)):_t())},Se=()=>{var le;if(o>0&&!M&&!W){l(Be=>Be-1),w(Date.now()),P(((le=s==null?void 0:s.questions[o-1])==null?void 0:le.time_limit)||30),Z(!1);const he=s==null?void 0:s.questions[o-1].id;he&&g[he]?u(g[he]):u(null)}},Ie=()=>{var le;if(o<((s==null?void 0:s.questions.length)||0)-1&&!M&&!W){l(Be=>Be+1),w(Date.now()),P(((le=s==null?void 0:s.questions[o+1])==null?void 0:le.time_limit)||30),ae(!0),Z(!1);const he=s==null?void 0:s.questions[o+1].id;he&&g[he]?u(g[he]):u(null)}},qe=S.useCallback(()=>{const le=["#FF6B9D","#C44569","#FFC312","#EA2027","#0652DD","#9980FA","#5758BB","#1B1464"],he=Array.from({length:30},(Be,Oe)=>({id:Oe,x:Math.random()*100,y:100+Math.random()*20,color:le[Math.floor(Math.random()*le.length)],delay:Math.random()*2,duration:4+Math.random()*2,size:40+Math.random()*40}));B(he)},[]),nt=S.useCallback(()=>{const le=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#F39C12","#E74C3C"],he=Array.from({length:100},(Be,Oe)=>({id:Oe,x:Math.random()*100,y:-20,color:le[Math.floor(Math.random()*le.length)],delay:Math.random()*.5,rotation:Math.random()*360,velocity:3+Math.random()*3}));R(he)},[]),et=S.useCallback(le=>{le>=80&&!ce&&(qe(),X(!0),setTimeout(()=>{X(!1)},6e3)),le>=90&&(nt(),G(!0),setTimeout(()=>{G(!1)},5e3))},[qe,nt]),_t=async()=>{var le;if(!(!s||!r))try{const{data:{session:he},error:Be}=await U.auth.getSession();if(Be||!he){p("Authentication error. Please try logging in again.");return}const Oe=Object.entries(g).map(([ne,fe])=>({question_id:parseInt(ne),user_answer:fe,response_time:j[parseInt(ne)]||0})),pe=await fetch(`https://wfolyzksvsfvshxxcjhs.supabase.co/functions/v1/quiz-service/${s.id}/submit`,{method:"POST",headers:{Authorization:`Bearer ${he.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indmb2x5emtzdnNmdnNoeHhjamhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMDExMjUsImV4cCI6MjA3Nzc3NzEyNX0.7EBbLDCG5MKN1d0BSWzq4pJqFP4Y5KFlbBRgOjdK5OU","Content-Type":"application/json"},body:JSON.stringify({answers:Oe,time_taken:Math.floor((Date.now()-C)/1e3),hints_used_list:Array.from(A)})});if(pe.ok){const ne=await pe.json();if(ne.data){const fe={score:ne.data.final_score||0,max_score:ne.data.max_possible_score||100,percentage:ne.data.percentage||0,time_taken:ne.data.time_taken||0,correct_answers:ne.data.correct_answers||0,total_questions:ne.data.total_questions||0,hints_used:ne.data.hints_used||0,hint_penalty:ne.data.hint_penalty||0,time_bonus:ne.data.time_bonus||0,game_mode:"challenge",responses:(ne.data.results||[]).map(je=>({question_id:je.question_id,question_text:je.question_text,user_answer:je.user_answer,correct_answer:je.correct_answer,is_correct:je.is_correct,explanation:je.explanation,points_earned:je.total_points||je.points_earned||0,response_time:j[je.question_id]||0}))},{data:Ce}=await U.from("profiles").select("full_name").eq("id",r.id).maybeSingle();try{const je=await fetch("https://wfolyzksvsfvshxxcjhs.supabase.co/functions/v1/quiz-gamification-processor",{method:"POST",headers:{Authorization:`Bearer ${he.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indmb2x5emtzdnNmdnNoeHhjamhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMDExMjUsImV4cCI6MjA3Nzc3NzEyNX0.7EBbLDCG5MKN1d0BSWzq4pJqFP4Y5KFlbBRgOjdK5OU","Content-Type":"application/json"},body:JSON.stringify({quiz_id:s.id,quiz_result:fe,questions:s.questions,category:e,user_name:(Ce==null?void 0:Ce.full_name)||"Anonymous"})});if(je.ok){const Ke=await je.json();Ke!=null&&Ke.data&&(fe.new_streak=Ke.data.new_streak??void 0,fe.total_points=Ke.data.total_points??void 0,fe.achievements_unlocked=Ke.data.achievements_unlocked??void 0)}else{const Ke=await je.text();console.error("Gamification processor failed:",{status:je.status,statusText:je.statusText,error:Ke})}}catch(je){console.error("Gamification processing error:",je)}try{const{error:je}=await U.from("quiz_scores").insert({user_id:r.id,quiz_id:parseInt(s.id),category:e,score:fe.score,max_score:fe.max_score,percentage:fe.percentage,time_taken:fe.time_taken,correct_answers:fe.correct_answers,total_questions:fe.total_questions,hints_used:fe.hints_used,hint_penalty:fe.hint_penalty,time_bonus:fe.time_bonus,game_mode:fe.game_mode,is_completed:!0});je&&console.error("Error saving quiz result:",je)}catch(je){console.error("Error saving quiz result:",je)}f(fe),fe.percentage>=80&&!ce&&et(fe.percentage)}}else{const ne=await pe.json().catch(()=>({}));p(((le=ne.error)==null?void 0:le.message)||"Failed to submit quiz")}}catch(he){console.error("Error finishing quiz:",he),p("Failed to submit quiz")}};if(h||n)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:n?"Checking Authentication...":"Starting Quiz..."}),a.jsx("p",{className:"text-slate-600",children:n?"Verifying your session":"Preparing your questions"})]})});if(x)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-orange-50",children:a.jsxs("div",{className:"text-center max-w-md",children:[a.jsx(on,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Quiz Error"}),a.jsx("p",{className:"text-slate-600 mb-6",children:x}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:Q,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Try Again"}),a.jsx("button",{onClick:()=>t("/"),className:"w-full bg-slate-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-slate-700 transition",children:"Go Home"})]})]})});if(d){const le=d.percentage,he=le>=90,Be=le>=80,Oe=le>=60;return a.jsxs("div",{className:"min-h-screen flex items-center justify-center py-8 sm:py-12 px-4 bg-gradient-to-br from-blue-50 to-purple-50 relative overflow-hidden",children:[a.jsxs("div",{className:"max-w-4xl w-full relative z-10",children:[ce&&a.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:I.map(pe=>a.jsx("div",{className:"absolute animate-balloon-float",style:{left:`${pe.x}%`,bottom:"-10%",animationDelay:`${pe.delay}s`,animationDuration:`${pe.duration}s`},children:a.jsxs("div",{className:"relative",style:{width:`${pe.size}px`,height:`${pe.size*1.2}px`},children:[a.jsx("div",{className:"w-full h-full rounded-full animate-balloon-wobble",style:{backgroundColor:pe.color,boxShadow:`inset -10px -10px 20px rgba(0,0,0,0.1), 0 4px 20px ${pe.color}40`}}),a.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2",style:{width:"2px",height:"40px",backgroundColor:pe.color,opacity:.6}})]})},pe.id))}),J&&a.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:re.map(pe=>a.jsx("div",{className:"absolute animate-confetti-fall",style:{left:`${pe.x}%`,top:`${pe.y}%`,backgroundColor:pe.color,animationDelay:`${pe.delay}s`,animationDuration:"3s",width:"10px",height:"10px",transform:`rotate(${pe.rotation}deg)`}},pe.id))}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[a.jsx("div",{className:`p-6 sm:p-8 text-white ${he?"bg-gradient-to-r from-yellow-400 to-orange-500":Be?"bg-gradient-to-r from-green-400 to-blue-500":Oe?"bg-gradient-to-r from-blue-400 to-purple-500":"bg-gradient-to-r from-slate-400 to-slate-600"}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-white/20 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:he?a.jsx(JC,{className:"h-10 w-10"}):a.jsx(so,{className:"h-10 w-10"})}),a.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-2",children:he?"Outstanding!":Be?"Great Job!":Oe?"Good Effort!":"Keep Practicing!"}),a.jsxs("p",{className:"text-xl opacity-90 capitalize",children:[e," Quiz Complete"]}),d.new_streak!=null&&d.new_streak>1&&a.jsx("div",{className:"mt-4 bg-white/20 rounded-lg p-3 inline-block",children:a.jsxs("p",{className:"text-sm font-medium",children:["Streak: ",d.new_streak," days"]})}),d.achievements_unlocked!=null&&Array.isArray(d.achievements_unlocked)&&d.achievements_unlocked.length>0&&a.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2",children:[a.jsx(so,{className:"h-5 w-5"}),a.jsxs("p",{className:"text-sm font-medium",children:[d.achievements_unlocked.length," Achievement",d.achievements_unlocked.length>1?"s":""," Unlocked!"]})]})]})}),a.jsxs("div",{className:"p-6 sm:p-8",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-6 mb-8",children:[a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl",children:[a.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:[le,"%"]}),a.jsx("p",{className:"text-sm text-slate-600",children:"Score"})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl",children:[a.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-green-600",children:[d.correct_answers,"/",d.total_questions]}),a.jsx("p",{className:"text-sm text-slate-600",children:"Correct"})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl",children:[a.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-purple-600",children:[d.time_taken,"s"]}),a.jsx("p",{className:"text-sm text-slate-600",children:"Time"})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl",children:[a.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-orange-600",children:d.total_points??d.score}),a.jsx("p",{className:"text-sm text-slate-600",children:"Points"})]})]}),a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Question Review"}),a.jsxs("button",{onClick:()=>t(`/analytics?category=${e}`),className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium text-sm",children:[a.jsx(no,{className:"h-4 w-4"}),"View Analytics"]})]}),d.responses.map((pe,ne)=>a.jsx("div",{className:`p-4 rounded-xl border-2 transition-all ${pe.is_correct?"border-green-200 bg-green-50 hover:shadow-md":"border-red-200 bg-red-50 hover:shadow-md"}`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[pe.is_correct?a.jsx(ct,{className:"h-6 w-6 text-green-600 flex-shrink-0 mt-1"}):a.jsx(on,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-1"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("p",{className:"font-medium text-slate-800",children:["Question ",ne+1]}),a.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["+",pe.points_earned," pts"]})]}),a.jsx("p",{className:"text-slate-700 mb-2",children:pe.question_text}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("span",{className:`font-medium px-2 py-1 rounded ${pe.is_correct?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:["Your Answer: ",pe.user_answer]}),!pe.is_correct&&a.jsxs("span",{className:"font-medium px-2 py-1 rounded bg-blue-100 text-blue-700",children:["Correct: ",pe.correct_answer]}),pe.response_time&&a.jsxs("span",{className:"text-slate-600",children:[Math.floor(pe.response_time/1e3),"s"]})]}),pe.explanation&&a.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:a.jsxs("p",{className:"text-blue-800",children:[a.jsx("strong",{children:"Explanation:"})," ",pe.explanation]})})]})]})]})},pe.question_id))]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("button",{onClick:()=>t("/"),className:"flex-1 bg-slate-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-slate-700 transition",children:"Go Home"}),a.jsx("button",{onClick:Q,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Try Again"})]})]})]})]}),a.jsx("style",{children:`
          @keyframes balloon-float {
            0% {
              transform: translateY(0) rotate(0deg);
              opacity: 1;
            }
            50% {
              transform: translateY(-50vh) rotate(180deg);
              opacity: 1;
            }
            100% {
              transform: translateY(-110vh) rotate(360deg);
              opacity: 0;
            }
          }
          
          @keyframes balloon-wobble {
            0%, 100% {
              transform: rotate(-3deg);
            }
            50% {
              transform: rotate(3deg);
            }
          }
          
          @keyframes confetti-fall {
            0% {
              transform: translateY(0) rotate(0deg);
              opacity: 1;
            }
            100% {
              transform: translateY(100vh) rotate(720deg);
              opacity: 0;
            }
          }
          
          .animate-balloon-float {
            animation: balloon-float 6s ease-in-out forwards;
          }
          
          .animate-balloon-wobble {
            animation: balloon-wobble 1s ease-in-out infinite;
          }
          
          .animate-confetti-fall {
            animation: confetti-fall 3s ease-in-out forwards;
          }
        `})]})}if(!s)return null;const Pe=s.questions[o],Ir=(o+1)/s.questions.length*100,vr=Object.keys(g).length;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 sm:py-12 px-4",children:[a.jsx("div",{className:"max-w-4xl w-full mx-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 sm:p-6 text-white",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 sm:gap-0 mb-4",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-lg sm:text-xl font-semibold capitalize mb-1",children:[e," Quiz"]}),a.jsxs("p",{className:"text-sm opacity-90",children:["Question ",o+1," of ",s.questions.length]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-lg ${T<=10?"bg-red-500/30 animate-pulse":"bg-white/20"}`,children:[a.jsx(nr,{className:"h-5 w-5"}),a.jsxs("span",{className:"text-lg font-bold",children:[T,"s"]})]}),a.jsx("div",{className:"bg-white/20 px-3 py-2 rounded-lg",children:a.jsxs("span",{className:"text-sm font-medium",children:[vr,"/",s.questions.length]})})]})]}),a.jsx("div",{className:"w-full bg-white/30 rounded-full h-3",children:a.jsx("div",{className:"bg-white h-3 rounded-full transition-all duration-300",style:{width:`${Ir}%`}})})]}),a.jsxs("div",{className:"p-6 sm:p-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-slate-800 flex-1",children:Pe.question_text}),a.jsxs("button",{onClick:ie,disabled:A.has(Pe.id)||M,className:`ml-4 px-3 py-2 rounded-lg text-sm font-medium transition ${A.has(Pe.id)||M?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:[a.jsx(eo,{className:"h-4 w-4 inline mr-1"}),A.has(Pe.id)?"Used":"Hint"]})]}),N&&Pe.hint&&a.jsx("div",{className:"p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-r-lg mb-6 animate-fade-in",children:a.jsxs("div",{className:"flex",children:[a.jsx(eo,{className:"h-5 w-5 text-yellow-600 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("p",{className:"text-yellow-800",children:[a.jsx("strong",{children:"Hint:"})," ",Pe.hint]})]})}),M&&a.jsxs("div",{className:`p-4 rounded-lg mb-6 animate-fade-in ${q==="correct"?"bg-green-50 border-l-4 border-green-500":"bg-red-50 border-l-4 border-red-500"}`,children:[a.jsx("div",{className:"flex items-center",children:q==="correct"?a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("p",{className:"text-green-800 font-medium",children:"Correct! Well done!"})]}):a.jsxs(a.Fragment,{children:[a.jsx(on,{className:"h-5 w-5 text-red-600 mr-2"}),a.jsxs("p",{className:"text-red-800 font-medium",children:["Incorrect. The correct answer is: ",a.jsx("strong",{children:Pe.correct_answer})]})]})}),Pe.explanation&&a.jsx("p",{className:"text-sm text-slate-700 mt-2 ml-7",children:Pe.explanation}),a.jsx("p",{className:"text-xs text-slate-600 mt-2 ml-7",children:"Auto-advancing in 2.5 seconds..."})]})]}),a.jsx("div",{className:"space-y-3 mb-8",children:[{key:"A",value:Pe.option_a},{key:"B",value:Pe.option_b},{key:"C",value:Pe.option_c},{key:"D",value:Pe.option_d}].filter(le=>le.value).map(le=>{const he=c===le.key,Be=le.key===Pe.correct_answer,Oe=M&&Be,pe=M&&he&&!Be;return a.jsx("button",{onClick:()=>{!M&&!W&&!g[Pe.id]&&u(le.key)},disabled:M||W||!!g[Pe.id],className:`w-full text-left p-4 rounded-lg border-2 transition-all ${Oe?"border-green-500 bg-green-50":pe?"border-red-500 bg-red-50":he?"border-blue-600 bg-blue-50 shadow-md transform scale-[1.02]":"border-slate-300 hover:border-slate-400 hover:bg-slate-50"} ${M||W||g[Pe.id]?"cursor-not-allowed opacity-90":"cursor-pointer"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`font-bold text-lg mr-3 w-8 h-8 rounded-full flex items-center justify-center ${Oe?"bg-green-500 text-white":pe?"bg-red-500 text-white":he?"bg-blue-600 text-white":"bg-slate-200 text-slate-600"}`,children:le.key}),a.jsx("span",{className:"text-base flex-1",children:le.value}),Oe&&a.jsx(ct,{className:"h-6 w-6 text-green-600 ml-2"}),pe&&a.jsx(on,{className:"h-6 w-6 text-red-600 ml-2"})]})},le.key)})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{onClick:Se,disabled:o===0||M||W,className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition ${o===0||M||W?"bg-slate-200 text-slate-400 cursor-not-allowed":"bg-slate-600 text-white hover:bg-slate-700"}`,children:[a.jsx(cp,{className:"h-5 w-5"}),"Previous"]}),a.jsxs("button",{onClick:Ie,disabled:o>=s.questions.length-1||M||W,className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition ${o>=s.questions.length-1||M||W?"bg-slate-200 text-slate-400 cursor-not-allowed":"bg-slate-600 text-white hover:bg-slate-700"}`,children:["Next",a.jsx(VS,{className:"h-5 w-5"})]}),W&&a.jsxs("div",{className:"flex-1 flex items-center justify-center gap-2 py-3 px-6 rounded-lg bg-blue-100 text-blue-800 font-semibold",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-800"}),"Submitting..."]})]}),a.jsx("div",{className:"mt-6 text-center text-sm text-slate-600",children:a.jsxs("p",{children:[vr," of ",s.questions.length," questions answered",ee&&"  You can go back to previous questions"]})})]})]})}),a.jsx("style",{children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
      `})]})}function G4(){var re,R,L;const{quizId:e}=Qn(),t=Nt(),r=Xn(),{user:n,loading:s}=Ze(),i=((re=r.state)==null?void 0:re.returnTo)||"/";(R=r.state)==null||R.lessonId,(L=r.state)==null||L.courseId;const[o,l]=S.useState(null),[c,u]=S.useState([]),[d,f]=S.useState(0),[h,m]=S.useState(null),[x,p]=S.useState(null),[g,y]=S.useState(!0),[v,w]=S.useState(null),[j,b]=S.useState(!1),[N,_]=S.useState({}),[A,O]=S.useState(Date.now()),[T,P]=S.useState(!1),[C,E]=S.useState(new Set),[M,$]=S.useState(0),[q,D]=S.useState(Date.now()),[z,V]=S.useState(0),[ee,ae]=S.useState(0);S.useEffect(()=>{!s&&n&&e?W():!s&&!n&&(w("Authentication required. Please log in."),y(!1))},[e,n,s]),S.useEffect(()=>{if(!c[d])return;const Q=c[d],ie=setInterval(()=>{const oe=Math.floor((Date.now()-A)/1e3),de=Math.max(0,Q.timeLimit-oe);$(de),de===0&&X()},1e3);return()=>clearInterval(ie)},[d,A,c]),S.useEffect(()=>{if(!(o!=null&&o.timeLimit))return;const Q=setInterval(()=>{const ie=Math.floor((Date.now()-q)/1e3),oe=Math.max(0,o.timeLimit*60-ie);$(oe),oe===0&&I()},1e3);return()=>clearInterval(Q)},[q,o==null?void 0:o.timeLimit]),S.useEffect(()=>{const Q=()=>V(oe=>oe+1),ie=()=>ae(oe=>oe+1);return window.addEventListener("focus",Q),window.addEventListener("blur",ie),()=>{window.removeEventListener("focus",Q),window.removeEventListener("blur",ie)}},[]);const W=async()=>{var Q,ie;try{y(!0),w(null);const{data:{session:oe},error:de}=await U.auth.getSession();if(de||!oe)throw new Error("Failed to get authentication session");const Se=await fetch(`https://wfolyzksvsfvshxxcjhs.supabase.co/functions/v1/lesson-quiz-service/${e}`,{method:"GET",headers:{Authorization:`Bearer ${oe.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indmb2x5emtzdnNmdnNoeHhjamhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMDExMjUsImV4cCI6MjA3Nzc3NzEyNX0.7EBbLDCG5MKN1d0BSWzq4pJqFP4Y5KFlbBRgOjdK5OU"}});if(!Se.ok){const qe=await Se.json().catch(()=>({}));throw new Error(((Q=qe.error)==null?void 0:Q.message)||"Failed to load quiz")}const Ie=await Se.json();if(Ie.data){const qe=Ie.data.quiz,nt=Ie.data.questions||[];if(nt.length===0)throw new Error("No questions available for this quiz");l(qe),u(nt),D(Date.now()),O(Date.now()),$(((ie=nt[0])==null?void 0:ie.timeLimit)||30)}else throw new Error("Failed to load quiz data")}catch(oe){console.error("Error loading quiz:",oe),w(oe instanceof Error?oe.message:"Failed to load quiz")}finally{y(!1)}},Z=async()=>{var Q,ie;if(!(!c[d]||C.has(d)))try{const oe=c[d],de=await fetch(`https://wfolyzksvsfvshxxcjhs.supabase.co/functions/v1/lesson-quiz-service/questions/${oe.id}/hint`,{method:"GET",headers:{Authorization:`Bearer ${(Q=(await U.auth.getSession()).data.session)==null?void 0:Q.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indmb2x5emtzdnNmdnNoeHhjamhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMDExMjUsImV4cCI6MjA3Nzc3NzEyNX0.7EBbLDCG5MKN1d0BSWzq4pJqFP4Y5KFlbBRgOjdK5OU"}});if(de.ok){const Se=await de.json();Se.success&&((ie=Se.data)!=null&&ie.hint)&&(P(!0),E(new Set([...C,d])))}}catch(oe){console.error("Error getting hint:",oe)}},ce=()=>{if(!h||!c[d])return;const Q=c[d];_(ie=>({...ie,[Q.id]:h})),X()},X=()=>{var Q;d<c.length-1?(f(ie=>ie+1),m(null),P(!1),O(Date.now()),$(((Q=c[d+1])==null?void 0:Q.timeLimit)||30)):I()},I=async()=>{var Q,ie,oe;if(!(!o||!n)){b(!0);try{const de=await fetch(`https://wfolyzksvsfvshxxcjhs.supabase.co/functions/v1/lesson-quiz-service/${e}/submit`,{method:"POST",headers:{Authorization:`Bearer ${(Q=(await U.auth.getSession()).data.session)==null?void 0:Q.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indmb2x5emtzdnNmdnNoeHhjamhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMDExMjUsImV4cCI6MjA3Nzc3NzEyNX0.7EBbLDCG5MKN1d0BSWzq4pJqFP4Y5KFlbBRgOjdK5OU","Content-Type":"application/json"},body:JSON.stringify({answers:N,total_time:Math.floor((Date.now()-q)/1e3),focus_lost_count:z,tab_switches:ee})});if(de.ok){const Se=await de.json();if(Se.success&&Se.data)t(i,{state:{quizCompleted:!0,attempt:Se.data.attempt,returnTo:i}});else throw new Error(((ie=Se.error)==null?void 0:ie.message)||"Failed to submit quiz")}else{const Se=await de.json().catch(()=>({}));throw new Error(((oe=Se.error)==null?void 0:oe.message)||"Failed to submit quiz")}}catch(de){console.error("Error submitting quiz:",de),w(de instanceof Error?de.message:"Failed to submit quiz")}finally{b(!1)}}},B=Q=>{const ie=Math.floor(Q/60),oe=Q%60;return`${ie}:${oe.toString().padStart(2,"0")}`};if(g||s)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Loading Quiz..."}),a.jsx("p",{className:"text-slate-600",children:"Preparing your assessment questions"})]})});if(v)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-orange-50",children:a.jsxs("div",{className:"text-center max-w-md",children:[a.jsx(on,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Quiz Error"}),a.jsx("p",{className:"text-slate-600 mb-6",children:v}),a.jsx("div",{className:"space-y-3",children:a.jsx("button",{onClick:()=>t(i),className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Back to Lesson"})})]})});if(j)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Submitting Quiz..."}),a.jsx("p",{className:"text-slate-600",children:"Calculating your results"})]})});if(!o||c.length===0)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ka,{className:"h-16 w-16 text-amber-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Quiz Not Available"}),a.jsx("p",{className:"text-slate-600 mb-6",children:"This quiz is not currently available."}),a.jsx("button",{onClick:()=>t(i),className:"bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Back to Lesson"})]})});const J=c[d],G=(d+1)/c.length*100;return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 sm:py-12 px-4",children:a.jsx("div",{className:"max-w-4xl w-full mx-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 p-4 sm:p-6 text-white",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 sm:gap-0 mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg sm:text-xl font-semibold",children:o.title}),a.jsx("p",{className:"text-sm text-orange-100",children:"Lesson Assessment"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[o.timeLimit&&a.jsxs("div",{className:"flex items-center space-x-2 bg-white/20 px-3 py-2 rounded-lg",children:[a.jsx(nr,{className:"h-5 w-5"}),a.jsx("span",{className:"text-lg font-bold",children:B(M)})]}),(z>0||ee>0)&&a.jsx("div",{className:"bg-red-500/20 px-3 py-2 rounded-lg",children:a.jsx(ka,{className:"h-5 w-5"})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 text-sm",children:[a.jsxs("span",{children:["Question ",d+1," of ",c.length]}),a.jsxs("span",{className:"text-orange-100",children:["Passing Score: ",o.passingScore,"%"]})]}),a.jsx("div",{className:"w-full bg-white/30 rounded-full h-3 mt-3",children:a.jsx("div",{className:"bg-white h-3 rounded-full transition-all duration-300",style:{width:`${G}%`}})})]}),a.jsxs("div",{className:"p-6 sm:p-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-slate-800 flex-1",children:J.question}),a.jsxs("button",{onClick:Z,disabled:C.has(d),className:`ml-4 px-3 py-2 rounded-lg text-sm font-medium transition ${C.has(d)?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:[a.jsx(eo,{className:"h-4 w-4 inline mr-1"}),C.has(d)?"Hint Used":"Hint"]})]}),T&&J.explanation&&a.jsx("div",{className:"p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-r-lg mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx(eo,{className:"h-5 w-5 text-yellow-600 mr-2 flex-shrink-0 mt-0.5"}),a.jsxs("p",{className:"text-yellow-800",children:[a.jsx("strong",{children:"Hint:"})," ",J.explanation]})]})})]}),a.jsx("div",{className:"space-y-3 mb-8",children:J.type==="true-false"?["True","False"].map(Q=>a.jsxs("button",{onClick:()=>m(Q),className:`w-full text-left p-4 rounded-lg border-2 transition ${h===Q?"border-blue-600 bg-blue-50":"border-slate-300 hover:border-slate-400 hover:bg-slate-50"}`,children:[a.jsxs("span",{className:"font-bold text-lg mr-3",children:[Q==="True"?"A":"B","."]}),a.jsx("span",{className:"text-base",children:Q})]},Q)):J.type==="multiple-choice"&&J.options?J.options.map((Q,ie)=>a.jsxs("button",{onClick:()=>m(Q),className:`w-full text-left p-4 rounded-lg border-2 transition ${h===Q?"border-blue-600 bg-blue-50":"border-slate-300 hover:border-slate-400 hover:bg-slate-50"}`,children:[a.jsxs("span",{className:"font-bold text-lg mr-3",children:[String.fromCharCode(65+ie),"."]}),a.jsx("span",{className:"text-base",children:Q})]},ie)):a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Your Answer"}),a.jsx("input",{type:"text",value:h||"",onChange:Q=>m(Q.target.value),className:"w-full p-4 border-2 border-slate-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200",placeholder:"Enter your answer..."})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[a.jsx("button",{onClick:()=>t(i),className:"px-6 py-3 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition",children:"Exit Quiz"}),a.jsx("button",{onClick:ce,disabled:!h,className:`px-6 py-3 rounded-lg font-semibold transition ${h?"bg-orange-600 text-white hover:bg-orange-700":"bg-slate-300 text-slate-500 cursor-not-allowed"}`,children:d<c.length-1?"Next Question":"Submit Quiz"})]})]})]})})})}function K4(){const[e]=AC(),t=Nt(),{user:r}=Ze(),n=e.get("category")||"all",[s,i]=S.useState([]),[o,l]=S.useState(null),[c,u]=S.useState([]),[d,f]=S.useState(!0),[h,m]=S.useState(n);S.useEffect(()=>{r&&x()},[r,h]);const x=async()=>{try{f(!0);let v=U.from("quiz_scores").select("*").eq("user_id",r.id).eq("is_completed",!0).order("created_at",{ascending:!1});h&&h!=="all"&&(v=v.eq("category",h));const{data:w,error:j}=await v;if(j){console.error("Error loading quiz scores:",j);return}if(i(w||[]),w&&w.length>0)if(h&&h!=="all"){const b=w.filter(_=>_.category===h),N=p(h,b);l(N)}else{const b=new Map;w.forEach(_=>{b.has(_.category)||b.set(_.category,[]),b.get(_.category).push(_)});const N=Array.from(b.entries()).map(([_,A])=>p(_,A));u(N)}else l(null),u([])}finally{f(!1)}},p=(v,w)=>{const j=w.length,b=w.reduce((P,C)=>P+C.percentage,0)/j,N=Math.max(...w.map(P=>P.percentage)),_=w.reduce((P,C)=>P+C.total_questions,0),A=w.reduce((P,C)=>P+C.correct_answers,0),O=w.reduce((P,C)=>P+C.time_taken,0)/j,T=w.slice(0,10).map(P=>P.percentage);return{category:v,totalAttempts:j,averageScore:b,bestScore:N,totalQuestions:_,totalCorrect:A,averageTime:O,recentScores:T}},g=v=>({science:"blue",mathematics:"purple",english:"green",computing:"orange"})[v]||"slate",y=v=>v>=90?{label:"Excellent",color:"text-yellow-600"}:v>=80?{label:"Great",color:"text-green-600"}:v>=70?{label:"Good",color:"text-blue-600"}:v>=60?{label:"Fair",color:"text-orange-600"}:{label:"Needs Improvement",color:"text-red-600"};return d?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"Loading analytics..."})]})}):s.length===0?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-12 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-slate-600 hover:text-slate-800 mb-6",children:[a.jsx(cp,{className:"h-5 w-5"}),"Back to Home"]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[a.jsx(Cs,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"No Quiz Data Yet"}),a.jsx("p",{className:"text-slate-600 mb-6",children:"Complete some quizzes to see your performance analytics here."}),a.jsx("button",{onClick:()=>t("/"),className:"bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Start a Quiz"})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-slate-600 hover:text-slate-800 mb-4",children:[a.jsx(cp,{className:"h-5 w-5"}),"Back to Home"]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Quiz Analytics"}),a.jsx("p",{className:"text-slate-600",children:"Track your progress and identify areas for improvement"})]}),a.jsx(no,{className:"h-12 w-12 text-blue-600"})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-8",children:a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx("button",{onClick:()=>m("all"),className:`px-4 py-2 rounded-lg font-medium transition ${h==="all"?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"All Categories"}),["science","mathematics","english","computing"].map(v=>a.jsx("button",{onClick:()=>m(v),className:`px-4 py-2 rounded-lg font-medium transition capitalize ${h===v?`bg-${g(v)}-600 text-white`:"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:v},v))]})}),h!=="all"&&o&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-blue-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Total Attempts"}),a.jsx(Vn,{className:"h-5 w-5 text-blue-600"})]}),a.jsx("p",{className:"text-3xl font-bold text-slate-800",children:o.totalAttempts})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-green-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Average Score"}),a.jsx(jt,{className:"h-5 w-5 text-green-600"})]}),a.jsxs("p",{className:"text-3xl font-bold text-slate-800",children:[o.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:`text-sm font-medium mt-1 ${y(o.averageScore).color}`,children:y(o.averageScore).label})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-purple-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Best Score"}),a.jsx(so,{className:"h-5 w-5 text-purple-600"})]}),a.jsxs("p",{className:"text-3xl font-bold text-slate-800",children:[o.bestScore.toFixed(1),"%"]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-orange-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Avg Time"}),a.jsx(nr,{className:"h-5 w-5 text-orange-600"})]}),a.jsxs("p",{className:"text-3xl font-bold text-slate-800",children:[Math.round(o.averageTime),"s"]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(no,{className:"h-6 w-6 text-blue-600"}),"Performance Trend"]}),a.jsx("div",{className:"flex items-end justify-between gap-2 h-64",children:o.recentScores.slice(0,10).reverse().map((v,w)=>{const j=v/100*100,b=v>=80?"bg-green-500":v>=60?"bg-blue-500":"bg-orange-500";return a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end",children:[a.jsxs("div",{className:"text-xs font-medium text-slate-600 mb-1",children:[v.toFixed(0),"%"]}),a.jsx("div",{className:`w-full ${b} rounded-t-lg transition-all hover:opacity-80`,style:{height:`${j}%`}}),a.jsx("div",{className:"text-xs text-slate-500 mt-2",children:w+1})]},w)})}),a.jsx("p",{className:"text-center text-sm text-slate-600 mt-4",children:"Recent Attempts (oldest to newest)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(ct,{className:"h-5 w-5 text-green-600"}),"Accuracy Rate"]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-slate-600",children:"Correct Answers"}),a.jsxs("span",{className:"font-medium",children:[o.totalCorrect,"/",o.totalQuestions]})]}),a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3",children:a.jsx("div",{className:"bg-green-500 h-3 rounded-full transition-all",style:{width:`${o.totalCorrect/o.totalQuestions*100}%`}})}),a.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:[(o.totalCorrect/o.totalQuestions*100).toFixed(1),"% accuracy"]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(ux,{className:"h-5 w-5 text-yellow-600"}),"Quick Stats"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"Questions Answered"}),a.jsx("span",{className:"font-bold text-blue-600",children:o.totalQuestions})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"Correct Answers"}),a.jsx("span",{className:"font-bold text-green-600",children:o.totalCorrect})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"Incorrect Answers"}),a.jsx("span",{className:"font-bold text-red-600",children:o.totalQuestions-o.totalCorrect})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(ax,{className:"h-6 w-6 text-blue-600"}),"Recent Quiz History"]}),a.jsx("div",{className:"space-y-3",children:s.slice(0,10).map((v,w)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-sm font-medium text-slate-500",children:["#",w+1]}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-slate-800 capitalize",children:[v.category," Quiz"]}),a.jsxs("p",{className:"text-sm text-slate-600",children:[new Date(v.created_at).toLocaleDateString()," at ",new Date(v.created_at).toLocaleTimeString()]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold text-slate-800",children:[v.percentage.toFixed(1),"%"]}),a.jsxs("p",{className:"text-sm text-slate-600",children:[v.correct_answers,"/",v.total_questions," correct"]})]}),a.jsxs("div",{className:"text-sm text-slate-600 flex items-center gap-1",children:[a.jsx(nr,{className:"h-4 w-4"}),v.time_taken,"s"]}),v.hints_used>0&&a.jsxs("div",{className:"text-sm text-yellow-600 flex items-center gap-1",children:[a.jsx(eo,{className:"h-4 w-4"}),v.hints_used]})]})]},v.id))})]})]}),h==="all"&&c.length>0&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-blue-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Total Quizzes"}),a.jsx(Vn,{className:"h-5 w-5 text-blue-600"})]}),a.jsx("p",{className:"text-3xl font-bold text-slate-800",children:s.length})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-green-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Overall Average"}),a.jsx(jt,{className:"h-5 w-5 text-green-600"})]}),a.jsxs("p",{className:"text-3xl font-bold text-slate-800",children:[(s.reduce((v,w)=>v+w.percentage,0)/s.length).toFixed(1),"%"]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-purple-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Categories"}),a.jsx(XC,{className:"h-5 w-5 text-purple-600"})]}),a.jsx("p",{className:"text-3xl font-bold text-slate-800",children:c.length})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-orange-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Total Questions"}),a.jsx(ct,{className:"h-5 w-5 text-orange-600"})]}),a.jsx("p",{className:"text-3xl font-bold text-slate-800",children:s.reduce((v,w)=>v+w.total_questions,0)})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(Cs,{className:"h-6 w-6 text-blue-600"}),"Performance by Category"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.map(v=>{const w=g(v.category);return a.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-bold text-slate-800 capitalize",children:v.category}),a.jsx("button",{onClick:()=>m(v.category),className:`text-sm text-${w}-600 hover:text-${w}-700 font-medium`,children:"View Details"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Attempts"}),a.jsx("p",{className:"text-2xl font-bold text-slate-800",children:v.totalAttempts})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Avg Score"}),a.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:[v.averageScore.toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Best Score"}),a.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:[v.bestScore.toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Accuracy"}),a.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:[(v.totalCorrect/v.totalQuestions*100).toFixed(1),"%"]})]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:a.jsx("div",{className:`bg-${w}-500 h-2 rounded-full`,style:{width:`${v.averageScore}%`}})})})]},v.category)})})]})]}),a.jsxs("div",{className:"flex gap-4 mt-8",children:[a.jsx("button",{onClick:()=>t("/"),className:"flex-1 bg-slate-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-slate-700 transition",children:"Back to Home"}),a.jsx("button",{onClick:()=>t("/student/dashboard"),className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Go to Dashboard"})]})]})})}function DA({onClose:e,onSuccess:t}){const[r,n]=S.useState(""),[s,i]=S.useState(""),[o,l]=S.useState(""),[c,u]=S.useState(!1),[d,f]=S.useState(""),[h,m]=S.useState(!1),[x,p]=S.useState(!1),{requestPasswordReset:g}=Ze(),y=["I forgot my password","My account was compromised","I need to change my password for security","I'm having trouble logging in","Other reason"];async function v(w){w.preventDefault(),f("");const j=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!r.trim()){f("Email address is required");return}if(!j.test(r.trim())){f("Please enter a valid email address");return}if(s==="Other reason"&&!o.trim()){f('Please describe your situation when selecting "Other reason"');return}m(!0);try{let b=s;s==="Other reason"&&o.trim()&&(b=`Other: ${o.trim()}`);const N=await g(r.trim(),b||void 0);if(!N.success)throw new Error(N.message);p(!0),t&&t(r)}catch(b){f(b.message||"Failed to submit password reset request")}finally{m(!1)}}return x?a.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-6 sm:p-8 max-w-md w-full",role:"alert","aria-live":"polite",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-green-100 rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center mx-auto mb-3 sm:mb-4","aria-hidden":"true",children:a.jsx(nr,{className:"h-7 w-7 sm:h-8 sm:w-8 text-green-600"})}),a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-3",children:"Request Submitted"}),a.jsx("p",{className:"text-sm sm:text-base text-slate-600 mb-6",children:"Your password reset request has been submitted successfully. An administrator will review your request and you'll be notified via email when your temporary password is ready."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"What happens next?"}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 text-left",children:[a.jsx("li",{children:" Administrator reviews your request"}),a.jsx("li",{children:" Temporary password is generated (if approved)"}),a.jsx("li",{children:" You'll receive an email notification"}),a.jsx("li",{children:" Use temporary password to log in"}),a.jsx("li",{children:" You must change your password after logging in"})]})]}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[a.jsx("h4",{className:"font-medium text-green-900 mb-1",children:"Your Request Details:"}),a.jsxs("p",{className:"text-sm text-green-700",children:[a.jsx("strong",{children:"Email:"})," ",r]}),s&&a.jsxs("p",{className:"text-sm text-green-700",children:[a.jsx("strong",{children:"Reason:"})," ",s]})]}),a.jsx("button",{onClick:e,className:"w-full bg-slate-600 text-white py-3 rounded-lg font-semibold hover:bg-slate-700 transition focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",autoFocus:!0,children:"Close"})]})]})}):a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 sm:p-8 max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsx("div",{className:"bg-orange-100 rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center mx-auto mb-3 sm:mb-4",children:a.jsx(Pa,{className:"h-7 w-7 sm:h-8 sm:w-8 text-orange-600"})}),a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"Forgot Password?"}),a.jsx("p",{className:"text-sm sm:text-base text-slate-600 mt-2",children:"Request a password reset with administrator approval"})]}),d&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6 flex items-start space-x-3",children:[a.jsx(Zt,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-sm text-red-600",children:d})]}),a.jsxs("form",{onSubmit:v,className:"space-y-4 sm:space-y-6",noValidate:!0,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"forgot-password-email",className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400","aria-hidden":"true"}),a.jsx("input",{id:"forgot-password-email",type:"email",value:r,onChange:w=>n(w.target.value.trim()),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-base",placeholder:"your@email.com",required:!0,autoComplete:"email","aria-describedby":"email-help",disabled:h})]}),a.jsx("p",{id:"email-help",className:"text-xs text-slate-500 mt-1",children:"Enter the email associated with your account"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{htmlFor:"reset-reason",className:"block text-sm font-medium text-slate-700",children:"Reason for Reset (Optional)"}),a.jsx("button",{type:"button",onClick:()=>u(!c),className:"text-sm text-orange-600 hover:text-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-1 rounded","aria-expanded":c,"aria-controls":"reason-field-container",children:c?"Hide":"Add Reason"})]}),c&&a.jsxs("div",{id:"reason-field-container",className:"space-y-3",children:[a.jsxs("select",{id:"reset-reason",value:s,onChange:w=>i(w.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-base","aria-describedby":"reason-help",disabled:h,children:[a.jsx("option",{value:"",children:"Select a reason..."}),y.map(w=>a.jsx("option",{value:w,children:w},w))]}),s==="Other reason"&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"custom-reason",className:"block text-sm font-medium text-slate-700 mb-2",children:"Please describe your situation"}),a.jsx("textarea",{id:"custom-reason",value:o,onChange:w=>l(w.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-base",placeholder:"Please describe your situation...",rows:3,disabled:h,"aria-describedby":"reason-help",required:s==="Other reason"})]})]}),a.jsx("p",{id:"reason-help",className:"text-xs text-slate-500 mt-1",children:"Providing a reason helps administrators process your request faster"})]}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[a.jsx("h4",{className:"font-medium text-yellow-800 mb-1",children:"Important Information:"}),a.jsxs("ul",{className:"text-xs text-yellow-700 space-y-1",children:[a.jsx("li",{children:" Your request will be reviewed by an administrator"}),a.jsx("li",{children:" Processing typically takes 24 hours"}),a.jsx("li",{children:" You'll receive a temporary password if approved"}),a.jsx("li",{children:" Must change your password after using temporary password"})]})]}),a.jsx("button",{type:"submit",disabled:h||!r.trim()||s==="Other reason"&&!o.trim(),className:"w-full bg-orange-600 text-white py-3 rounded-lg font-semibold hover:bg-orange-700 transition disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 flex items-center justify-center","aria-describedby":"submit-help",children:h?a.jsxs(a.Fragment,{children:[a.jsx(ca,{className:"w-4 h-4 mr-2 animate-spin","aria-hidden":"true"}),"Submitting Request..."]}):"Request Password Reset"}),a.jsx("p",{id:"submit-help",className:"sr-only",children:"Submit your password reset request for administrator review"}),e&&a.jsx("button",{type:"button",onClick:e,className:"w-full bg-slate-600 text-white py-3 rounded-lg font-semibold hover:bg-slate-700 transition",children:"Cancel"})]})]})}function Y4(){const[e,t]=S.useState(""),[r,n]=S.useState(""),[s,i]=S.useState(""),[o,l]=S.useState(!1),[c,u]=S.useState(!1),[d,f]=S.useState(!1),[h,m]=S.useState(!1),[x,p]=S.useState(null),[g,y]=S.useState(!1),[v,w]=S.useState(!1),{signIn:j,user:b,profile:N,hasTemporaryPassword:_,getPasswordResetInfo:A,markTempPasswordAsViewed:O}=Ze(),T=Nt();S.useEffect(()=>{b&&N&&T(`/${N.role}/dashboard`)},[b,N,T]);async function P(){if(e)try{const D=await A(e);p(D),D.hasApprovedReset&&!D.tempPasswordViewed&&(m(!0),await O(e))}catch(D){console.error("Error checking password reset status:",D)}}S.useEffect(()=>{if(e&&e.includes("@")){const D=setTimeout(()=>{P()},500);return()=>clearTimeout(D)}},[e]);async function C(D){D.preventDefault(),i(""),l(!0);try{if(x!=null&&x.hasApprovedReset&&r!==x.tempPassword)try{await j(e,r)}catch(z){if(z.message==="SHOW_TEMP_PASSWORD"){m(!0),i("Please use your temporary password to log in.");return}throw z}else await j(e,r)}catch(z){console.error("Login error:",z),z.message==="PENDING_RESET"?i("Your password reset request is currently pending administrator approval. You will be notified via email when your temporary password is ready."):z.message==="REJECTED_RESET"?(i("Your password reset request was rejected. You can submit a new request using the button below."),f(!0)):z.message==="INVALID_TEMP_PASSWORD"?(i("The temporary password for your approved reset request has expired or been used. Please submit a new password reset request."),f(!0)):z.message==="SHOW_TEMP_PASSWORD"?(m(!0),i("Please use your temporary password to log in.")):i(z.message||"Failed to sign in")}finally{l(!1)}}function E(){i(""),f(!1),u(!0)}function M(){x!=null&&x.tempPassword&&(n(x.tempPassword),m(!1),i(""))}async function $(D){try{await navigator.clipboard.writeText(D),w(!0),setTimeout(()=>w(!1),2e3)}catch(z){console.error("Failed to copy to clipboard:",z)}}function q(D){const z=new Date(D),V=new Date,ee=z.getTime()-V.getTime(),ae=Math.floor(ee/(1e3*60*60)),W=Math.floor(ee%(1e3*60*60)/(1e3*60));return ae>0?`${ae}h ${W}m`:`${W}m`}return a.jsx("div",{className:"min-h-screen flex items-center justify-center py-8 sm:py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 sm:p-8",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsx("div",{className:"bg-blue-100 rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center mx-auto mb-3 sm:mb-4",children:a.jsx(Bi,{className:"h-7 w-7 sm:h-8 sm:w-8 text-blue-600"})}),a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"Welcome Back"}),a.jsx("p",{className:"text-sm sm:text-base text-slate-600 mt-2",children:"Sign in to your account"})]}),s&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6 flex items-start space-x-3",children:[a.jsx(Zt,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-sm text-red-600",children:s})]}),h&&x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[a.jsx("div",{className:"bg-orange-50 border-b border-orange-200 p-6 rounded-t-2xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-orange-100 rounded-full p-2",children:a.jsx(Pa,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-orange-900",children:"Your Temporary Password"}),a.jsx("p",{className:"text-sm text-orange-700",children:"Your password reset has been approved"})]})]}),a.jsx("button",{onClick:()=>m(!1),className:"text-orange-600 hover:text-orange-700 p-1",children:a.jsx(Bi,{className:"h-5 w-5"})})]})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Zt,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-yellow-800",children:"Important Security Notice"}),a.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"You must change your password after using this temporary password."})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Your Temporary Password"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center bg-slate-50 border border-slate-300 rounded-lg p-3",children:[a.jsx("code",{className:"flex-1 font-mono text-sm text-slate-800 bg-transparent border-none p-0 focus:outline-none",children:g?x.tempPassword:""}),a.jsx("button",{type:"button",onClick:()=>y(!g),className:"ml-2 text-slate-400 hover:text-slate-600 p-1",children:g?a.jsx(Kc,{className:"h-4 w-4"}):a.jsx(Qo,{className:"h-4 w-4"})}),a.jsx("button",{type:"button",onClick:()=>$(x.tempPassword),className:"ml-2 text-slate-400 hover:text-slate-600 p-1",children:v?a.jsx(ct,{className:"h-4 w-4 text-green-600"}):a.jsx(WS,{className:"h-4 w-4"})})]}),v&&a.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Copied to clipboard!"})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Expires in:"}),a.jsx("span",{className:"text-sm font-bold text-blue-900",children:q(x.expiresAt)})]}),a.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Expires at: ",new Date(x.expiresAt).toLocaleString()]})]}),a.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"How to use:"}),a.jsxs("ol",{className:"text-sm text-slate-600 space-y-1 list-decimal list-inside",children:[a.jsx("li",{children:"Copy the temporary password above"}),a.jsx("li",{children:"Use it as your password in the login form"}),a.jsx("li",{children:"You will be prompted to change your password immediately"})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{onClick:M,className:"flex-1 bg-orange-600 text-white py-3 rounded-lg font-semibold hover:bg-orange-700 transition",children:"Use This Password"}),a.jsx("button",{onClick:()=>m(!1),className:"flex-1 bg-slate-600 text-white py-3 rounded-lg font-semibold hover:bg-slate-700 transition",children:"Close"})]})]})]})]})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"max-w-lg w-full",children:a.jsx(DA,{onClose:()=>u(!1),onSuccess:D=>{u(!1),t(D),i("")}})})}),a.jsxs("form",{onSubmit:C,className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),a.jsx("input",{type:"email",value:e,onChange:D=>t(D.target.value),className:"w-full pl-10 pr-4 py-3 sm:py-3.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base min-h-[48px]",placeholder:"your@email.com",required:!0,autoComplete:"email"})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Enter your email address to sign in"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),a.jsx("input",{type:"password",value:r,onChange:D=>n(D.target.value),className:"w-full pl-10 pr-4 py-3 sm:py-3.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base min-h-[48px]",placeholder:"Your password or temporary password",required:!0,autoComplete:"current-password"})]}),(x==null?void 0:x.hasApprovedReset)&&a.jsx("div",{className:"mt-2 p-2 bg-orange-50 border border-orange-200 rounded-lg",children:a.jsx("p",{className:"text-xs text-orange-700",children:" You have an approved password reset. Use your temporary password to log in."})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-slate-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-700",children:"Remember me"})]}),a.jsx("div",{className:"text-sm",children:a.jsx("button",{type:"button",onClick:()=>u(!0),className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot password?"})})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition",children:o?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Vt,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Signing in..."})]}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Bi,{className:"h-4 w-4"}),a.jsx("span",{children:"Sign in"})]})})}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-slate-600",children:["Don't have an account?"," ",a.jsx(Te,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})}),d&&a.jsx("div",{className:"text-center pt-2",children:a.jsx("button",{type:"button",onClick:E,className:"text-sm font-medium text-orange-600 hover:text-orange-500",children:"Request new password reset"})})]})]})})})}function X4(){const[e,t]=S.useState(""),[r,n]=S.useState(""),[s,i]=S.useState(""),[o,l]=S.useState("student"),[c,u]=S.useState(""),[d,f]=S.useState(!1),[h,m]=S.useState(!1),{signUp:x}=Ze(),p=Nt();async function g(y){y.preventDefault(),u(""),m(!0);try{await x(e,r,s,o),f(!0),setTimeout(()=>p("/login"),2e3)}catch(v){u(v.message||"Failed to create account")}finally{m(!1)}}return a.jsx("div",{className:"min-h-screen flex items-center justify-center py-8 sm:py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 sm:p-8",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsx("div",{className:"bg-purple-100 rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center mx-auto mb-3 sm:mb-4",children:a.jsx(cx,{className:"h-7 w-7 sm:h-8 sm:w-8 text-purple-600"})}),a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"Create Account"}),a.jsx("p",{className:"text-sm sm:text-base text-slate-600 mt-2",children:"Join our learning platform today"})]}),c&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6 flex items-start space-x-3",children:[a.jsx(Zt,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-sm text-red-600",children:c})]}),d&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6 flex items-start space-x-3",children:[a.jsx(ct,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-sm text-green-600",children:"Account created successfully! Redirecting to login..."})]}),a.jsxs("form",{onSubmit:g,className:"space-y-4 sm:space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),a.jsx("input",{type:"text",value:s,onChange:y=>i(y.target.value),className:"w-full pl-10 pr-4 py-3 sm:py-3.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-base min-h-[48px]",placeholder:"John Doe",required:!0,autoComplete:"name"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),a.jsx("input",{type:"email",value:e,onChange:y=>t(y.target.value),className:"w-full pl-10 pr-4 py-3 sm:py-3.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-base min-h-[48px]",placeholder:"your@email.com",required:!0,autoComplete:"email"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),a.jsx("input",{type:"password",value:r,onChange:y=>n(y.target.value),className:"w-full pl-10 pr-4 py-3 sm:py-3.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-base min-h-[48px]",placeholder:"Minimum 6 characters",minLength:6,required:!0,autoComplete:"new-password"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"I am a..."}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",children:[a.jsx("button",{type:"button",onClick:()=>l("student"),className:`py-3 px-2 sm:px-4 rounded-lg border-2 transition min-h-[48px] text-sm sm:text-base active:scale-95 ${o==="student"?"border-purple-600 bg-purple-50 text-purple-700 font-medium":"border-slate-300 text-slate-700 hover:border-slate-400"}`,children:"Student"}),a.jsx("button",{type:"button",onClick:()=>l("teacher"),className:`py-3 px-2 sm:px-4 rounded-lg border-2 transition min-h-[48px] text-sm sm:text-base active:scale-95 ${o==="teacher"?"border-purple-600 bg-purple-50 text-purple-700 font-medium":"border-slate-300 text-slate-700 hover:border-slate-400"}`,children:"Teacher"}),a.jsx("button",{type:"button",onClick:()=>l("admin"),className:`py-3 px-2 sm:px-4 rounded-lg border-2 transition min-h-[48px] text-sm sm:text-base active:scale-95 ${o==="admin"?"border-purple-600 bg-purple-50 text-purple-700 font-medium":"border-slate-300 text-slate-700 hover:border-slate-400"}`,children:"Admin"})]})]}),a.jsx("button",{type:"submit",disabled:h,className:"w-full bg-purple-600 text-white py-3 sm:py-3.5 rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed min-h-[48px] text-base active:scale-95",children:h?"Creating Account...":"Create Account"})]}),a.jsxs("p",{className:"text-center text-sm sm:text-base text-slate-600 mt-4 sm:mt-6",children:["Already have an account?"," ",a.jsx(Te,{to:"/login",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Sign in"})]})]})})})}function Q4(){const[e,t]=S.useState(!0),[r,n]=S.useState(""),s=o=>{n(o),t(!1)},i=()=>{n(""),t(!0)};return!e&&r?a.jsx("div",{className:"min-h-screen flex items-center justify-center py-8 sm:py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-6 sm:p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-green-100 rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center mx-auto mb-3 sm:mb-4",children:a.jsx(ct,{className:"h-7 w-7 sm:h-8 sm:w-8 text-green-600"})}),a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-3",children:"Request Submitted"}),a.jsxs("p",{className:"text-sm sm:text-base text-slate-600 mb-6",children:["Your password reset request has been submitted successfully for ",a.jsx("strong",{children:r}),". An administrator will review your request and you'll be notified via email when your temporary password is ready."]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"What happens next?"}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 text-left",children:[a.jsx("li",{children:" Administrator reviews your request"}),a.jsx("li",{children:" Temporary password is generated (if approved)"}),a.jsx("li",{children:" You'll receive an email notification"}),a.jsx("li",{children:" Use temporary password to log in"}),a.jsx("li",{children:" You must change your password after logging in"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:i,className:"w-full bg-orange-600 text-white py-3 rounded-lg font-semibold hover:bg-orange-700 transition",children:"Submit Another Request"}),a.jsxs(Te,{to:"/login",className:"w-full bg-slate-600 text-white py-3 rounded-lg font-semibold hover:bg-slate-700 transition flex items-center justify-center space-x-2",children:[a.jsx(gn,{className:"h-4 w-4"}),a.jsx("span",{children:"Back to Login"})]})]})]})})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center py-8 sm:py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 sm:p-8",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsx("div",{className:"bg-orange-100 rounded-full w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center mx-auto mb-3 sm:mb-4",children:a.jsx(Pa,{className:"h-7 w-7 sm:h-8 sm:w-8 text-orange-600"})}),a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"Forgot Password?"}),a.jsx("p",{className:"text-sm sm:text-base text-slate-600 mt-2",children:"Request a password reset with administrator approval"})]}),a.jsx(DA,{onSuccess:s}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(Te,{to:"/login",className:"inline-flex items-center space-x-2 text-sm text-slate-600 hover:text-slate-800 transition-colors",children:[a.jsx(gn,{className:"h-4 w-4"}),a.jsx("span",{children:"Back to Login"})]})})]})})})}function J4(){const[e,t]=S.useState(""),[r,n]=S.useState(""),[s,i]=S.useState(""),[o,l]=S.useState(!1),[c,u]=S.useState(""),[d,f]=S.useState(!1),[h,m]=S.useState(!1),[x,p]=S.useState(!1),{sessionToken:g}=Qn(),y=Nt(),{user:v,changePasswordAfterReset:w}=Ze();S.useEffect(()=>{if(!v){y("/login");return}p(!0)},[v,y]);async function j(O){if(O.preventDefault(),u(""),f(!0),e!==r){u("Passwords do not match"),f(!1);return}if(e.length<8){u("Password must be at least 8 characters long"),f(!1);return}try{const T=await w(e,s,g);if(!T.success)throw new Error(T.message);m(!0),setTimeout(()=>{y("/dashboard")},2e3)}catch(T){u(T.message||"Failed to update password")}finally{f(!1)}}function b(O){let T=0;return O.length>=8&&T++,O.match(/[a-z]/)&&T++,O.match(/[A-Z]/)&&T++,O.match(/[0-9]/)&&T++,O.match(/[^a-zA-Z0-9]/)&&T++,T}const N=b(e),_=["Very Weak","Weak","Fair","Good","Strong"],A=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"];return h?a.jsx("div",{className:"min-h-screen flex items-center justify-center py-8 px-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:a.jsx(ct,{className:"h-8 w-8 text-green-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-3",children:"Password Updated!"}),a.jsx("p",{className:"text-slate-600 mb-6",children:"Your password has been successfully updated. You will be redirected to your dashboard shortly."}),a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"h-2 bg-slate-200 rounded-full",children:a.jsx("div",{className:"h-2 bg-green-500 rounded-full animate-pulse",style:{width:"100%"}})})})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center py-8 px-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:a.jsx(Pa,{className:"h-8 w-8 text-blue-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:x?"Change Your Password":"Update Password"}),a.jsx("p",{className:"text-slate-600 mt-2",children:x?"You must change your password after using a temporary password":"Enter your new password below"})]}),c&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-start space-x-3",children:[a.jsx(Zt,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-sm text-red-600",children:c})]}),a.jsxs("form",{onSubmit:j,className:"space-y-6",children:[x?null:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Current Password"}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:o?"text":"password",value:s,onChange:O=>i(O.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter current password",required:!0,autoComplete:"current-password"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:o?"text":"password",value:e,onChange:O=>t(O.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password",required:!0,autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:o?a.jsx(Kc,{className:"h-5 w-5"}):a.jsx(Qo,{className:"h-5 w-5"})})]}),e&&a.jsx("div",{className:"mt-2",children:a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("div",{className:"flex-1 h-2 bg-slate-200 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full transition-all duration-300 ${A[N]||"bg-slate-200"}`,style:{width:`${N/5*100}%`}})}),a.jsx("span",{className:"text-xs font-medium text-slate-600",children:_[N]||"Very Weak"})]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Confirm New Password"}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:o?"text":"password",value:r,onChange:O=>n(O.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password",required:!0,autoComplete:"new-password"})}),r&&e!==r&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Passwords do not match"}),r&&e===r&&a.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Passwords match"})]}),x&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Security Requirements:"}),a.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[a.jsx("li",{children:" Minimum 8 characters"}),a.jsx("li",{children:" Mix of uppercase and lowercase letters"}),a.jsx("li",{children:" Include at least one number"}),a.jsx("li",{children:" Include special characters (recommended)"})]})]}),a.jsx("button",{type:"submit",disabled:d||e!==r||e.length<8,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Updating Password...":"Update Password"})]})]})})}class Z4{constructor(){fl(this,"isDevelopment",!1);fl(this,"isProduction",!0)}formatMessage(t,r,n,s){return{timestamp:new Date().toISOString(),level:t,message:r,error:n?n instanceof Error?n.message:n:void 0,stack:n instanceof Error?n.stack:void 0,data:s,userAgent:navigator.userAgent,url:window.location.href}}error(t,r,n){this.formatMessage("ERROR",t,r,n),this.isDevelopment?console.error(`${t}:`,r,n):console.error(`${t}:`,(r==null?void 0:r.message)||r)}warn(t,r){this.isDevelopment&&(this.formatMessage("WARN",t,void 0,r),console.warn(`${t}:`,r))}info(t,r){this.isDevelopment&&(this.formatMessage("INFO",t,void 0,r),console.info(`${t}:`,r))}debug(t,r){this.isDevelopment&&(this.formatMessage("DEBUG",t,void 0,r),console.debug(`${t}:`,r))}sendToErrorService(t){console.log("Would send to error service:",t)}}const e3=new Z4,t3=(e,t,r)=>{e3.error(`API Error - ${e}`,t,r)};function r3({isOpen:e,onClose:t}){const{profile:r,signOut:n,user:s}=Ze(),i=Xn(),o=Nt(),[l,c]=S.useState(!1),u=[{name:"Dashboard",href:"/student/dashboard",icon:ox,current:i.pathname==="/student/dashboard",description:"Overview of your learning progress"},{name:"My Courses",href:"/courses",icon:tt,current:i.pathname.startsWith("/courses"),description:"Browse and manage enrolled courses"},{name:"Assignments",href:"/student/dashboard?tab=assignments",icon:Tr,current:i.pathname==="/student/dashboard"&&i.search.includes("tab=assignments"),description:"View all course assignments"},{name:"Recent Grades",href:"/student/dashboard?tab=grades",icon:jt,current:i.pathname==="/student/dashboard"&&i.search.includes("tab=grades"),description:"Check your latest grades"},{name:"Achievements",href:"/student/achievements",icon:Ll,current:i.pathname==="/student/achievements",description:"View earned badges and milestones"},{name:"Bookmarks",href:"/student/bookmarks",icon:Li,current:i.pathname==="/student/bookmarks",description:"Saved content and resources"},{name:"Course Resources",href:"/student/resources",icon:Zi,current:i.pathname==="/student/resources",description:"Download course materials"},{name:"Messages",href:"/messages",icon:pr,current:i.pathname.startsWith("/messages"),description:"Communicate with teachers"}],d=[{name:"Settings",href:"/settings",icon:ro,current:i.pathname==="/settings",description:"Manage your account preferences"},{name:"Help & Support",href:"/help",icon:BC,current:i.pathname==="/help",description:"Get help and support"}],f=S.useCallback(x=>{try{o(x),window.innerWidth<1024&&t()}catch(p){console.error("Navigation error:",p)}},[o,t]),h=S.useCallback(async()=>{if(!l){c(!0);try{await n()}catch(x){console.error("Sign out error:",x)}finally{c(!1)}}},[n,l]);S.useEffect(()=>{const x=p=>{p.key==="Escape"&&e&&t()};return e&&(document.addEventListener("keydown",x),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",x),document.body.style.overflow="unset"}},[e,t]);const m=S.useCallback(x=>{x.target===x.currentTarget&&t()},[t]);return e?a.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[a.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-75 transition-opacity",onClick:m,"aria-hidden":"true"}),a.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-80 max-w-xs flex-col bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-full flex items-center justify-center shadow-md",children:a.jsx(Jo,{className:"h-6 w-6 text-white"})})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-slate-800",children:"EduQuiz"}),a.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Student Portal"})]})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-white/50 transition-colors","aria-label":"Close navigation drawer",children:a.jsx(jn,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4 border-b border-slate-200 bg-slate-50",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-md",children:a.jsx(Kr,{className:"h-6 w-6 text-white"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:(r==null?void 0:r.full_name)||"Student"}),a.jsx("p",{className:"text-xs text-slate-500 capitalize mb-1",children:(r==null?void 0:r.role)||"student"}),(s==null?void 0:s.email)&&a.jsx("p",{className:"text-xs text-slate-400 truncate",children:s.email})]})]})}),a.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Main Navigation"}),u.map(x=>{const p=x.icon;return a.jsxs("button",{onClick:()=>f(x.href),className:`
                    group w-full flex items-center justify-between px-3 py-2.5 text-sm font-medium rounded-lg transition-all duration-200
                    ${x.current?"bg-blue-50 text-blue-700 border border-blue-200 shadow-sm":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}
                  `,title:x.description,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(p,{className:`mr-3 h-5 w-5 ${x.current?"text-blue-600":"text-slate-400 group-hover:text-slate-500"}`}),a.jsx("span",{className:"truncate",children:x.name})]}),x.current&&a.jsx(VS,{className:"h-4 w-4 text-blue-600"})]},x.name)})]}),a.jsxs("div",{className:"space-y-1 pt-4 border-t border-slate-200",children:[a.jsx("h3",{className:"px-3 text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"More"}),d.map(x=>{const p=x.icon;return a.jsxs("button",{onClick:()=>f(x.href),className:`
                    group w-full flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-colors
                    ${x.current?"bg-blue-50 text-blue-700 border border-blue-200":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}
                  `,title:x.description,children:[a.jsx(p,{className:`mr-3 h-5 w-5 ${x.current?"text-blue-600":"text-slate-400 group-hover:text-slate-500"}`}),a.jsx("span",{className:"truncate",children:x.name})]},x.name)})]})]}),a.jsxs("div",{className:"p-4 border-t border-slate-200 bg-slate-50 space-y-1",children:[a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(VC,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-slate-800",children:"Quick Actions"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>f("/student/dashboard"),className:"w-full text-left text-xs text-slate-600 hover:text-blue-600 transition-colors",children:" Go to Dashboard"}),a.jsx("button",{onClick:()=>f("/courses"),className:"w-full text-left text-xs text-slate-600 hover:text-blue-600 transition-colors",children:" Browse Courses"})]})]}),a.jsxs("button",{onClick:h,disabled:l,className:"w-full flex items-center px-3 py-2.5 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Oa,{className:"mr-3 h-5 w-5"}),l?"Signing Out...":"Sign Out"]})]})]})]}):null}function n3({isOpen:e,onClose:t}){const{profile:r,signOut:n}=Ze(),s=Xn(),i=Nt(),o=[{name:"Dashboard",href:"/teacher/dashboard",icon:ox,current:s.pathname==="/teacher/dashboard"},{name:"My Courses",href:"/teacher/dashboard?tab=courses",icon:tt,current:s.pathname==="/teacher/dashboard"&&s.search.includes("tab=courses")},{name:"Assignments",href:"/teacher/dashboard?tab=assignments",icon:Tr,current:s.pathname==="/teacher/dashboard"&&s.search.includes("tab=assignments")},{name:"Pending Grading",href:"/teacher/dashboard?tab=submissions",icon:jt,current:s.pathname==="/teacher/dashboard"&&s.search.includes("tab=submissions")},{name:"Course Resources",href:"/teacher/dashboard?tab=resources",icon:Zi,current:s.pathname==="/teacher/dashboard"&&s.search.includes("tab=resources")},{name:"Announcements",href:"/teacher/dashboard?tab=announcements",icon:ua,current:s.pathname==="/teacher/dashboard"&&s.search.includes("tab=announcements")},{name:"Messages",href:"/messages",icon:pr,current:s.pathname.startsWith("/messages")}],l=c=>{window.innerWidth<1024&&t(),setTimeout(()=>{i(c)},100)};return a.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-slate-200 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Jo,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-slate-800",children:"EduQuiz"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Teacher Portal"})]})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-colors","aria-label":"Close navigation drawer",children:a.jsx(jn,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4 border-b border-slate-200 bg-purple-50",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 bg-purple-600 rounded-full flex items-center justify-center",children:a.jsx(Kr,{className:"h-5 w-5 text-white"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:(r==null?void 0:r.full_name)||"Teacher"}),a.jsx("p",{className:"text-xs text-slate-500 capitalize",children:r==null?void 0:r.role})]})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:o.map(c=>{const u=c.icon;return a.jsxs("button",{onClick:()=>l(c.href),className:`
                w-full flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-colors
                ${c.current?"bg-purple-50 text-purple-700 border border-purple-200":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}
              `,children:[a.jsx(u,{className:`mr-3 h-5 w-5 ${c.current?"text-purple-600":"text-slate-400"}`}),c.name]},c.name)})}),a.jsx("div",{className:"p-4 border-t border-slate-200 space-y-1",children:a.jsxs("button",{onClick:n,className:"w-full flex items-center px-3 py-2.5 text-sm font-medium text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-lg transition-colors",children:[a.jsx(Oa,{className:"mr-3 h-5 w-5 text-slate-400"}),"Sign Out"]})})]})}function s3({isOpen:e,onClose:t}){const{profile:r,signOut:n}=Ze(),s=Xn(),i=Nt(),o=[{name:"Dashboard",href:"/admin/dashboard",icon:ox,current:s.pathname==="/admin/dashboard"&&!s.search},{name:"User Management",href:"/admin/dashboard?tab=users",icon:Yr,current:s.pathname==="/admin/dashboard"&&s.search.includes("tab=users")},{name:"Question Management",href:"/admin/dashboard?tab=questions",icon:Jo,current:s.pathname==="/admin/dashboard"&&s.search.includes("tab=questions")},{name:"Bulk Operations",href:"/admin/dashboard?tab=bulk",icon:ro,current:s.pathname==="/admin/dashboard"&&s.search.includes("tab=bulk")},{name:"Password Resets",href:"/admin/dashboard?tab=password-resets",icon:sy,current:s.pathname==="/admin/dashboard"&&s.search.includes("tab=password-resets")},{name:"Platform Analytics",href:"/admin/dashboard?tab=analytics",icon:Cs,current:s.pathname==="/admin/dashboard"&&s.search.includes("tab=analytics")},{name:"Activity Logs",href:"/admin/dashboard?tab=activity",icon:_a,current:s.pathname==="/admin/dashboard"&&s.search.includes("tab=activity")},{name:"System Settings",href:"/admin/dashboard?tab=system",icon:ro,current:s.pathname==="/admin/dashboard"&&s.search.includes("tab=system")},{name:"Messages",href:"/messages",icon:pr,current:s.pathname.startsWith("/messages")}],l=c=>{i(c),window.innerWidth<1024&&t()};return a.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-slate-200 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(sy,{className:"h-8 w-8 text-orange-600"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-slate-800",children:"EduQuiz"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Admin Portal"})]})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-colors lg:hidden","aria-label":"Close navigation drawer",children:a.jsx(jn,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4 border-b border-slate-200 bg-orange-50",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 bg-orange-600 rounded-full flex items-center justify-center",children:a.jsx(Kr,{className:"h-5 w-5 text-white"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:(r==null?void 0:r.full_name)||"Administrator"}),a.jsx("p",{className:"text-xs text-slate-500 capitalize",children:r==null?void 0:r.role})]})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:o.map(c=>{const u=c.icon;return a.jsxs("button",{onClick:()=>l(c.href),className:`
                w-full flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-colors
                ${c.current?"bg-orange-50 text-orange-700 border border-orange-200":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}
              `,children:[a.jsx(u,{className:`mr-3 h-5 w-5 ${c.current?"text-orange-600":"text-slate-400"}`}),c.name]},c.name)})}),a.jsx("div",{className:"p-4 border-t border-slate-200",children:a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-slate-500",children:[a.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"System Online"})]})}),a.jsx("div",{className:"p-4 border-t border-slate-200 space-y-1",children:a.jsxs("button",{onClick:n,className:"w-full flex items-center px-3 py-2.5 text-sm font-medium text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-lg transition-colors",children:[a.jsx(Oa,{className:"mr-3 h-5 w-5 text-slate-400"}),"Sign Out"]})})]})}function RA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=RA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ne(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=RA(e))&&(n&&(n+=" "),n+=t);return n}const Wx="-",a3=e=>{const t=o3(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Wx);return l[0]===""&&l.length!==1&&l.shift(),$A(l,t)||i3(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},$A=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?$A(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Wx);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Tv=/^\[(.+)\]$/,i3=e=>{if(Tv.test(e)){const t=Tv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},o3=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return c3(Object.entries(e.classGroups),r).forEach(([i,o])=>{Ip(o,n,i,t)}),n},Ip=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Ev(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(l3(s)){Ip(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Ip(o,Ev(t,i),r,n)})})},Ev=(e,t)=>{let r=e;return t.split(Wx).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},l3=e=>e.isThemeGetter,c3=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,u3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},LA="!",d3=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let g=0;g<l.length;g++){let y=l[g];if(u===0){if(y===s&&(n||l.slice(g,g+i)===t)){c.push(l.slice(d,g)),d=g+i;continue}if(y==="/"){f=g;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(LA),x=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},f3=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},h3=e=>({cache:u3(e.cacheSize),parseClassName:d3(e),...a3(e)}),m3=/\s+/,p3=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(m3);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let x=!!m,p=n(x?h.substring(0,m):h);if(!p){if(!x){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}x=!1}const g=f3(d).join(":"),y=f?g+LA:g,v=y+p;if(i.includes(v))continue;i.push(v);const w=s(p,x);for(let j=0;j<w.length;++j){const b=w[j];i.push(y+b)}l=u+(l.length>0?" "+l:l)}return l};function g3(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=qA(t))&&(n&&(n+=" "),n+=r);return n}const qA=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=qA(e[n]))&&(r&&(r+=" "),r+=t);return r};function x3(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=h3(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=p3(c,r);return s(c,d),d}return function(){return i(g3.apply(null,arguments))}}const Xe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},BA=/^\[(?:([a-z-]+):)?(.+)\]$/i,y3=/^\d+\/\d+$/,v3=new Set(["px","full","screen"]),b3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,w3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,N3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,S3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tn=e=>da(e)||v3.has(e)||y3.test(e),On=e=>ci(e,"length",E3),da=e=>!!e&&!Number.isNaN(Number(e)),ed=e=>ci(e,"number",da),wi=e=>!!e&&Number.isInteger(Number(e)),_3=e=>e.endsWith("%")&&da(e.slice(0,-1)),Ae=e=>BA.test(e),kn=e=>b3.test(e),A3=new Set(["length","size","percentage"]),P3=e=>ci(e,A3,FA),O3=e=>ci(e,"position",FA),k3=new Set(["image","url"]),C3=e=>ci(e,k3,I3),T3=e=>ci(e,"",M3),ji=()=>!0,ci=(e,t,r)=>{const n=BA.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},E3=e=>w3.test(e)&&!j3.test(e),FA=()=>!1,M3=e=>N3.test(e),I3=e=>S3.test(e),D3=()=>{const e=Xe("colors"),t=Xe("spacing"),r=Xe("blur"),n=Xe("brightness"),s=Xe("borderColor"),i=Xe("borderRadius"),o=Xe("borderSpacing"),l=Xe("borderWidth"),c=Xe("contrast"),u=Xe("grayscale"),d=Xe("hueRotate"),f=Xe("invert"),h=Xe("gap"),m=Xe("gradientColorStops"),x=Xe("gradientColorStopPositions"),p=Xe("inset"),g=Xe("margin"),y=Xe("opacity"),v=Xe("padding"),w=Xe("saturate"),j=Xe("scale"),b=Xe("sepia"),N=Xe("skew"),_=Xe("space"),A=Xe("translate"),O=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Ae,t],C=()=>[Ae,t],E=()=>["",tn,On],M=()=>["auto",da,Ae],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",Ae],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[da,Ae];return{cacheSize:500,separator:":",theme:{colors:[ji],spacing:[tn,On],blur:["none","",kn,Ae],brightness:ae(),borderColor:[e],borderRadius:["none","","full",kn,Ae],borderSpacing:C(),borderWidth:E(),contrast:ae(),grayscale:V(),hueRotate:ae(),invert:V(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[_3,On],inset:P(),margin:P(),opacity:ae(),padding:C(),saturate:ae(),scale:ae(),sepia:V(),skew:ae(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[kn]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Ae]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wi,Ae]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",wi,Ae]}],"grid-cols":[{"grid-cols":[ji]}],"col-start-end":[{col:["auto",{span:["full",wi,Ae]},Ae]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[ji]}],"row-start-end":[{row:["auto",{span:[wi,Ae]},Ae]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ae,t]}],"min-w":[{"min-w":[Ae,t,"min","max","fit"]}],"max-w":[{"max-w":[Ae,t,"none","full","min","max","fit","prose",{screen:[kn]},kn]}],h:[{h:[Ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",kn,On]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ed]}],"font-family":[{font:[ji]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",da,ed]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tn,Ae]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tn,On]}],"underline-offset":[{"underline-offset":["auto",tn,Ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),O3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",P3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},C3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[tn,Ae]}],"outline-w":[{outline:[tn,On]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[tn,On]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",kn,T3]}],"shadow-color":[{shadow:[ji]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",kn,Ae]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[wi,Ae]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[tn,On,ed]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},R3=x3(D3);function gr(...e){return R3(Ne(e))}const $3={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},zA=({size:e="md",color:t="text-blue-600",className:r})=>a.jsx(ca,{className:gr("animate-spin",$3[e],t,r)}),Gn=({message:e="Loading...",size:t="md",className:r})=>a.jsxs("div",{className:gr("flex flex-col items-center justify-center p-8",r),children:[a.jsx(zA,{size:t}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e})]}),Or=({title:e,description:t,action:r,icon:n,className:s})=>a.jsxs("div",{className:gr("flex flex-col items-center justify-center p-12 text-center",s),children:[n&&a.jsx("div",{className:"mb-4 text-gray-400",children:n}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e}),t&&a.jsx("p",{className:"text-sm text-gray-600 mb-6 max-w-sm",children:t}),r]}),ui=({title:e="Something went wrong",message:t,onRetry:r,className:n})=>a.jsxs("div",{className:gr("flex flex-col items-center justify-center p-8 text-center",n),children:[a.jsx(on,{className:"w-12 h-12 text-red-500 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e}),a.jsx("p",{className:"text-sm text-red-600 mb-4 max-w-md",children:t}),r&&a.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Try Again"})]}),Hx=({title:e,description:t,actions:r,breadcrumbs:n,className:s})=>a.jsxs("div",{className:gr("border-b border-gray-200 pb-6",s),children:[n&&a.jsx("nav",{className:"mb-4",children:a.jsx("ol",{className:"flex items-center space-x-2 text-sm text-gray-500",children:n.map((i,o)=>a.jsxs("li",{className:"flex items-center",children:[o>0&&a.jsx("span",{className:"mx-2",children:"/"}),i.href?a.jsx("a",{href:i.href,className:"hover:text-gray-700",children:i.label}):a.jsx("span",{children:i.label})]},o))})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e}),t&&a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t})]}),r&&a.jsx("div",{className:"flex items-center space-x-3",children:r})]})]}),L3={sm:"p-4",md:"p-6",lg:"p-8"},q3={sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"},Ot=({children:e,className:t,padding:r="md",shadow:n="sm"})=>a.jsx("div",{className:gr("bg-white rounded-lg border border-gray-200",L3[r],q3[n],t),children:e}),hr=({title:e,value:t,change:r,icon:n,className:s})=>a.jsx(Ot,{className:s,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-3 bg-blue-100 rounded-md text-blue-600",children:n})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:e}),a.jsxs("dd",{className:"flex items-baseline",children:[a.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:t}),r&&a.jsxs("div",{className:gr("ml-2 flex items-baseline text-sm font-semibold",r.type==="increase"?"text-green-600":"text-red-600"),children:[a.jsxs("span",{className:"sr-only",children:[r.type==="increase"?"Increased":"Decreased"," by"]}),r.value,"%"]})]})]})})]})}),Gx=({items:e,activeTab:t,onTabChange:r,className:n})=>a.jsx("div",{className:gr("border-b border-gray-200",n),children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:e.map(s=>a.jsxs("button",{onClick:()=>!s.disabled&&r(s.id),disabled:s.disabled,className:gr("whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm",t===s.id?"border-blue-500 text-blue-600":s.disabled?"border-transparent text-gray-400 cursor-not-allowed":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[s.label,s.count!==void 0&&a.jsx("span",{className:gr("ml-2 py-0.5 px-2 rounded-full text-xs",t===s.id?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-900"),children:s.count})]},s.id))})}),B3=({value:e,max:t=100,className:r="",color:n="bg-blue-600"})=>{const s=Math.min(e/t*100,100);return a.jsx("div",{className:gr("w-full bg-gray-200 rounded-full h-2",r),children:a.jsx("div",{className:gr("h-2 rounded-full transition-all duration-300",n),style:{width:`${s}%`}})})};class td{static async getUserNotifications(t,r=20){try{const{data:n,error:s}=await U.from("notifications").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(r);return s?(console.error("Error fetching notifications:",s),this.getFallbackNotifications()):n||[]}catch(n){return console.error("Failed to fetch notifications:",n),this.getFallbackNotifications()}}static async markAsRead(t){try{const{error:r}=await U.from("notifications").update({read:!0}).eq("id",t);return r?(console.error("Error marking notification as read:",r),!1):!0}catch(r){return console.error("Failed to mark notification as read:",r),!1}}static async markAllAsRead(t){try{const{error:r}=await U.from("notifications").update({read:!0}).eq("user_id",t).eq("read",!1);return r?(console.error("Error marking all notifications as read:",r),!1):!0}catch(r){return console.error("Failed to mark all notifications as read:",r),!1}}static async getUnreadCount(t){try{const{count:r,error:n}=await U.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",t).eq("read",!1);return n?(console.error("Error getting unread count:",n),0):r||0}catch(r){return console.error("Failed to get unread count:",r),0}}static async createNotification(t){try{const{data:r,error:n}=await U.from("notifications").insert([t]).select("id").single();return n?(console.error("Error creating notification:",n),null):(r==null?void 0:r.id)||null}catch(r){return console.error("Failed to create notification:",r),null}}static getFallbackNotifications(){const t=new Date,r=new Date(t.getTime()-3600*1e3),n=new Date(t.getTime()-7200*1e3),s=new Date(t.getTime()-1440*60*1e3);return[{id:"fallback-1",user_id:"fallback-user",type:"assignment",title:"New Assignment Available",message:"Mathematics Quiz is now available for submission",link:"/assignments",read:!1,created_at:r.toISOString()},{id:"fallback-2",user_id:"fallback-user",type:"grade",title:"Grade Posted",message:"Your English essay has been graded and feedback is available",link:"/grades",read:!1,created_at:n.toISOString()},{id:"fallback-3",user_id:"fallback-user",type:"announcement",title:"Course Announcement",message:"New lecture materials have been uploaded to the course portal",link:"/courses",read:!0,created_at:s.toISOString()}]}static subscribeToNotifications(t,r){const n=U.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t}`},s=>{r(s.new)}).subscribe();return()=>{U.removeChannel(n)}}static generateNotificationTitle(t,r){switch(t){case"assignment":return"New Assignment Available";case"grade":return"Grade Posted";case"announcement":return"Course Announcement";case"quiz":return"New Quiz Ready";case"reminder":return"Reminder";case"system":return"System Notification";default:return"Notification"}}static generateNotificationMessage(t,r){switch(t){case"assignment":return`${(r==null?void 0:r.title)||"New assignment"} is now available for submission`;case"grade":return`Your ${(r==null?void 0:r.assignmentTitle)||"assignment"} has been graded and feedback is available`;case"announcement":return(r==null?void 0:r.message)||"New course materials and updates are available";case"quiz":return`The ${(r==null?void 0:r.quizTitle)||"quiz"} is ready to take`;case"reminder":return(r==null?void 0:r.message)||"You have pending tasks";case"system":return(r==null?void 0:r.message)||"System update available";default:return"You have a new notification"}}}function di({children:e}){var v,w;const{profile:t,user:r,signOut:n}=Ze(),[s,i]=S.useState(!1),[o,l]=S.useState([]),[c,u]=S.useState(!1),[d,f]=S.useState(!1),[h,m]=S.useState(!1);S.useEffect(()=>{if(r)return x(),td.subscribeToNotifications(r.id,b=>{l(N=>[b,...N])})},[r]),S.useEffect(()=>{const j=()=>{window.innerWidth>=1024&&(i(!1),u(!1))},b=N=>{N.target.closest(".notifications-dropdown")||u(!1)};return window.addEventListener("resize",j),document.addEventListener("mousedown",b),()=>{window.removeEventListener("resize",j),document.removeEventListener("mousedown",b)}},[]);const x=S.useCallback(async()=>{if(r)try{m(!0);const j=await td.getUserNotifications(r.id,50);l(j)}catch(j){console.error("Failed to load notifications:",j)}finally{m(!1)}},[r]),p=async j=>{l(N=>N.map(_=>_.id===j?{..._,read:!0}:_)),await td.markAsRead(j)||l(N=>N.map(_=>_.id===j?{..._,read:!1}:_))},g=async()=>{try{f(!0),await n()}catch(j){console.error("Sign out error:",j)}finally{f(!1)}},y=()=>{switch(t==null?void 0:t.role){case"student":return a.jsx(r3,{isOpen:s,onClose:()=>i(!1)});case"teacher":return a.jsx(n3,{isOpen:s,onClose:()=>i(!1)});case"admin":return a.jsx(s3,{isOpen:s,onClose:()=>i(!1)});default:return null}};return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:a.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>i(!s),className:"p-2 rounded-lg text-slate-600 hover:text-slate-900 hover:bg-slate-100 transition-colors","aria-label":"Toggle navigation drawer",children:s?a.jsx(jn,{className:"h-6 w-6"}):a.jsx(KS,{className:"h-6 w-6"})}),a.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-slate-900",children:[(t==null?void 0:t.role)==="student"&&"Student Dashboard",(t==null?void 0:t.role)==="teacher"&&"Teacher Dashboard",(t==null?void 0:t.role)==="admin"&&"Admin Dashboard"]})]}),a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>u(!c),className:"p-2 rounded-lg text-slate-600 hover:text-slate-900 hover:bg-slate-100 transition-colors relative","aria-label":"Notifications",children:[h?a.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-slate-300 border-t-slate-600"}):a.jsx(Aa,{className:"h-5 w-5"}),o.filter(j=>!j.read).length>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:o.filter(j=>!j.read).length})]}),c&&a.jsxs("div",{className:"notifications-dropdown absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notifications"})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:h?a.jsxs("div",{className:"p-4 text-center",children:[a.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-slate-300 border-t-slate-600 mx-auto"}),a.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Loading notifications..."})]}):o.length>0?o.map(j=>a.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${j.read?"":"bg-blue-50"}`,onClick:()=>p(j.id),children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:j.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.message}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(j.created_at).toLocaleString()}),j.link&&a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"View details "})]}),!j.read&&a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full ml-2 mt-1"})]})},j.id)):a.jsxs("div",{className:"p-4 text-center text-gray-500",children:[a.jsx(Aa,{className:"h-8 w-8 mx-auto text-gray-300 mb-2"}),a.jsx("p",{children:"No notifications yet"})]})})]})]}),a.jsx("div",{className:"relative",children:a.jsxs("button",{className:"flex items-center space-x-2 p-2 rounded-lg text-slate-600 hover:text-slate-900 hover:bg-slate-100 transition-colors","aria-label":"User menu",children:[a.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-semibold text-white",children:((w=(v=t==null?void 0:t.full_name)==null?void 0:v.charAt(0))==null?void 0:w.toUpperCase())||"U"})}),a.jsxs("div",{className:"hidden sm:block text-left",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900",children:(t==null?void 0:t.full_name)||"User"}),a.jsx("p",{className:"text-xs text-slate-500 capitalize",children:t==null?void 0:t.role})]})]})}),a.jsxs("div",{className:"hidden sm:flex items-center space-x-1",children:[a.jsx("button",{className:"p-2 rounded-lg text-slate-600 hover:text-slate-900 hover:bg-slate-100 transition-colors","aria-label":"Settings",children:a.jsx(ro,{className:"h-5 w-5"})}),a.jsx("button",{onClick:g,disabled:d,className:"p-2 rounded-lg text-slate-600 hover:text-slate-900 hover:bg-slate-100 transition-colors","aria-label":"Sign out",children:d?a.jsx(zA,{size:"sm"}):a.jsx(Oa,{className:"h-5 w-5"})})]})]})]})})}),a.jsxs("div",{className:"hidden lg:block",children:[a.jsx("div",{className:`fixed inset-y-0 left-0 z-30 w-64 transform transition-transform duration-300 ease-in-out ${s?"translate-x-0":"-translate-x-full"}`,children:a.jsx("div",{className:"h-full overflow-hidden",children:y()})}),a.jsx("div",{className:`transition-all duration-300 ease-in-out ${s?"ml-64":"ml-0"}`,children:a.jsx("div",{className:"h-[calc(100vh-4rem)] overflow-y-auto",children:e})})]}),s&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 transition-opacity",onClick:j=>{j.stopPropagation(),i(!1)}}),a.jsx("div",{className:"fixed inset-y-0 left-0 z-50 w-64 transform transition-transform duration-300 ease-in-out",children:y()})]}),a.jsx("div",{className:"lg:hidden",children:a.jsx("div",{className:"h-[calc(100vh-4rem)] overflow-y-auto",children:e})})]})}var rd,Mv;function Wt(){if(Mv)return rd;Mv=1;var e=Array.isArray;return rd=e,rd}var nd,Iv;function UA(){if(Iv)return nd;Iv=1;var e=typeof ml=="object"&&ml&&ml.Object===Object&&ml;return nd=e,nd}var sd,Dv;function Zr(){if(Dv)return sd;Dv=1;var e=UA(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return sd=r,sd}var ad,Rv;function nl(){if(Rv)return ad;Rv=1;var e=Zr(),t=e.Symbol;return ad=t,ad}var id,$v;function F3(){if($v)return id;$v=1;var e=nl(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,s=e?e.toStringTag:void 0;function i(o){var l=r.call(o,s),c=o[s];try{o[s]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[s]=c:delete o[s]),d}return id=i,id}var od,Lv;function z3(){if(Lv)return od;Lv=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return od=r,od}var ld,qv;function Nn(){if(qv)return ld;qv=1;var e=nl(),t=F3(),r=z3(),n="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?s:n:i&&i in Object(l)?t(l):r(l)}return ld=o,ld}var cd,Bv;function Sn(){if(Bv)return cd;Bv=1;function e(t){return t!=null&&typeof t=="object"}return cd=e,cd}var ud,Fv;function fi(){if(Fv)return ud;Fv=1;var e=Nn(),t=Sn(),r="[object Symbol]";function n(s){return typeof s=="symbol"||t(s)&&e(s)==r}return ud=n,ud}var dd,zv;function Kx(){if(zv)return dd;zv=1;var e=Wt(),t=fi(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return dd=s,dd}var fd,Uv;function Zn(){if(Uv)return fd;Uv=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return fd=e,fd}var hd,Vv;function Yx(){if(Vv)return hd;Vv=1;var e=Nn(),t=Zn(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==n||c==s||c==r||c==i}return hd=o,hd}var md,Wv;function U3(){if(Wv)return md;Wv=1;var e=Zr(),t=e["__core-js_shared__"];return md=t,md}var pd,Hv;function V3(){if(Hv)return pd;Hv=1;var e=U3(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return pd=r,pd}var gd,Gv;function VA(){if(Gv)return gd;Gv=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return gd=r,gd}var xd,Kv;function W3(){if(Kv)return xd;Kv=1;var e=Yx(),t=V3(),r=Zn(),n=VA(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!r(h)||t(h))return!1;var m=e(h)?d:i;return m.test(n(h))}return xd=f,xd}var yd,Yv;function H3(){if(Yv)return yd;Yv=1;function e(t,r){return t==null?void 0:t[r]}return yd=e,yd}var vd,Xv;function Bs(){if(Xv)return vd;Xv=1;var e=W3(),t=H3();function r(n,s){var i=t(n,s);return e(i)?i:void 0}return vd=r,vd}var bd,Qv;function ru(){if(Qv)return bd;Qv=1;var e=Bs(),t=e(Object,"create");return bd=t,bd}var wd,Jv;function G3(){if(Jv)return wd;Jv=1;var e=ru();function t(){this.__data__=e?e(null):{},this.size=0}return wd=t,wd}var jd,Zv;function K3(){if(Zv)return jd;Zv=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return jd=e,jd}var Nd,eb;function Y3(){if(eb)return Nd;eb=1;var e=ru(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return n.call(o,i)?o[i]:void 0}return Nd=s,Nd}var Sd,tb;function X3(){if(tb)return Sd;tb=1;var e=ru(),t=Object.prototype,r=t.hasOwnProperty;function n(s){var i=this.__data__;return e?i[s]!==void 0:r.call(i,s)}return Sd=n,Sd}var _d,rb;function Q3(){if(rb)return _d;rb=1;var e=ru(),t="__lodash_hash_undefined__";function r(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&s===void 0?t:s,this}return _d=r,_d}var Ad,nb;function J3(){if(nb)return Ad;nb=1;var e=G3(),t=K3(),r=Y3(),n=X3(),s=Q3();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,Ad=i,Ad}var Pd,sb;function Z3(){if(sb)return Pd;sb=1;function e(){this.__data__=[],this.size=0}return Pd=e,Pd}var Od,ab;function Xx(){if(ab)return Od;ab=1;function e(t,r){return t===r||t!==t&&r!==r}return Od=e,Od}var kd,ib;function nu(){if(ib)return kd;ib=1;var e=Xx();function t(r,n){for(var s=r.length;s--;)if(e(r[s][0],n))return s;return-1}return kd=t,kd}var Cd,ob;function eI(){if(ob)return Cd;ob=1;var e=nu(),t=Array.prototype,r=t.splice;function n(s){var i=this.__data__,o=e(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return Cd=n,Cd}var Td,lb;function tI(){if(lb)return Td;lb=1;var e=nu();function t(r){var n=this.__data__,s=e(n,r);return s<0?void 0:n[s][1]}return Td=t,Td}var Ed,cb;function rI(){if(cb)return Ed;cb=1;var e=nu();function t(r){return e(this.__data__,r)>-1}return Ed=t,Ed}var Md,ub;function nI(){if(ub)return Md;ub=1;var e=nu();function t(r,n){var s=this.__data__,i=e(s,r);return i<0?(++this.size,s.push([r,n])):s[i][1]=n,this}return Md=t,Md}var Id,db;function su(){if(db)return Id;db=1;var e=Z3(),t=eI(),r=tI(),n=rI(),s=nI();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,Id=i,Id}var Dd,fb;function Qx(){if(fb)return Dd;fb=1;var e=Bs(),t=Zr(),r=e(t,"Map");return Dd=r,Dd}var Rd,hb;function sI(){if(hb)return Rd;hb=1;var e=J3(),t=su(),r=Qx();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Rd=n,Rd}var $d,mb;function aI(){if(mb)return $d;mb=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return $d=e,$d}var Ld,pb;function au(){if(pb)return Ld;pb=1;var e=aI();function t(r,n){var s=r.__data__;return e(n)?s[typeof n=="string"?"string":"hash"]:s.map}return Ld=t,Ld}var qd,gb;function iI(){if(gb)return qd;gb=1;var e=au();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return qd=t,qd}var Bd,xb;function oI(){if(xb)return Bd;xb=1;var e=au();function t(r){return e(this,r).get(r)}return Bd=t,Bd}var Fd,yb;function lI(){if(yb)return Fd;yb=1;var e=au();function t(r){return e(this,r).has(r)}return Fd=t,Fd}var zd,vb;function cI(){if(vb)return zd;vb=1;var e=au();function t(r,n){var s=e(this,r),i=s.size;return s.set(r,n),this.size+=s.size==i?0:1,this}return zd=t,zd}var Ud,bb;function Jx(){if(bb)return Ud;bb=1;var e=sI(),t=iI(),r=oI(),n=lI(),s=cI();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,Ud=i,Ud}var Vd,wb;function WA(){if(wb)return Vd;wb=1;var e=Jx(),t="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,Vd=r,Vd}var Wd,jb;function uI(){if(jb)return Wd;jb=1;var e=WA(),t=500;function r(n){var s=e(n,function(o){return i.size===t&&i.clear(),o}),i=s.cache;return s}return Wd=r,Wd}var Hd,Nb;function dI(){if(Nb)return Hd;Nb=1;var e=uI(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(o,l,c,u){i.push(c?u.replace(r,"$1"):l||o)}),i});return Hd=n,Hd}var Gd,Sb;function Zx(){if(Sb)return Gd;Sb=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=Array(s);++n<s;)i[n]=r(t[n],n,t);return i}return Gd=e,Gd}var Kd,_b;function fI(){if(_b)return Kd;_b=1;var e=nl(),t=Zx(),r=Wt(),n=fi(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return Kd=o,Kd}var Yd,Ab;function HA(){if(Ab)return Yd;Ab=1;var e=fI();function t(r){return r==null?"":e(r)}return Yd=t,Yd}var Xd,Pb;function GA(){if(Pb)return Xd;Pb=1;var e=Wt(),t=Kx(),r=dI(),n=HA();function s(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return Xd=s,Xd}var Qd,Ob;function iu(){if(Ob)return Qd;Ob=1;var e=fi();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Qd=t,Qd}var Jd,kb;function e0(){if(kb)return Jd;kb=1;var e=GA(),t=iu();function r(n,s){s=e(s,n);for(var i=0,o=s.length;n!=null&&i<o;)n=n[t(s[i++])];return i&&i==o?n:void 0}return Jd=r,Jd}var Zd,Cb;function KA(){if(Cb)return Zd;Cb=1;var e=e0();function t(r,n,s){var i=r==null?void 0:e(r,n);return i===void 0?s:i}return Zd=t,Zd}var hI=KA();const tr=ze(hI);var ef,Tb;function mI(){if(Tb)return ef;Tb=1;function e(t){return t==null}return ef=e,ef}var pI=mI();const be=ze(pI);var tf,Eb;function gI(){if(Eb)return tf;Eb=1;var e=Nn(),t=Wt(),r=Sn(),n="[object String]";function s(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return tf=s,tf}var xI=gI();const Es=ze(xI);var yI=Yx();const ye=ze(yI);var vI=Zn();const hi=ze(vI);var rf={exports:{}},$e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function bI(){if(Mb)return $e;Mb=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function p(g){if(typeof g=="object"&&g!==null){var y=g.$$typeof;switch(y){case e:switch(g=g.type,g){case r:case s:case n:case u:case d:return g;default:switch(g=g&&g.$$typeof,g){case l:case o:case c:case h:case f:case i:return g;default:return y}}case t:return y}}}return $e.ContextConsumer=o,$e.ContextProvider=i,$e.Element=e,$e.ForwardRef=c,$e.Fragment=r,$e.Lazy=h,$e.Memo=f,$e.Portal=t,$e.Profiler=s,$e.StrictMode=n,$e.Suspense=u,$e.SuspenseList=d,$e.isAsyncMode=function(){return!1},$e.isConcurrentMode=function(){return!1},$e.isContextConsumer=function(g){return p(g)===o},$e.isContextProvider=function(g){return p(g)===i},$e.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},$e.isForwardRef=function(g){return p(g)===c},$e.isFragment=function(g){return p(g)===r},$e.isLazy=function(g){return p(g)===h},$e.isMemo=function(g){return p(g)===f},$e.isPortal=function(g){return p(g)===t},$e.isProfiler=function(g){return p(g)===s},$e.isStrictMode=function(g){return p(g)===n},$e.isSuspense=function(g){return p(g)===u},$e.isSuspenseList=function(g){return p(g)===d},$e.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===s||g===n||g===u||g===d||g===m||typeof g=="object"&&g!==null&&(g.$$typeof===h||g.$$typeof===f||g.$$typeof===i||g.$$typeof===o||g.$$typeof===c||g.$$typeof===x||g.getModuleId!==void 0)},$e.typeOf=p,$e}var Ib;function wI(){return Ib||(Ib=1,rf.exports=bI()),rf.exports}var jI=wI(),nf,Db;function YA(){if(Db)return nf;Db=1;var e=Nn(),t=Sn(),r="[object Number]";function n(s){return typeof s=="number"||t(s)&&e(s)==r}return nf=n,nf}var sf,Rb;function NI(){if(Rb)return sf;Rb=1;var e=YA();function t(r){return e(r)&&r!=+r}return sf=t,sf}var SI=NI();const mi=ze(SI);var _I=YA();const AI=ze(_I);var qt=function(t){return t===0?0:t>0?1:-1},ps=function(t){return Es(t)&&t.indexOf("%")===t.length-1},te=function(t){return AI(t)&&!mi(t)},PI=function(t){return be(t)},xt=function(t){return te(t)||Es(t)},OI=0,Fs=function(t){var r=++OI;return"".concat(t||"").concat(r)},Bt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(t)&&!Es(t))return n;var i;if(ps(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return mi(i)&&(i=n),s&&i>r&&(i=r),i},In=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},kI=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},gt=function(t,r){return te(t)&&te(r)?function(n){return t+n*(r-t)}:function(){return r}};function Yl(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):tr(n,t))===r})}var CI=function(t,r){return te(t)&&te(r)?t-r:Es(t)&&Es(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function fa(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}var TI=["viewBox","children"],EI=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$b=["points","pathLength"],af={svg:TI,polygon:$b,polyline:$b},t0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Xl=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),!hi(n))return null;var s={};return Object.keys(n).forEach(function(i){t0.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},MI=function(t,r,n){return function(s){return t(r,n,s),null}},Ms=function(t,r,n){if(!hi(t)||Dp(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];t0.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=MI(o,r,n))}),s},II=["children"],DI=["children"];function Lb(e,t){if(e==null)return{};var r=RI(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}var qb={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},mn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Bb=null,of=null,r0=function e(t){if(t===Bb&&Array.isArray(of))return of;var r=[];return S.Children.forEach(t,function(n){be(n)||(jI.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),of=r,Bb=t,r};function rr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return mn(s)}):n=[mn(t)],r0(e).forEach(function(s){var i=tr(s,"type.displayName")||tr(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Qt(e,t){var r=rr(e,t);return r&&r[0]}var Fb=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!te(n)||n<=0||!te(s)||s<=0)},$I=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],LI=function(t){return t&&t.type&&Es(t.type)&&$I.indexOf(t.type)>=0},XA=function(t){return t&&Rp(t)==="object"&&"clipDot"in t},qI=function(t,r,n,s){var i,o=(i=af==null?void 0:af[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ye(t)&&(s&&o.includes(r)||EI.includes(r))||n&&t0.includes(r)},me=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(S.isValidElement(t)&&(s=t.props),!hi(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;qI((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},$p=function e(t,r){if(t===r)return!0;var n=S.Children.count(t);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return zb(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!zb(i,o))return!1}return!0},zb=function(t,r){if(be(t)&&be(r))return!0;if(!be(t)&&!be(r)){var n=t.props||{},s=n.children,i=Lb(n,II),o=r.props||{},l=o.children,c=Lb(o,DI);return s&&l?fa(i,c)&&$p(s,l):!s&&!l?fa(i,c):!1}return!1},Ub=function(t,r){var n=[],s={};return r0(t).forEach(function(i,o){if(LI(i))n.push(i);else if(i){var l=mn(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},BI=function(t){var r=t&&t.type;return r&&qb[r]?qb[r]:null},FI=function(t,r){return r0(r).indexOf(t)},zI=["children","width","height","viewBox","className","style","title","desc"];function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lp.apply(this,arguments)}function UI(e,t){if(e==null)return{};var r=VI(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qp(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=UI(e,zI),d=s||{width:r,height:n,x:0,y:0},f=Ne("recharts-surface",i);return k.createElement("svg",Lp({},me(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),k.createElement("title",null,l),k.createElement("desc",null,c),t)}var WI=["children","className"];function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bp.apply(this,arguments)}function HI(e,t){if(e==null)return{};var r=GI(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ke=k.forwardRef(function(e,t){var r=e.children,n=e.className,s=HI(e,WI),i=Ne("recharts-layer",n);return k.createElement("g",Bp({className:i},me(s,!0),{ref:t}),r)}),Cr=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]},lf,Vb;function KI(){if(Vb)return lf;Vb=1;function e(t,r,n){var s=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++s<i;)o[s]=t[s+r];return o}return lf=e,lf}var cf,Wb;function YI(){if(Wb)return cf;Wb=1;var e=KI();function t(r,n,s){var i=r.length;return s=s===void 0?i:s,!n&&s>=i?r:e(r,n,s)}return cf=t,cf}var uf,Hb;function QA(){if(Hb)return uf;Hb=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+s+i+"]");function c(u){return l.test(u)}return uf=c,uf}var df,Gb;function XI(){if(Gb)return df;Gb=1;function e(t){return t.split("")}return df=e,df}var ff,Kb;function QI(){if(Kb)return ff;Kb=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+s+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",x=u+"?",p="["+i+"]?",g="(?:"+m+"(?:"+[d,f,h].join("|")+")"+p+x+")*",y=p+x+g,v="(?:"+[d+l+"?",l,f,h,o].join("|")+")",w=RegExp(c+"(?="+c+")|"+v+y,"g");function j(b){return b.match(w)||[]}return ff=j,ff}var hf,Yb;function JI(){if(Yb)return hf;Yb=1;var e=XI(),t=QA(),r=QI();function n(s){return t(s)?r(s):e(s)}return hf=n,hf}var mf,Xb;function ZI(){if(Xb)return mf;Xb=1;var e=YI(),t=QA(),r=JI(),n=HA();function s(i){return function(o){o=n(o);var l=t(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[i]()+u}}return mf=s,mf}var pf,Qb;function eD(){if(Qb)return pf;Qb=1;var e=ZI(),t=e("toUpperCase");return pf=t,pf}var tD=eD();const ou=ze(tD);function He(e){return function(){return e}}const JA=Math.cos,Ql=Math.sin,Mr=Math.sqrt,Jl=Math.PI,lu=2*Jl,Fp=Math.PI,zp=2*Fp,ds=1e-6,rD=zp-ds;function ZA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function nD(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ZA;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class sD{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ZA:nD(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ds)if(!(Math.abs(f*c-u*d)>ds)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,x=s-l,p=c*c+u*u,g=m*m+x*x,y=Math.sqrt(p),v=Math.sqrt(h),w=i*Math.tan((Fp-Math.acos((p+h-g)/(2*y*v)))/2),j=w/v,b=w/y;Math.abs(j-1)>ds&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*m>d*x)},${this._x1=t+b*c},${this._y1=r+b*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ds||Math.abs(this._y1-d)>ds)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%zp+zp),h>rD?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ds&&this._append`A${n},${n},0,${+(h>=Fp)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function n0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new sD(t)}function s0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eP(e){this._context=e}eP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cu(e){return new eP(e)}function tP(e){return e[0]}function rP(e){return e[1]}function nP(e,t){var r=He(!0),n=null,s=cu,i=null,o=n0(l);e=typeof e=="function"?e:e===void 0?tP:He(e),t=typeof t=="function"?t:t===void 0?rP:He(t);function l(c){var u,d=(c=s0(c)).length,f,h=!1,m;for(n==null&&(i=s(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:He(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:He(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:He(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function wl(e,t,r){var n=null,s=He(!0),i=null,o=cu,l=null,c=n0(u);e=typeof e=="function"?e:e===void 0?tP:He(+e),t=typeof t=="function"?t:He(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?rP:He(+r);function u(f){var h,m,x,p=(f=s0(f)).length,g,y=!1,v,w=new Array(p),j=new Array(p);for(i==null&&(l=o(v=c())),h=0;h<=p;++h){if(!(h<p&&s(g=f[h],h,f))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=h-1;x>=m;--x)l.point(w[x],j[x]);l.lineEnd(),l.areaEnd()}y&&(w[h]=+e(g,h,f),j[h]=+t(g,h,f),l.point(n?+n(g,h,f):w[h],r?+r(g,h,f):j[h]))}if(v)return l=null,v+""||null}function d(){return nP().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:He(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:He(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:He(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class sP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function aD(e){return new sP(e,!0)}function iD(e){return new sP(e,!1)}const a0={draw(e,t){const r=Mr(t/Jl);e.moveTo(r,0),e.arc(0,0,r,0,lu)}},oD={draw(e,t){const r=Mr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},aP=Mr(1/3),lD=aP*2,cD={draw(e,t){const r=Mr(t/lD),n=r*aP;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},uD={draw(e,t){const r=Mr(t),n=-r/2;e.rect(n,n,r,r)}},dD=.8908130915292852,iP=Ql(Jl/10)/Ql(7*Jl/10),fD=Ql(lu/10)*iP,hD=-JA(lu/10)*iP,mD={draw(e,t){const r=Mr(t*dD),n=fD*r,s=hD*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=lu*i/5,l=JA(o),c=Ql(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},gf=Mr(3),pD={draw(e,t){const r=-Mr(t/(gf*3));e.moveTo(0,r*2),e.lineTo(-gf*r,-r),e.lineTo(gf*r,-r),e.closePath()}},or=-.5,lr=Mr(3)/2,Up=1/Mr(12),gD=(Up/2+1)*3,xD={draw(e,t){const r=Mr(t/gD),n=r/2,s=r*Up,i=n,o=r*Up+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(or*n-lr*s,lr*n+or*s),e.lineTo(or*i-lr*o,lr*i+or*o),e.lineTo(or*l-lr*c,lr*l+or*c),e.lineTo(or*n+lr*s,or*s-lr*n),e.lineTo(or*i+lr*o,or*o-lr*i),e.lineTo(or*l+lr*c,or*c-lr*l),e.closePath()}};function yD(e,t){let r=null,n=n0(s);e=typeof e=="function"?e:He(e||a0),t=typeof t=="function"?t:He(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:He(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:He(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Zl(){}function ec(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function oP(e){this._context=e}oP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ec(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ec(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vD(e){return new oP(e)}function lP(e){this._context=e}lP.prototype={areaStart:Zl,areaEnd:Zl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ec(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bD(e){return new lP(e)}function cP(e){this._context=e}cP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ec(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wD(e){return new cP(e)}function uP(e){this._context=e}uP.prototype={areaStart:Zl,areaEnd:Zl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jD(e){return new uP(e)}function Jb(e){return e<0?-1:1}function Zb(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(Jb(i)+Jb(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function ew(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function xf(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function tc(e){this._context=e}tc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xf(this,this._t0,ew(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xf(this,ew(this,r=Zb(this,e,t)),r);break;default:xf(this,this._t0,r=Zb(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function dP(e){this._context=new fP(e)}(dP.prototype=Object.create(tc.prototype)).point=function(e,t){tc.prototype.point.call(this,t,e)};function fP(e){this._context=e}fP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function ND(e){return new tc(e)}function SD(e){return new dP(e)}function hP(e){this._context=e}hP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=tw(e),s=tw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function tw(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function _D(e){return new hP(e)}function uu(e,t){this._context=e,this._t=t}uu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function AD(e){return new uu(e,.5)}function PD(e){return new uu(e,0)}function OD(e){return new uu(e,1)}function Ma(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Vp(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function kD(e,t){return e[t]}function CD(e){const t=[];return t.key=e,t}function TD(){var e=He([]),t=Vp,r=Ma,n=kD;function s(i){var o=Array.from(e.apply(this,arguments),CD),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=s0(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:He(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:He(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Vp:typeof i=="function"?i:He(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Ma,s):r},s}function ED(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Ma(e,t)}}function MD(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ma(e,t)}}function ID(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,x=0;x<l;++x){var p=e[t[x]],g=p[n][1]||0,y=p[n-1][1]||0;m+=g-y}c+=f,u+=m*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Ma(e,t)}}function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}var DD=["type","size","sizeType"];function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wp.apply(this,arguments)}function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(n){RD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RD(e,t,r){return t=$D(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $D(e){var t=LD(e,"string");return ho(t)=="symbol"?t:t+""}function LD(e,t){if(ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qD(e,t){if(e==null)return{};var r=BD(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mP={symbolCircle:a0,symbolCross:oD,symbolDiamond:cD,symbolSquare:uD,symbolStar:mD,symbolTriangle:pD,symbolWye:xD},FD=Math.PI/180,zD=function(t){var r="symbol".concat(ou(t));return mP[r]||a0},UD=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*FD;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},VD=function(t,r){mP["symbol".concat(ou(t))]=r},i0=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=qD(t,DD),u=nw(nw({},c),{},{type:n,size:i,sizeType:l}),d=function(){var g=zD(n),y=yD().type(g).size(UD(i,l,n));return y()},f=u.className,h=u.cx,m=u.cy,x=me(u,!0);return h===+h&&m===+m&&i===+i?k.createElement("path",Wp({},x,{className:Ne("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};i0.registerSymbol=VD;function Ia(e){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(e)}function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hp.apply(this,arguments)}function sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sw(Object(r),!0).forEach(function(n){mo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gP(n.key),n)}}function KD(e,t,r){return t&&GD(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YD(e,t,r){return t=rc(t),XD(e,pP()?Reflect.construct(t,r||[],rc(e).constructor):t.apply(e,r))}function XD(e,t){if(t&&(Ia(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QD(e)}function QD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pP=function(){return!!e})()}function rc(e){return rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rc(e)}function JD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gp(e,t)}function Gp(e,t){return Gp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Gp(e,t)}function mo(e,t,r){return t=gP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gP(e){var t=ZD(e,"string");return Ia(t)=="symbol"?t:t+""}function ZD(e,t){if(Ia(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ia(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cr=32,o0=(function(e){function t(){return HD(this,t),YD(this,t,arguments)}return JD(t,e),KD(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=cr/2,o=cr/6,l=cr/3,c=n.inactive?s:n.color;if(n.type==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:cr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(cr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return k.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(cr/8,"h").concat(cr,"v").concat(cr*3/4,"h").concat(-cr,"z"),className:"recharts-legend-icon"});if(k.isValidElement(n.legendIcon)){var u=WD({},n);return delete u.legendIcon,k.cloneElement(n.legendIcon,u)}return k.createElement(i0,{fill:c,cx:i,cy:i,size:cr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:cr,height:cr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,x){var p=m.formatter||c,g=Ne(mo(mo({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=ye(m.value)?null:m.value;Cr(!ye(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=m.inactive?u:m.color;return k.createElement("li",Hp({className:g,style:f,key:"legend-item-".concat(x)},Ms(n.props,m,x)),k.createElement(qp,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},p?p(y,m,x):y))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(S.PureComponent);mo(o0,"displayName","Legend");mo(o0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yf,aw;function eR(){if(aw)return yf;aw=1;var e=su();function t(){this.__data__=new e,this.size=0}return yf=t,yf}var vf,iw;function tR(){if(iw)return vf;iw=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return vf=e,vf}var bf,ow;function rR(){if(ow)return bf;ow=1;function e(t){return this.__data__.get(t)}return bf=e,bf}var wf,lw;function nR(){if(lw)return wf;lw=1;function e(t){return this.__data__.has(t)}return wf=e,wf}var jf,cw;function sR(){if(cw)return jf;cw=1;var e=su(),t=Qx(),r=Jx(),n=200;function s(i,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return jf=s,jf}var Nf,uw;function xP(){if(uw)return Nf;uw=1;var e=su(),t=eR(),r=tR(),n=rR(),s=nR(),i=sR();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=s,o.prototype.set=i,Nf=o,Nf}var Sf,dw;function aR(){if(dw)return Sf;dw=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Sf=t,Sf}var _f,fw;function iR(){if(fw)return _f;fw=1;function e(t){return this.__data__.has(t)}return _f=e,_f}var Af,hw;function yP(){if(hw)return Af;hw=1;var e=Jx(),t=aR(),r=iR();function n(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new e;++i<o;)this.add(s[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Af=n,Af}var Pf,mw;function vP(){if(mw)return Pf;mw=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(t[n],n,t))return!0;return!1}return Pf=e,Pf}var Of,pw;function bP(){if(pw)return Of;pw=1;function e(t,r){return t.has(r)}return Of=e,Of}var kf,gw;function wP(){if(gw)return kf;gw=1;var e=yP(),t=vP(),r=bP(),n=1,s=2;function i(o,l,c,u,d,f){var h=c&n,m=o.length,x=l.length;if(m!=x&&!(h&&x>m))return!1;var p=f.get(o),g=f.get(l);if(p&&g)return p==l&&g==o;var y=-1,v=!0,w=c&s?new e:void 0;for(f.set(o,l),f.set(l,o);++y<m;){var j=o[y],b=l[y];if(u)var N=h?u(b,j,y,l,o,f):u(j,b,y,o,l,f);if(N!==void 0){if(N)continue;v=!1;break}if(w){if(!t(l,function(_,A){if(!r(w,A)&&(j===_||d(j,_,c,u,f)))return w.push(A)})){v=!1;break}}else if(!(j===b||d(j,b,c,u,f))){v=!1;break}}return f.delete(o),f.delete(l),v}return kf=i,kf}var Cf,xw;function oR(){if(xw)return Cf;xw=1;var e=Zr(),t=e.Uint8Array;return Cf=t,Cf}var Tf,yw;function lR(){if(yw)return Tf;yw=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s,i){n[++r]=[i,s]}),n}return Tf=e,Tf}var Ef,vw;function l0(){if(vw)return Ef;vw=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s){n[++r]=s}),n}return Ef=e,Ef}var Mf,bw;function cR(){if(bw)return Mf;bw=1;var e=nl(),t=oR(),r=Xx(),n=wP(),s=lR(),i=l0(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",h="[object Number]",m="[object RegExp]",x="[object Set]",p="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",v="[object DataView]",w=e?e.prototype:void 0,j=w?w.valueOf:void 0;function b(N,_,A,O,T,P,C){switch(A){case v:if(N.byteLength!=_.byteLength||N.byteOffset!=_.byteOffset)return!1;N=N.buffer,_=_.buffer;case y:return!(N.byteLength!=_.byteLength||!P(new t(N),new t(_)));case c:case u:case h:return r(+N,+_);case d:return N.name==_.name&&N.message==_.message;case m:case p:return N==_+"";case f:var E=s;case x:var M=O&o;if(E||(E=i),N.size!=_.size&&!M)return!1;var $=C.get(N);if($)return $==_;O|=l,C.set(N,_);var q=n(E(N),E(_),O,T,P,C);return C.delete(N),q;case g:if(j)return j.call(N)==j.call(_)}return!1}return Mf=b,Mf}var If,ww;function jP(){if(ww)return If;ww=1;function e(t,r){for(var n=-1,s=r.length,i=t.length;++n<s;)t[i+n]=r[n];return t}return If=e,If}var Df,jw;function uR(){if(jw)return Df;jw=1;var e=jP(),t=Wt();function r(n,s,i){var o=s(n);return t(n)?o:e(o,i(n))}return Df=r,Df}var Rf,Nw;function dR(){if(Nw)return Rf;Nw=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=0,o=[];++n<s;){var l=t[n];r(l,n,t)&&(o[i++]=l)}return o}return Rf=e,Rf}var $f,Sw;function fR(){if(Sw)return $f;Sw=1;function e(){return[]}return $f=e,$f}var Lf,_w;function hR(){if(_w)return Lf;_w=1;var e=dR(),t=fR(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),e(s(o),function(l){return n.call(o,l)}))}:t;return Lf=i,Lf}var qf,Aw;function mR(){if(Aw)return qf;Aw=1;function e(t,r){for(var n=-1,s=Array(t);++n<t;)s[n]=r(n);return s}return qf=e,qf}var Bf,Pw;function pR(){if(Pw)return Bf;Pw=1;var e=Nn(),t=Sn(),r="[object Arguments]";function n(s){return t(s)&&e(s)==r}return Bf=n,Bf}var Ff,Ow;function c0(){if(Ow)return Ff;Ow=1;var e=pR(),t=Sn(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!s.call(o,"callee")};return Ff=i,Ff}var Di={exports:{}},zf,kw;function gR(){if(kw)return zf;kw=1;function e(){return!1}return zf=e,zf}Di.exports;var Cw;function NP(){return Cw||(Cw=1,(function(e,t){var r=Zr(),n=gR(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Di,Di.exports)),Di.exports}var Uf,Tw;function u0(){if(Tw)return Uf;Tw=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,s){var i=typeof n;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<s}return Uf=r,Uf}var Vf,Ew;function d0(){if(Ew)return Vf;Ew=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Vf=t,Vf}var Wf,Mw;function xR(){if(Mw)return Wf;Mw=1;var e=Nn(),t=d0(),r=Sn(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",h="[object RegExp]",m="[object Set]",x="[object String]",p="[object WeakMap]",g="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",w="[object Float64Array]",j="[object Int8Array]",b="[object Int16Array]",N="[object Int32Array]",_="[object Uint8Array]",A="[object Uint8ClampedArray]",O="[object Uint16Array]",T="[object Uint32Array]",P={};P[v]=P[w]=P[j]=P[b]=P[N]=P[_]=P[A]=P[O]=P[T]=!0,P[n]=P[s]=P[g]=P[i]=P[y]=P[o]=P[l]=P[c]=P[u]=P[d]=P[f]=P[h]=P[m]=P[x]=P[p]=!1;function C(E){return r(E)&&t(E.length)&&!!P[e(E)]}return Wf=C,Wf}var Hf,Iw;function SP(){if(Iw)return Hf;Iw=1;function e(t){return function(r){return t(r)}}return Hf=e,Hf}var Ri={exports:{}};Ri.exports;var Dw;function yR(){return Dw||(Dw=1,(function(e,t){var r=UA(),n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=(function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(Ri,Ri.exports)),Ri.exports}var Gf,Rw;function _P(){if(Rw)return Gf;Rw=1;var e=xR(),t=SP(),r=yR(),n=r&&r.isTypedArray,s=n?t(n):e;return Gf=s,Gf}var Kf,$w;function vR(){if($w)return Kf;$w=1;var e=mR(),t=c0(),r=Wt(),n=NP(),s=u0(),i=_P(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var f=r(u),h=!f&&t(u),m=!f&&!h&&n(u),x=!f&&!h&&!m&&i(u),p=f||h||m||x,g=p?e(u.length,String):[],y=g.length;for(var v in u)(d||l.call(u,v))&&!(p&&(v=="length"||m&&(v=="offset"||v=="parent")||x&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||s(v,y)))&&g.push(v);return g}return Kf=c,Kf}var Yf,Lw;function bR(){if(Lw)return Yf;Lw=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||e;return r===s}return Yf=t,Yf}var Xf,qw;function AP(){if(qw)return Xf;qw=1;function e(t,r){return function(n){return t(r(n))}}return Xf=e,Xf}var Qf,Bw;function wR(){if(Bw)return Qf;Bw=1;var e=AP(),t=e(Object.keys,Object);return Qf=t,Qf}var Jf,Fw;function jR(){if(Fw)return Jf;Fw=1;var e=bR(),t=wR(),r=Object.prototype,n=r.hasOwnProperty;function s(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return Jf=s,Jf}var Zf,zw;function sl(){if(zw)return Zf;zw=1;var e=Yx(),t=d0();function r(n){return n!=null&&t(n.length)&&!e(n)}return Zf=r,Zf}var eh,Uw;function du(){if(Uw)return eh;Uw=1;var e=vR(),t=jR(),r=sl();function n(s){return r(s)?e(s):t(s)}return eh=n,eh}var th,Vw;function NR(){if(Vw)return th;Vw=1;var e=uR(),t=hR(),r=du();function n(s){return e(s,r,t)}return th=n,th}var rh,Ww;function SR(){if(Ww)return rh;Ww=1;var e=NR(),t=1,r=Object.prototype,n=r.hasOwnProperty;function s(i,o,l,c,u,d){var f=l&t,h=e(i),m=h.length,x=e(o),p=x.length;if(m!=p&&!f)return!1;for(var g=m;g--;){var y=h[g];if(!(f?y in o:n.call(o,y)))return!1}var v=d.get(i),w=d.get(o);if(v&&w)return v==o&&w==i;var j=!0;d.set(i,o),d.set(o,i);for(var b=f;++g<m;){y=h[g];var N=i[y],_=o[y];if(c)var A=f?c(_,N,y,o,i,d):c(N,_,y,i,o,d);if(!(A===void 0?N===_||u(N,_,l,c,d):A)){j=!1;break}b||(b=y=="constructor")}if(j&&!b){var O=i.constructor,T=o.constructor;O!=T&&"constructor"in i&&"constructor"in o&&!(typeof O=="function"&&O instanceof O&&typeof T=="function"&&T instanceof T)&&(j=!1)}return d.delete(i),d.delete(o),j}return rh=s,rh}var nh,Hw;function _R(){if(Hw)return nh;Hw=1;var e=Bs(),t=Zr(),r=e(t,"DataView");return nh=r,nh}var sh,Gw;function AR(){if(Gw)return sh;Gw=1;var e=Bs(),t=Zr(),r=e(t,"Promise");return sh=r,sh}var ah,Kw;function PP(){if(Kw)return ah;Kw=1;var e=Bs(),t=Zr(),r=e(t,"Set");return ah=r,ah}var ih,Yw;function PR(){if(Yw)return ih;Yw=1;var e=Bs(),t=Zr(),r=e(t,"WeakMap");return ih=r,ih}var oh,Xw;function OR(){if(Xw)return oh;Xw=1;var e=_R(),t=Qx(),r=AR(),n=PP(),s=PR(),i=Nn(),o=VA(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",h="[object DataView]",m=o(e),x=o(t),p=o(r),g=o(n),y=o(s),v=i;return(e&&v(new e(new ArrayBuffer(1)))!=h||t&&v(new t)!=l||r&&v(r.resolve())!=u||n&&v(new n)!=d||s&&v(new s)!=f)&&(v=function(w){var j=i(w),b=j==c?w.constructor:void 0,N=b?o(b):"";if(N)switch(N){case m:return h;case x:return l;case p:return u;case g:return d;case y:return f}return j}),oh=v,oh}var lh,Qw;function kR(){if(Qw)return lh;Qw=1;var e=xP(),t=wP(),r=cR(),n=SR(),s=OR(),i=Wt(),o=NP(),l=_P(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",h=Object.prototype,m=h.hasOwnProperty;function x(p,g,y,v,w,j){var b=i(p),N=i(g),_=b?d:s(p),A=N?d:s(g);_=_==u?f:_,A=A==u?f:A;var O=_==f,T=A==f,P=_==A;if(P&&o(p)){if(!o(g))return!1;b=!0,O=!1}if(P&&!O)return j||(j=new e),b||l(p)?t(p,g,y,v,w,j):r(p,g,_,y,v,w,j);if(!(y&c)){var C=O&&m.call(p,"__wrapped__"),E=T&&m.call(g,"__wrapped__");if(C||E){var M=C?p.value():p,$=E?g.value():g;return j||(j=new e),w(M,$,y,v,j)}}return P?(j||(j=new e),n(p,g,y,v,w,j)):!1}return lh=x,lh}var ch,Jw;function f0(){if(Jw)return ch;Jw=1;var e=kR(),t=Sn();function r(n,s,i,o,l){return n===s?!0:n==null||s==null||!t(n)&&!t(s)?n!==n&&s!==s:e(n,s,i,o,r,l)}return ch=r,ch}var uh,Zw;function CR(){if(Zw)return uh;Zw=1;var e=xP(),t=f0(),r=1,n=2;function s(i,o,l,c){var u=l.length,d=u,f=!c;if(i==null)return!d;for(i=Object(i);u--;){var h=l[u];if(f&&h[2]?h[1]!==i[h[0]]:!(h[0]in i))return!1}for(;++u<d;){h=l[u];var m=h[0],x=i[m],p=h[1];if(f&&h[2]){if(x===void 0&&!(m in i))return!1}else{var g=new e;if(c)var y=c(x,p,m,i,o,g);if(!(y===void 0?t(p,x,r|n,c,g):y))return!1}}return!0}return uh=s,uh}var dh,ej;function OP(){if(ej)return dh;ej=1;var e=Zn();function t(r){return r===r&&!e(r)}return dh=t,dh}var fh,tj;function TR(){if(tj)return fh;tj=1;var e=OP(),t=du();function r(n){for(var s=t(n),i=s.length;i--;){var o=s[i],l=n[o];s[i]=[o,l,e(l)]}return s}return fh=r,fh}var hh,rj;function kP(){if(rj)return hh;rj=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return hh=e,hh}var mh,nj;function ER(){if(nj)return mh;nj=1;var e=CR(),t=TR(),r=kP();function n(s){var i=t(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===s||e(o,s,i)}}return mh=n,mh}var ph,sj;function MR(){if(sj)return ph;sj=1;function e(t,r){return t!=null&&r in Object(t)}return ph=e,ph}var gh,aj;function IR(){if(aj)return gh;aj=1;var e=GA(),t=c0(),r=Wt(),n=u0(),s=d0(),i=iu();function o(l,c,u){c=e(c,l);for(var d=-1,f=c.length,h=!1;++d<f;){var m=i(c[d]);if(!(h=l!=null&&u(l,m)))break;l=l[m]}return h||++d!=f?h:(f=l==null?0:l.length,!!f&&s(f)&&n(m,f)&&(r(l)||t(l)))}return gh=o,gh}var xh,ij;function DR(){if(ij)return xh;ij=1;var e=MR(),t=IR();function r(n,s){return n!=null&&t(n,s,e)}return xh=r,xh}var yh,oj;function RR(){if(oj)return yh;oj=1;var e=f0(),t=KA(),r=DR(),n=Kx(),s=OP(),i=kP(),o=iu(),l=1,c=2;function u(d,f){return n(d)&&s(f)?i(o(d),f):function(h){var m=t(h,d);return m===void 0&&m===f?r(h,d):e(f,m,l|c)}}return yh=u,yh}var vh,lj;function pi(){if(lj)return vh;lj=1;function e(t){return t}return vh=e,vh}var bh,cj;function $R(){if(cj)return bh;cj=1;function e(t){return function(r){return r==null?void 0:r[t]}}return bh=e,bh}var wh,uj;function LR(){if(uj)return wh;uj=1;var e=e0();function t(r){return function(n){return e(n,r)}}return wh=t,wh}var jh,dj;function qR(){if(dj)return jh;dj=1;var e=$R(),t=LR(),r=Kx(),n=iu();function s(i){return r(i)?e(n(i)):t(i)}return jh=s,jh}var Nh,fj;function en(){if(fj)return Nh;fj=1;var e=ER(),t=RR(),r=pi(),n=Wt(),s=qR();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):s(o)}return Nh=i,Nh}var Sh,hj;function CP(){if(hj)return Sh;hj=1;function e(t,r,n,s){for(var i=t.length,o=n+(s?1:-1);s?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return Sh=e,Sh}var _h,mj;function BR(){if(mj)return _h;mj=1;function e(t){return t!==t}return _h=e,_h}var Ah,pj;function FR(){if(pj)return Ah;pj=1;function e(t,r,n){for(var s=n-1,i=t.length;++s<i;)if(t[s]===r)return s;return-1}return Ah=e,Ah}var Ph,gj;function zR(){if(gj)return Ph;gj=1;var e=CP(),t=BR(),r=FR();function n(s,i,o){return i===i?r(s,i,o):e(s,t,o)}return Ph=n,Ph}var Oh,xj;function UR(){if(xj)return Oh;xj=1;var e=zR();function t(r,n){var s=r==null?0:r.length;return!!s&&e(r,n,0)>-1}return Oh=t,Oh}var kh,yj;function VR(){if(yj)return kh;yj=1;function e(t,r,n){for(var s=-1,i=t==null?0:t.length;++s<i;)if(n(r,t[s]))return!0;return!1}return kh=e,kh}var Ch,vj;function WR(){if(vj)return Ch;vj=1;function e(){}return Ch=e,Ch}var Th,bj;function HR(){if(bj)return Th;bj=1;var e=PP(),t=WR(),r=l0(),n=1/0,s=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return Th=s,Th}var Eh,wj;function GR(){if(wj)return Eh;wj=1;var e=yP(),t=UR(),r=VR(),n=bP(),s=HR(),i=l0(),o=200;function l(c,u,d){var f=-1,h=t,m=c.length,x=!0,p=[],g=p;if(d)x=!1,h=r;else if(m>=o){var y=u?null:s(c);if(y)return i(y);x=!1,h=n,g=new e}else g=u?[]:p;e:for(;++f<m;){var v=c[f],w=u?u(v):v;if(v=d||v!==0?v:0,x&&w===w){for(var j=g.length;j--;)if(g[j]===w)continue e;u&&g.push(w),p.push(v)}else h(g,w,d)||(g!==p&&g.push(w),p.push(v))}return p}return Eh=l,Eh}var Mh,jj;function KR(){if(jj)return Mh;jj=1;var e=en(),t=GR();function r(n,s){return n&&n.length?t(n,e(s,2)):[]}return Mh=r,Mh}var YR=KR();const Nj=ze(YR);function TP(e,t,r){return t===!0?Nj(e,r):ye(t)?Nj(e,t):e}function Da(e){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(e)}var XR=["ref"];function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){fu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MP(n.key),n)}}function JR(e,t,r){return t&&_j(e.prototype,t),r&&_j(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZR(e,t,r){return t=nc(t),e$(e,EP()?Reflect.construct(t,r||[],nc(e).constructor):t.apply(e,r))}function e$(e,t){if(t&&(Da(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t$(e)}function t$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EP=function(){return!!e})()}function nc(e){return nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nc(e)}function r$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kp(e,t)}function Kp(e,t){return Kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Kp(e,t)}function fu(e,t,r){return t=MP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MP(e){var t=n$(e,"string");return Da(t)=="symbol"?t:t+""}function n$(e,t){if(Da(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Da(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function s$(e,t){if(e==null)return{};var r=a$(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function i$(e){return e.value}function o$(e,t){if(k.isValidElement(e))return k.cloneElement(e,t);if(typeof e=="function")return k.createElement(e,t);t.ref;var r=s$(t,XR);return k.createElement(o0,r)}var Aj=1,ha=(function(e){function t(){var r;QR(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=ZR(this,t,[].concat(s)),fu(r,"lastBoundingBox",{width:-1,height:-1}),r}return r$(t,e),JR(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>Aj||Math.abs(s.height-this.lastBoundingBox.height)>Aj)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?rn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();h={top:((d||0)-x.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return rn(rn({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=rn(rn({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return k.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},o$(i,rn(rn({},this.props),{},{payload:TP(d,u,i$)})))}}],[{key:"getWithHeight",value:function(n,s){var i=rn(rn({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&te(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])})(S.PureComponent);fu(ha,"displayName","Legend");fu(ha,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ih,Pj;function l$(){if(Pj)return Ih;Pj=1;var e=nl(),t=c0(),r=Wt(),n=e?e.isConcatSpreadable:void 0;function s(i){return r(i)||t(i)||!!(n&&i&&i[n])}return Ih=s,Ih}var Dh,Oj;function IP(){if(Oj)return Dh;Oj=1;var e=jP(),t=l$();function r(n,s,i,o,l){var c=-1,u=n.length;for(i||(i=t),l||(l=[]);++c<u;){var d=n[c];s>0&&i(d)?s>1?r(d,s-1,i,o,l):e(l,d):o||(l[l.length]=d)}return l}return Dh=r,Dh}var Rh,kj;function c$(){if(kj)return Rh;kj=1;function e(t){return function(r,n,s){for(var i=-1,o=Object(r),l=s(r),c=l.length;c--;){var u=l[t?c:++i];if(n(o[u],u,o)===!1)break}return r}}return Rh=e,Rh}var $h,Cj;function u$(){if(Cj)return $h;Cj=1;var e=c$(),t=e();return $h=t,$h}var Lh,Tj;function DP(){if(Tj)return Lh;Tj=1;var e=u$(),t=du();function r(n,s){return n&&e(n,s,t)}return Lh=r,Lh}var qh,Ej;function d$(){if(Ej)return qh;Ej=1;var e=sl();function t(r,n){return function(s,i){if(s==null)return s;if(!e(s))return r(s,i);for(var o=s.length,l=n?o:-1,c=Object(s);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return s}}return qh=t,qh}var Bh,Mj;function h0(){if(Mj)return Bh;Mj=1;var e=DP(),t=d$(),r=t(e);return Bh=r,Bh}var Fh,Ij;function RP(){if(Ij)return Fh;Ij=1;var e=h0(),t=sl();function r(n,s){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(l,c,u){o[++i]=s(l,c,u)}),o}return Fh=r,Fh}var zh,Dj;function f$(){if(Dj)return zh;Dj=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return zh=e,zh}var Uh,Rj;function h$(){if(Rj)return Uh;Rj=1;var e=fi();function t(r,n){if(r!==n){var s=r!==void 0,i=r===null,o=r===r,l=e(r),c=n!==void 0,u=n===null,d=n===n,f=e(n);if(!u&&!f&&!l&&r>n||l&&c&&d&&!u&&!f||i&&c&&d||!s&&d||!o)return 1;if(!i&&!l&&!f&&r<n||f&&s&&o&&!i&&!l||u&&s&&o||!c&&o||!d)return-1}return 0}return Uh=t,Uh}var Vh,$j;function m$(){if($j)return Vh;$j=1;var e=h$();function t(r,n,s){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,u=s.length;++i<c;){var d=e(o[i],l[i]);if(d){if(i>=u)return d;var f=s[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return Vh=t,Vh}var Wh,Lj;function p$(){if(Lj)return Wh;Lj=1;var e=Zx(),t=e0(),r=en(),n=RP(),s=f$(),i=SP(),o=m$(),l=pi(),c=Wt();function u(d,f,h){f.length?f=e(f,function(p){return c(p)?function(g){return t(g,p.length===1?p[0]:p)}:p}):f=[l];var m=-1;f=e(f,i(r));var x=n(d,function(p,g,y){var v=e(f,function(w){return w(p)});return{criteria:v,index:++m,value:p}});return s(x,function(p,g){return o(p,g,h)})}return Wh=u,Wh}var Hh,qj;function g$(){if(qj)return Hh;qj=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Hh=e,Hh}var Gh,Bj;function x$(){if(Bj)return Gh;Bj=1;var e=g$(),t=Math.max;function r(n,s,i){return s=t(s===void 0?n.length-1:s,0),function(){for(var o=arguments,l=-1,c=t(o.length-s,0),u=Array(c);++l<c;)u[l]=o[s+l];l=-1;for(var d=Array(s+1);++l<s;)d[l]=o[l];return d[s]=i(u),e(n,this,d)}}return Gh=r,Gh}var Kh,Fj;function y$(){if(Fj)return Kh;Fj=1;function e(t){return function(){return t}}return Kh=e,Kh}var Yh,zj;function $P(){if(zj)return Yh;zj=1;var e=Bs(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Yh=t,Yh}var Xh,Uj;function v$(){if(Uj)return Xh;Uj=1;var e=y$(),t=$P(),r=pi(),n=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return Xh=n,Xh}var Qh,Vj;function b$(){if(Vj)return Qh;Vj=1;var e=800,t=16,r=Date.now;function n(s){var i=0,o=0;return function(){var l=r(),c=t-(l-o);if(o=l,c>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return Qh=n,Qh}var Jh,Wj;function w$(){if(Wj)return Jh;Wj=1;var e=v$(),t=b$(),r=t(e);return Jh=r,Jh}var Zh,Hj;function j$(){if(Hj)return Zh;Hj=1;var e=pi(),t=x$(),r=w$();function n(s,i){return r(t(s,i,e),s+"")}return Zh=n,Zh}var em,Gj;function hu(){if(Gj)return em;Gj=1;var e=Xx(),t=sl(),r=u0(),n=Zn();function s(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?t(l)&&r(o,l.length):c=="string"&&o in l)?e(l[o],i):!1}return em=s,em}var tm,Kj;function N$(){if(Kj)return tm;Kj=1;var e=IP(),t=p$(),r=j$(),n=hu(),s=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return tm=s,tm}var S$=N$();const m0=ze(S$);function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yp.apply(this,arguments)}function _$(e,t){return k$(e)||O$(e,t)||P$(e,t)||A$()}function A$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P$(e,t){if(e){if(typeof e=="string")return Yj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yj(e,t)}}function Yj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function k$(e){if(Array.isArray(e))return e}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){C$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C$(e,t,r){return t=T$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T$(e){var t=E$(e,"string");return po(t)=="symbol"?t:t+""}function E$(e,t){if(po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M$(e){return Array.isArray(e)&&xt(e[0])&&xt(e[1])?e.join(" ~ "):e}var I$=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,x=t.labelClassName,p=t.label,g=t.labelFormatter,y=t.accessibilityLayer,v=y===void 0?!1:y,w=function(){if(d&&d.length){var C={padding:0,margin:0},E=(h?m0(d,h):d).map(function(M,$){if(M.type==="none")return null;var q=rm({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),D=M.formatter||f||M$,z=M.value,V=M.name,ee=z,ae=V;if(D&&ee!=null&&ae!=null){var W=D(z,V,M,$,d);if(Array.isArray(W)){var Z=_$(W,2);ee=Z[0],ae=Z[1]}else ee=W}return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:q},xt(ae)?k.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,xt(ae)?k.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,k.createElement("span",{className:"recharts-tooltip-item-value"},ee),k.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:C},E)}return null},j=rm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),b=rm({margin:0},u),N=!be(p),_=N?p:"",A=Ne("recharts-default-tooltip",m),O=Ne("recharts-tooltip-label",x);N&&g&&d!==void 0&&d!==null&&(_=g(p,d));var T=v?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",Yp({className:A,style:j},T),k.createElement("p",{className:O,style:b},k.isValidElement(_)?_:"".concat(_)),w())};function go(e){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(e)}function jl(e,t,r){return t=D$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D$(e){var t=R$(e,"string");return go(t)=="symbol"?t:t+""}function R$(e,t){if(go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ni="recharts-tooltip-wrapper",$$={visibility:"hidden"};function L$(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ne(Ni,jl(jl(jl(jl({},"".concat(Ni,"-right"),te(r)&&t&&te(t.x)&&r>=t.x),"".concat(Ni,"-left"),te(r)&&t&&te(t.x)&&r<t.x),"".concat(Ni,"-bottom"),te(n)&&t&&te(t.y)&&n>=t.y),"".concat(Ni,"-top"),te(n)&&t&&te(t.y)&&n<t.y))}function Qj(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&te(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var x=f+l,p=c[n]+u;return x>p?Math.max(d,c[n]):Math.max(f,c[n])}function q$(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function B$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Qj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Qj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=q$({translateX:d,translateY:f,useTranslate3d:l})):u=$$,{cssProperties:u,cssClasses:L$({translateX:d,translateY:f,coordinate:r})}}function Ra(e){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ra(e)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){Qp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qP(n.key),n)}}function U$(e,t,r){return t&&z$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V$(e,t,r){return t=sc(t),W$(e,LP()?Reflect.construct(t,r||[],sc(e).constructor):t.apply(e,r))}function W$(e,t){if(t&&(Ra(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H$(e)}function H$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!e})()}function sc(e){return sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sc(e)}function G$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xp(e,t)}function Xp(e,t){return Xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Xp(e,t)}function Qp(e,t,r){return t=qP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qP(e){var t=K$(e,"string");return Ra(t)=="symbol"?t:t+""}function K$(e,t){if(Ra(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ra(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var e1=1,Y$=(function(e){function t(){var r;F$(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=V$(this,t,[].concat(s)),Qp(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Qp(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return G$(t,e),U$(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>e1||Math.abs(n.height-this.state.lastBoundingBox.height)>e1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,m=s.offset,x=s.position,p=s.reverseDirection,g=s.useTranslate3d,y=s.viewBox,v=s.wrapperStyle,w=B$({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:x,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),j=w.cssClasses,b=w.cssProperties,N=Zj(Zj({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return k.createElement("div",{tabIndex:-1,className:j,style:N,ref:function(A){n.wrapperNode=A}},u)}}])})(S.PureComponent),X$=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},es={isSsr:X$()};function $a(e){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(e)}function t1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function r1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t1(Object(r),!0).forEach(function(n){p0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FP(n.key),n)}}function Z$(e,t,r){return t&&J$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eL(e,t,r){return t=ac(t),tL(e,BP()?Reflect.construct(t,r||[],ac(e).constructor):t.apply(e,r))}function tL(e,t){if(t&&($a(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rL(e)}function rL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BP=function(){return!!e})()}function ac(e){return ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ac(e)}function nL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jp(e,t)}function Jp(e,t){return Jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Jp(e,t)}function p0(e,t,r){return t=FP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FP(e){var t=sL(e,"string");return $a(t)=="symbol"?t:t+""}function sL(e,t){if($a(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($a(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function aL(e){return e.dataKey}function iL(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(I$,t)}var $t=(function(e){function t(){return Q$(this,t),eL(this,t,arguments)}return nL(t,e),Z$(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,m=s.offset,x=s.payload,p=s.payloadUniqBy,g=s.position,y=s.reverseDirection,v=s.useTranslate3d,w=s.viewBox,j=s.wrapperStyle,b=x??[];f&&b.length&&(b=TP(x.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),p,aL));var N=b.length>0;return k.createElement(Y$,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:m,position:g,reverseDirection:y,useTranslate3d:v,viewBox:w,wrapperStyle:j},iL(u,r1(r1({},this.props),{},{payload:b})))}}])})(S.PureComponent);p0($t,"displayName","Tooltip");p0($t,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!es.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nm,n1;function oL(){if(n1)return nm;n1=1;var e=Zr(),t=function(){return e.Date.now()};return nm=t,nm}var sm,s1;function lL(){if(s1)return sm;s1=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return sm=t,sm}var am,a1;function cL(){if(a1)return am;a1=1;var e=lL(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return am=r,am}var im,i1;function zP(){if(i1)return im;i1=1;var e=cL(),t=Zn(),r=fi(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=i.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):s.test(u)?n:+u}return im=c,im}var om,o1;function uL(){if(o1)return om;o1=1;var e=Zn(),t=oL(),r=zP(),n="Expected a function",s=Math.max,i=Math.min;function o(l,c,u){var d,f,h,m,x,p,g=0,y=!1,v=!1,w=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(u)&&(y=!!u.leading,v="maxWait"in u,h=v?s(r(u.maxWait)||0,c):h,w="trailing"in u?!!u.trailing:w);function j(E){var M=d,$=f;return d=f=void 0,g=E,m=l.apply($,M),m}function b(E){return g=E,x=setTimeout(A,c),y?j(E):m}function N(E){var M=E-p,$=E-g,q=c-M;return v?i(q,h-$):q}function _(E){var M=E-p,$=E-g;return p===void 0||M>=c||M<0||v&&$>=h}function A(){var E=t();if(_(E))return O(E);x=setTimeout(A,N(E))}function O(E){return x=void 0,w&&d?j(E):(d=f=void 0,m)}function T(){x!==void 0&&clearTimeout(x),g=0,d=p=f=x=void 0}function P(){return x===void 0?m:O(t())}function C(){var E=t(),M=_(E);if(d=arguments,f=this,p=E,M){if(x===void 0)return b(p);if(v)return clearTimeout(x),x=setTimeout(A,c),j(p)}return x===void 0&&(x=setTimeout(A,c)),m}return C.cancel=T,C.flush=P,C}return om=o,om}var lm,l1;function dL(){if(l1)return lm;l1=1;var e=uL(),t=Zn(),r="Expected a function";function n(s,i,o){var l=!0,c=!0;if(typeof s!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(s,i,{leading:l,maxWait:i,trailing:c})}return lm=n,lm}var fL=dL();const UP=ze(fL);function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function c1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c1(Object(r),!0).forEach(function(n){hL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hL(e,t,r){return t=mL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mL(e){var t=pL(e,"string");return xo(t)=="symbol"?t:t+""}function pL(e,t){if(xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gL(e,t){return bL(e)||vL(e,t)||yL(e,t)||xL()}function xL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yL(e,t){if(e){if(typeof e=="string")return u1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u1(e,t)}}function u1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function bL(e){if(Array.isArray(e))return e}var ma=S.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,x=e.debounce,p=x===void 0?0:x,g=e.id,y=e.className,v=e.onResize,w=e.style,j=w===void 0?{}:w,b=S.useRef(null),N=S.useRef();N.current=v,S.useImperativeHandle(t,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var _=S.useState({containerWidth:s.width,containerHeight:s.height}),A=gL(_,2),O=A[0],T=A[1],P=S.useCallback(function(E,M){T(function($){var q=Math.round(E),D=Math.round(M);return $.containerWidth===q&&$.containerHeight===D?$:{containerWidth:q,containerHeight:D}})},[]);S.useEffect(function(){var E=function(V){var ee,ae=V[0].contentRect,W=ae.width,Z=ae.height;P(W,Z),(ee=N.current)===null||ee===void 0||ee.call(N,W,Z)};p>0&&(E=UP(E,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(E),$=b.current.getBoundingClientRect(),q=$.width,D=$.height;return P(q,D),M.observe(b.current),function(){M.disconnect()}},[P,p]);var C=S.useMemo(function(){var E=O.containerWidth,M=O.containerHeight;if(E<0||M<0)return null;Cr(ps(o)||ps(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Cr(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=ps(o)?E:o,q=ps(c)?M:c;r&&r>0&&($?q=$/r:q&&($=q*r),h&&q>h&&(q=h)),Cr($>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,q,o,c,d,f,r);var D=!Array.isArray(m)&&mn(m.type).endsWith("Chart");return k.Children.map(m,function(z){return k.isValidElement(z)?S.cloneElement(z,Nl({width:$,height:q},D?{style:Nl({height:"100%",width:"100%",maxHeight:q,maxWidth:$},z.props.style)}:{})):z})},[r,m,c,h,f,d,O,o]);return k.createElement("div",{id:g?"".concat(g):void 0,className:Ne("recharts-responsive-container",y),style:Nl(Nl({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:b},C)}),mu=function(t){return null};mu.displayName="Cell";function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function d1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d1(Object(r),!0).forEach(function(n){wL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wL(e,t,r){return t=jL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jL(e){var t=NL(e,"string");return yo(t)=="symbol"?t:t+""}function NL(e,t){if(yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ys={widthCache:{},cacheCount:0},SL=2e3,_L={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},f1="recharts_measurement_span";function AL(e){var t=Zp({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Wi=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||es.isSsr)return{width:0,height:0};var n=AL(r),s=JSON.stringify({text:t,copyStyle:n});if(Ys.widthCache[s])return Ys.widthCache[s];try{var i=document.getElementById(f1);i||(i=document.createElement("span"),i.setAttribute("id",f1),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Zp(Zp({},_L),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Ys.widthCache[s]=c,++Ys.cacheCount>SL&&(Ys.cacheCount=0,Ys.widthCache={}),c}catch{return{width:0,height:0}}},PL=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function ic(e,t){return TL(e)||CL(e,t)||kL(e,t)||OL()}function OL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kL(e,t){if(e){if(typeof e=="string")return h1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h1(e,t)}}function h1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function TL(e){if(Array.isArray(e))return e}function EL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IL(n.key),n)}}function ML(e,t,r){return t&&m1(e.prototype,t),r&&m1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IL(e){var t=DL(e,"string");return vo(t)=="symbol"?t:t+""}function DL(e,t){if(vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var p1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,g1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RL=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$L=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},LL=Object.keys(VP),sa="NaN";function qL(e,t){return e*VP[t]}var Sl=(function(){function e(t,r){EL(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!RL.test(r)&&(this.num=NaN,this.unit=""),LL.includes(r)&&(this.num=qL(t,r),this.unit="px")}return ML(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=$L.exec(r))!==null&&n!==void 0?n:[],i=ic(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])})();function WP(e){if(e.includes(sa))return sa;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=p1.exec(t))!==null&&r!==void 0?r:[],s=ic(n,4),i=s[1],o=s[2],l=s[3],c=Sl.parse(i??""),u=Sl.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return sa;t=t.replace(p1,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=g1.exec(t))!==null&&f!==void 0?f:[],m=ic(h,4),x=m[1],p=m[2],g=m[3],y=Sl.parse(x??""),v=Sl.parse(g??""),w=p==="+"?y.add(v):y.subtract(v);if(w.isNaN())return sa;t=t.replace(g1,w.toString())}return t}var x1=/\(([^()]*)\)/;function BL(e){for(var t=e;t.includes("(");){var r=x1.exec(t),n=ic(r,2),s=n[1];t=t.replace(x1,WP(s))}return t}function FL(e){var t=e.replace(/\s+/g,"");return t=BL(t),t=WP(t),t}function zL(e){try{return FL(e)}catch{return sa}}function cm(e){var t=zL(e.slice(5,-1));return t===sa?"":t}var UL=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],VL=["dx","dy","angle","className","breakAll"];function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eg.apply(this,arguments)}function y1(e,t){if(e==null)return{};var r=WL(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v1(e,t){return YL(e)||KL(e,t)||GL(e,t)||HL()}function HL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GL(e,t){if(e){if(typeof e=="string")return b1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b1(e,t)}}function b1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function YL(e){if(Array.isArray(e))return e}var HP=/[ \f\n\r\t\v\u2028\u2029]+/,GP=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];be(r)||(n?i=r.toString().split(""):i=r.toString().split(HP));var o=i.map(function(c){return{word:c,width:Wi(c,s).width}}),l=n?0:Wi("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},XL=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=te(o),f=l,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(q,D){var z=D.word,V=D.width,ee=q[q.length-1];if(ee&&(s==null||i||ee.width+V+n<Number(s)))ee.words.push(z),ee.width+=V+n;else{var ae={words:[z],width:V};q.push(ae)}return q},[])},m=h(r),x=function($){return $.reduce(function(q,D){return q.width>D.width?q:D})};if(!d)return m;for(var p="",g=function($){var q=f.slice(0,$),D=GP({breakAll:u,style:c,children:q+p}).wordsWithComputedWidth,z=h(D),V=z.length>o||x(z).width>Number(s);return[V,z]},y=0,v=f.length-1,w=0,j;y<=v&&w<=f.length-1;){var b=Math.floor((y+v)/2),N=b-1,_=g(N),A=v1(_,2),O=A[0],T=A[1],P=g(b),C=v1(P,1),E=C[0];if(!O&&!E&&(y=b+1),O&&E&&(v=b-1),!O&&E){j=T;break}w++}return j||m},w1=function(t){var r=be(t)?[]:t.toString().split(HP);return[{words:r}]},QL=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!es.isSsr){var c,u,d=GP({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return w1(s);return XL({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return w1(s)},j1="#808080",Is=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,x=t.verticalAnchor,p=x===void 0?"end":x,g=t.fill,y=g===void 0?j1:g,v=y1(t,UL),w=S.useMemo(function(){return QL({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),j=v.dx,b=v.dy,N=v.angle,_=v.className,A=v.breakAll,O=y1(v,VL);if(!xt(n)||!xt(i))return null;var T=n+(te(j)?j:0),P=i+(te(b)?b:0),C;switch(p){case"start":C=cm("calc(".concat(u,")"));break;case"middle":C=cm("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:C=cm("calc(".concat(w.length-1," * -").concat(l,")"));break}var E=[];if(f){var M=w[0].width,$=v.width;E.push("scale(".concat((te($)?$/M:1)/M,")"))}return N&&E.push("rotate(".concat(N,", ").concat(T,", ").concat(P,")")),E.length&&(O.transform=E.join(" ")),k.createElement("text",eg({},me(O,!0),{x:T,y:P,className:Ne("recharts-text",_),textAnchor:m,fill:y.includes("url")?j1:y}),w.map(function(q,D){var z=q.words.join(A?"":" ");return k.createElement("tspan",{x:T,dy:D===0?C:l,key:"".concat(z,"-").concat(D)},z)}))};function Un(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function JL(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function g0(e){let t,r,n;e.length!==2?(t=Un,r=(l,c)=>Un(e(l),c),n=(l,c)=>e(l)-c):(t=e===Un||e===JL?e:ZL,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function ZL(){return 0}function KP(e){return e===null?NaN:+e}function*eq(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const tq=g0(Un),al=tq.right;g0(KP).center;class N1 extends Map{constructor(t,r=sq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(S1(this,t))}has(t){return super.has(S1(this,t))}set(t,r){return super.set(rq(this,t),r)}delete(t){return super.delete(nq(this,t))}}function S1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function rq({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function nq({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function sq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function aq(e=Un){if(e===Un)return YP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function YP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const iq=Math.sqrt(50),oq=Math.sqrt(10),lq=Math.sqrt(2);function oc(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=iq?10:i>=oq?5:i>=lq?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?oc(e,t,r*2):[l,c,u]}function tg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?oc(t,e,r):oc(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function rg(e,t,r){return t=+t,e=+e,r=+r,oc(e,t,r)[2]}function ng(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?rg(t,e,r):rg(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function _1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function A1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function XP(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?YP:aq(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),x=Math.min(n,Math.floor(t+(c-u)*f/c+h));XP(e,t,m,x,s)}const i=e[t];let o=r,l=n;for(Si(e,r,t),s(e[n],i)>0&&Si(e,r,n);o<l;){for(Si(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Si(e,r,l):(++l,Si(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Si(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function cq(e,t,r){if(e=Float64Array.from(eq(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return A1(e);if(t>=1)return _1(e);var n,s=(n-1)*t,i=Math.floor(s),o=_1(XP(e,i).subarray(0,i+1)),l=A1(e.subarray(i+1));return o+(l-o)*(s-i)}}function uq(e,t,r=KP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function dq(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function yr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _n(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const sg=Symbol("implicit");function x0(){var e=new N1,t=[],r=[],n=sg;function s(i){let o=e.get(i);if(o===void 0){if(n!==sg)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new N1;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return x0(t,r).unknown(n)},yr.apply(s,arguments),s}function bo(){var e=x0().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<n,x=m?s:n,p=m?n:s;i=(p-x)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),x+=(p-x-i*(h-c))*d,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var g=dq(h).map(function(y){return x+i*y});return r(m?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return bo(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},yr.apply(f(),arguments)}function QP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return QP(t())},e}function Hi(){return QP(bo.apply(null,arguments).paddingInner(1))}function y0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function JP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function il(){}var wo=.7,lc=1/wo,pa="\\s*([+-]?\\d+)\\s*",jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fq=/^#([0-9a-f]{3,8})$/,hq=new RegExp(`^rgb\\(${pa},${pa},${pa}\\)$`),mq=new RegExp(`^rgb\\(${Wr},${Wr},${Wr}\\)$`),pq=new RegExp(`^rgba\\(${pa},${pa},${pa},${jo}\\)$`),gq=new RegExp(`^rgba\\(${Wr},${Wr},${Wr},${jo}\\)$`),xq=new RegExp(`^hsl\\(${jo},${Wr},${Wr}\\)$`),yq=new RegExp(`^hsla\\(${jo},${Wr},${Wr},${jo}\\)$`),P1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};y0(il,No,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:O1,formatHex:O1,formatHex8:vq,formatHsl:bq,formatRgb:k1,toString:k1});function O1(){return this.rgb().formatHex()}function vq(){return this.rgb().formatHex8()}function bq(){return ZP(this).formatHsl()}function k1(){return this.rgb().formatRgb()}function No(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=fq.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?C1(t):r===3?new Ut(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?_l(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?_l(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hq.exec(e))?new Ut(t[1],t[2],t[3],1):(t=mq.exec(e))?new Ut(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pq.exec(e))?_l(t[1],t[2],t[3],t[4]):(t=gq.exec(e))?_l(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xq.exec(e))?M1(t[1],t[2]/100,t[3]/100,1):(t=yq.exec(e))?M1(t[1],t[2]/100,t[3]/100,t[4]):P1.hasOwnProperty(e)?C1(P1[e]):e==="transparent"?new Ut(NaN,NaN,NaN,0):null}function C1(e){return new Ut(e>>16&255,e>>8&255,e&255,1)}function _l(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ut(e,t,r,n)}function wq(e){return e instanceof il||(e=No(e)),e?(e=e.rgb(),new Ut(e.r,e.g,e.b,e.opacity)):new Ut}function ag(e,t,r,n){return arguments.length===1?wq(e):new Ut(e,t,r,n??1)}function Ut(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}y0(Ut,ag,JP(il,{brighter(e){return e=e==null?lc:Math.pow(lc,e),new Ut(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wo:Math.pow(wo,e),new Ut(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ut(Ps(this.r),Ps(this.g),Ps(this.b),cc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T1,formatHex:T1,formatHex8:jq,formatRgb:E1,toString:E1}));function T1(){return`#${gs(this.r)}${gs(this.g)}${gs(this.b)}`}function jq(){return`#${gs(this.r)}${gs(this.g)}${gs(this.b)}${gs((isNaN(this.opacity)?1:this.opacity)*255)}`}function E1(){const e=cc(this.opacity);return`${e===1?"rgb(":"rgba("}${Ps(this.r)}, ${Ps(this.g)}, ${Ps(this.b)}${e===1?")":`, ${e})`}`}function cc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ps(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gs(e){return e=Ps(e),(e<16?"0":"")+e.toString(16)}function M1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new kr(e,t,r,n)}function ZP(e){if(e instanceof kr)return new kr(e.h,e.s,e.l,e.opacity);if(e instanceof il||(e=No(e)),!e)return new kr;if(e instanceof kr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new kr(o,l,c,e.opacity)}function Nq(e,t,r,n){return arguments.length===1?ZP(e):new kr(e,t,r,n??1)}function kr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}y0(kr,Nq,JP(il,{brighter(e){return e=e==null?lc:Math.pow(lc,e),new kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wo:Math.pow(wo,e),new kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Ut(um(e>=240?e-240:e+120,s,n),um(e,s,n),um(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new kr(I1(this.h),Al(this.s),Al(this.l),cc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cc(this.opacity);return`${e===1?"hsl(":"hsla("}${I1(this.h)}, ${Al(this.s)*100}%, ${Al(this.l)*100}%${e===1?")":`, ${e})`}`}}));function I1(e){return e=(e||0)%360,e<0?e+360:e}function Al(e){return Math.max(0,Math.min(1,e||0))}function um(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const v0=e=>()=>e;function Sq(e,t){return function(r){return e+r*t}}function _q(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Aq(e){return(e=+e)==1?eO:function(t,r){return r-t?_q(t,r,e):v0(isNaN(t)?r:t)}}function eO(e,t){var r=t-e;return r?Sq(e,r):v0(isNaN(e)?t:e)}const D1=(function e(t){var r=Aq(t);function n(s,i){var o=r((s=ag(s)).r,(i=ag(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=eO(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n})(1);function Pq(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function Oq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kq(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=gi(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function Cq(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function uc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Tq(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=gi(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var ig=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dm=new RegExp(ig.source,"g");function Eq(e){return function(){return e}}function Mq(e){return function(t){return e(t)+""}}function Iq(e,t){var r=ig.lastIndex=dm.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=ig.exec(e))&&(s=dm.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:uc(n,s)})),r=dm.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Mq(c[0].x):Eq(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function gi(e,t){var r=typeof t,n;return t==null||r==="boolean"?v0(t):(r==="number"?uc:r==="string"?(n=No(t))?(t=n,D1):Iq:t instanceof No?D1:t instanceof Date?Cq:Oq(t)?Pq:Array.isArray(t)?kq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Tq:uc)(e,t)}function b0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Dq(e,t){t===void 0&&(t=e,e=gi);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Rq(e){return function(){return e}}function dc(e){return+e}var R1=[0,1];function Ft(e){return e}function og(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Rq(isNaN(t)?NaN:.5)}function $q(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Lq(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=og(s,n),i=r(o,i)):(n=og(n,s),i=r(i,o)),function(l){return i(n(l))}}function qq(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=og(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=al(e,l,1,n)-1;return i[c](s[c](l))}}function ol(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function pu(){var e=R1,t=R1,r=gi,n,s,i,o=Ft,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Ft&&(o=$q(e[0],e[h-1])),l=h>2?qq:Lq,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),uc)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,dc),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=b0,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Ft,d()):o!==Ft},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,s=m,d()}}function w0(){return pu()(Ft,Ft)}function Bq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fc(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function La(e){return e=fc(Math.abs(e)),e?e[1]:NaN}function Fq(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function zq(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Uq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function So(e){if(!(t=Uq.exec(e)))throw new Error("invalid format: "+e);var t;return new j0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}So.prototype=j0.prototype;function j0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}j0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vq(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var tO;function Wq(e,t){var r=fc(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(tO=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+fc(e,Math.max(0,t+i-1))[0]}function $1(e,t){var r=fc(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const L1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Bq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$1(e*100,t),r:$1,s:Wq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function q1(e){return e}var B1=Array.prototype.map,F1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Hq(e){var t=e.grouping===void 0||e.thousands===void 0?q1:Fq(B1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?q1:zq(B1.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=So(f);var h=f.fill,m=f.align,x=f.sign,p=f.symbol,g=f.zero,y=f.width,v=f.comma,w=f.precision,j=f.trim,b=f.type;b==="n"?(v=!0,b="g"):L1[b]||(w===void 0&&(w=12),j=!0,b="g"),(g||h==="0"&&m==="=")&&(g=!0,h="0",m="=");var N=p==="$"?r:p==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_=p==="$"?n:/[%p]/.test(b)?o:"",A=L1[b],O=/[defgprs%]/.test(b);w=w===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(P){var C=N,E=_,M,$,q;if(b==="c")E=A(P)+E,P="";else{P=+P;var D=P<0||1/P<0;if(P=isNaN(P)?c:A(Math.abs(P),w),j&&(P=Vq(P)),D&&+P==0&&x!=="+"&&(D=!1),C=(D?x==="("?x:l:x==="-"||x==="("?"":x)+C,E=(b==="s"?F1[8+tO/3]:"")+E+(D&&x==="("?")":""),O){for(M=-1,$=P.length;++M<$;)if(q=P.charCodeAt(M),48>q||q>57){E=(q===46?s+P.slice(M+1):P.slice(M))+E,P=P.slice(0,M);break}}}v&&!g&&(P=t(P,1/0));var z=C.length+P.length+E.length,V=z<y?new Array(y-z+1).join(h):"";switch(v&&g&&(P=t(V+P,V.length?y-E.length:1/0),V=""),m){case"<":P=C+P+E+V;break;case"=":P=C+V+P+E;break;case"^":P=V.slice(0,z=V.length>>1)+C+P+E+V.slice(z);break;default:P=V+C+P+E;break}return i(P)}return T.toString=function(){return f+""},T}function d(f,h){var m=u((f=So(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(La(h)/3)))*3,p=Math.pow(10,-x),g=F1[8+x/3];return function(y){return m(p*y)+g}}return{format:u,formatPrefix:d}}var Pl,N0,rO;Gq({thousands:",",grouping:[3],currency:["$",""]});function Gq(e){return Pl=Hq(e),N0=Pl.format,rO=Pl.formatPrefix,Pl}function Kq(e){return Math.max(0,-La(Math.abs(e)))}function Yq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(La(t)/3)))*3-La(Math.abs(e)))}function Xq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,La(t)-La(e))+1}function nO(e,t,r,n){var s=ng(e,t,r),i;switch(n=So(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Yq(s,o))&&(n.precision=i),rO(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Xq(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Kq(s))&&(n.precision=i-(n.type==="%")*2);break}}return N0(n)}function ts(e){var t=e.domain;return e.ticks=function(r){var n=t();return tg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return nO(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=rg(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function hc(){var e=w0();return e.copy=function(){return ol(e,hc())},yr.apply(e,arguments),ts(e)}function sO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,dc),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return sO(e).unknown(t)},e=arguments.length?Array.from(e,dc):[0,1],ts(r)}function aO(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function z1(e){return Math.log(e)}function U1(e){return Math.exp(e)}function Qq(e){return-Math.log(-e)}function Jq(e){return-Math.exp(-e)}function Zq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function e8(e){return e===10?Zq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function t8(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function V1(e){return(t,r)=>-e(-t,r)}function S0(e){const t=e(z1,U1),r=t.domain;let n=10,s,i;function o(){return s=t8(n),i=e8(n),r()[0]<0?(s=V1(s),i=V1(i),e(Qq,Jq)):e(z1,U1),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),x,p;const g=l==null?10:+l;let y=[];if(!(n%1)&&m-h<g){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(x=1;x<n;++x)if(p=h<0?x/i(-h):x*i(h),!(p<u)){if(p>d)break;y.push(p)}}else for(;h<=m;++h)for(x=n-1;x>=1;--x)if(p=h>0?x/i(-h):x*i(h),!(p<u)){if(p>d)break;y.push(p)}y.length*2<g&&(y=tg(u,d,g))}else y=tg(h,m,Math.min(m-h,g)).map(i);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=So(c)).precision==null&&(c.trim=!0),c=N0(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(aO(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function iO(){const e=S0(pu()).domain([1,10]);return e.copy=()=>ol(e,iO()).base(e.base()),yr.apply(e,arguments),e}function W1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function H1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _0(e){var t=1,r=e(W1(t),H1(t));return r.constant=function(n){return arguments.length?e(W1(t=+n),H1(t)):t},ts(r)}function oO(){var e=_0(pu());return e.copy=function(){return ol(e,oO()).constant(e.constant())},yr.apply(e,arguments)}function G1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function r8(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function n8(e){return e<0?-e*e:e*e}function A0(e){var t=e(Ft,Ft),r=1;function n(){return r===1?e(Ft,Ft):r===.5?e(r8,n8):e(G1(r),G1(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},ts(t)}function P0(){var e=A0(pu());return e.copy=function(){return ol(e,P0()).exponent(e.exponent())},yr.apply(e,arguments),e}function s8(){return P0.apply(null,arguments).exponent(.5)}function K1(e){return Math.sign(e)*e*e}function a8(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function lO(){var e=w0(),t=[0,1],r=!1,n;function s(i){var o=a8(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(K1(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,dc)).map(K1)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return lO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},yr.apply(s,arguments),ts(s)}function cO(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=uq(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[al(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Un),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return cO().domain(e).range(t).unknown(n)},yr.apply(i,arguments)}function uO(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[al(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return uO().domain([e,t]).range(s).unknown(i)},yr.apply(ts(o),arguments)}function dO(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[al(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return dO().domain(e).range(t).unknown(r)},yr.apply(s,arguments)}const fm=new Date,hm=new Date;function yt(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>yt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(fm.setTime(+i),hm.setTime(+o),e(fm),e(hm),Math.floor(r(fm,hm))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const mc=yt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);mc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):mc);mc.range;const cn=1e3,mr=cn*60,un=mr*60,vn=un*24,O0=vn*7,Y1=vn*30,mm=vn*365,xs=yt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*cn)},(e,t)=>(t-e)/cn,e=>e.getUTCSeconds());xs.range;const k0=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cn)},(e,t)=>{e.setTime(+e+t*mr)},(e,t)=>(t-e)/mr,e=>e.getMinutes());k0.range;const C0=yt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*mr)},(e,t)=>(t-e)/mr,e=>e.getUTCMinutes());C0.range;const T0=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cn-e.getMinutes()*mr)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getHours());T0.range;const E0=yt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getUTCHours());E0.range;const ll=yt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mr)/vn,e=>e.getDate()-1);ll.range;const gu=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vn,e=>e.getUTCDate()-1);gu.range;const fO=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vn,e=>Math.floor(e/vn));fO.range;function zs(e){return yt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*mr)/O0)}const xu=zs(0),pc=zs(1),i8=zs(2),o8=zs(3),qa=zs(4),l8=zs(5),c8=zs(6);xu.range;pc.range;i8.range;o8.range;qa.range;l8.range;c8.range;function Us(e){return yt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/O0)}const yu=Us(0),gc=Us(1),u8=Us(2),d8=Us(3),Ba=Us(4),f8=Us(5),h8=Us(6);yu.range;gc.range;u8.range;d8.range;Ba.range;f8.range;h8.range;const M0=yt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());M0.range;const I0=yt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());I0.range;const bn=yt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});bn.range;const wn=yt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});wn.range;function hO(e,t,r,n,s,i){const o=[[xs,1,cn],[xs,5,5*cn],[xs,15,15*cn],[xs,30,30*cn],[i,1,mr],[i,5,5*mr],[i,15,15*mr],[i,30,30*mr],[s,1,un],[s,3,3*un],[s,6,6*un],[s,12,12*un],[n,1,vn],[n,2,2*vn],[r,1,O0],[t,1,Y1],[t,3,3*Y1],[e,1,mm]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),x=m?m.range(u,+d+1):[];return h?x.reverse():x}function c(u,d,f){const h=Math.abs(d-u)/f,m=g0(([,,g])=>g).right(o,h);if(m===o.length)return e.every(ng(u/mm,d/mm,f));if(m===0)return mc.every(Math.max(ng(u,d,f),1));const[x,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return x.every(p)}return[l,c]}const[m8,p8]=hO(wn,I0,yu,fO,E0,C0),[g8,x8]=hO(bn,M0,xu,ll,T0,k0);function pm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _i(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function y8(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ai(s),d=Pi(s),f=Ai(i),h=Pi(i),m=Ai(o),x=Pi(o),p=Ai(l),g=Pi(l),y=Ai(c),v=Pi(c),w={a:D,A:z,b:V,B:ee,c:null,d:tN,e:tN,f:F8,g:Q8,G:Z8,H:L8,I:q8,j:B8,L:mO,m:z8,M:U8,p:ae,q:W,Q:sN,s:aN,S:V8,u:W8,U:H8,V:G8,w:K8,W:Y8,x:null,X:null,y:X8,Y:J8,Z:eB,"%":nN},j={a:Z,A:ce,b:X,B:I,c:null,d:rN,e:rN,f:sB,g:mB,G:gB,H:tB,I:rB,j:nB,L:gO,m:aB,M:iB,p:B,q:J,Q:sN,s:aN,S:oB,u:lB,U:cB,V:uB,w:dB,W:fB,x:null,X:null,y:hB,Y:pB,Z:xB,"%":nN},b={a:T,A:P,b:C,B:E,c:M,d:Z1,e:Z1,f:I8,g:J1,G:Q1,H:eN,I:eN,j:C8,L:M8,m:k8,M:T8,p:O,q:O8,Q:R8,s:$8,S:E8,u:N8,U:S8,V:_8,w:j8,W:A8,x:$,X:q,y:J1,Y:Q1,Z:P8,"%":D8};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(G,re){return function(R){var L=[],Q=-1,ie=0,oe=G.length,de,Se,Ie;for(R instanceof Date||(R=new Date(+R));++Q<oe;)G.charCodeAt(Q)===37&&(L.push(G.slice(ie,Q)),(Se=X1[de=G.charAt(++Q)])!=null?de=G.charAt(++Q):Se=de==="e"?" ":"0",(Ie=re[de])&&(de=Ie(R,Se)),L.push(de),ie=Q+1);return L.push(G.slice(ie,Q)),L.join("")}}function _(G,re){return function(R){var L=_i(1900,void 0,1),Q=A(L,G,R+="",0),ie,oe;if(Q!=R.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(re&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(ie=gm(_i(L.y,0,1)),oe=ie.getUTCDay(),ie=oe>4||oe===0?gc.ceil(ie):gc(ie),ie=gu.offset(ie,(L.V-1)*7),L.y=ie.getUTCFullYear(),L.m=ie.getUTCMonth(),L.d=ie.getUTCDate()+(L.w+6)%7):(ie=pm(_i(L.y,0,1)),oe=ie.getDay(),ie=oe>4||oe===0?pc.ceil(ie):pc(ie),ie=ll.offset(ie,(L.V-1)*7),L.y=ie.getFullYear(),L.m=ie.getMonth(),L.d=ie.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),oe="Z"in L?gm(_i(L.y,0,1)).getUTCDay():pm(_i(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(oe+5)%7:L.w+L.U*7-(oe+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,gm(L)):pm(L)}}function A(G,re,R,L){for(var Q=0,ie=re.length,oe=R.length,de,Se;Q<ie;){if(L>=oe)return-1;if(de=re.charCodeAt(Q++),de===37){if(de=re.charAt(Q++),Se=b[de in X1?re.charAt(Q++):de],!Se||(L=Se(G,R,L))<0)return-1}else if(de!=R.charCodeAt(L++))return-1}return L}function O(G,re,R){var L=u.exec(re.slice(R));return L?(G.p=d.get(L[0].toLowerCase()),R+L[0].length):-1}function T(G,re,R){var L=m.exec(re.slice(R));return L?(G.w=x.get(L[0].toLowerCase()),R+L[0].length):-1}function P(G,re,R){var L=f.exec(re.slice(R));return L?(G.w=h.get(L[0].toLowerCase()),R+L[0].length):-1}function C(G,re,R){var L=y.exec(re.slice(R));return L?(G.m=v.get(L[0].toLowerCase()),R+L[0].length):-1}function E(G,re,R){var L=p.exec(re.slice(R));return L?(G.m=g.get(L[0].toLowerCase()),R+L[0].length):-1}function M(G,re,R){return A(G,t,re,R)}function $(G,re,R){return A(G,r,re,R)}function q(G,re,R){return A(G,n,re,R)}function D(G){return o[G.getDay()]}function z(G){return i[G.getDay()]}function V(G){return c[G.getMonth()]}function ee(G){return l[G.getMonth()]}function ae(G){return s[+(G.getHours()>=12)]}function W(G){return 1+~~(G.getMonth()/3)}function Z(G){return o[G.getUTCDay()]}function ce(G){return i[G.getUTCDay()]}function X(G){return c[G.getUTCMonth()]}function I(G){return l[G.getUTCMonth()]}function B(G){return s[+(G.getUTCHours()>=12)]}function J(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var re=N(G+="",w);return re.toString=function(){return G},re},parse:function(G){var re=_(G+="",!1);return re.toString=function(){return G},re},utcFormat:function(G){var re=N(G+="",j);return re.toString=function(){return G},re},utcParse:function(G){var re=_(G+="",!0);return re.toString=function(){return G},re}}}var X1={"-":"",_:" ",0:"0"},St=/^\s*\d+/,v8=/^%/,b8=/[\\^$*+?|[\]().{}]/g;function De(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function w8(e){return e.replace(b8,"\\$&")}function Ai(e){return new RegExp("^(?:"+e.map(w8).join("|")+")","i")}function Pi(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function j8(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function N8(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function S8(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function _8(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function A8(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Q1(e,t,r){var n=St.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function J1(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function P8(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function O8(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function k8(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Z1(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function C8(e,t,r){var n=St.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function eN(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function T8(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function E8(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function M8(e,t,r){var n=St.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function I8(e,t,r){var n=St.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function D8(e,t,r){var n=v8.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function R8(e,t,r){var n=St.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function $8(e,t,r){var n=St.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function tN(e,t){return De(e.getDate(),t,2)}function L8(e,t){return De(e.getHours(),t,2)}function q8(e,t){return De(e.getHours()%12||12,t,2)}function B8(e,t){return De(1+ll.count(bn(e),e),t,3)}function mO(e,t){return De(e.getMilliseconds(),t,3)}function F8(e,t){return mO(e,t)+"000"}function z8(e,t){return De(e.getMonth()+1,t,2)}function U8(e,t){return De(e.getMinutes(),t,2)}function V8(e,t){return De(e.getSeconds(),t,2)}function W8(e){var t=e.getDay();return t===0?7:t}function H8(e,t){return De(xu.count(bn(e)-1,e),t,2)}function pO(e){var t=e.getDay();return t>=4||t===0?qa(e):qa.ceil(e)}function G8(e,t){return e=pO(e),De(qa.count(bn(e),e)+(bn(e).getDay()===4),t,2)}function K8(e){return e.getDay()}function Y8(e,t){return De(pc.count(bn(e)-1,e),t,2)}function X8(e,t){return De(e.getFullYear()%100,t,2)}function Q8(e,t){return e=pO(e),De(e.getFullYear()%100,t,2)}function J8(e,t){return De(e.getFullYear()%1e4,t,4)}function Z8(e,t){var r=e.getDay();return e=r>=4||r===0?qa(e):qa.ceil(e),De(e.getFullYear()%1e4,t,4)}function eB(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+De(t/60|0,"0",2)+De(t%60,"0",2)}function rN(e,t){return De(e.getUTCDate(),t,2)}function tB(e,t){return De(e.getUTCHours(),t,2)}function rB(e,t){return De(e.getUTCHours()%12||12,t,2)}function nB(e,t){return De(1+gu.count(wn(e),e),t,3)}function gO(e,t){return De(e.getUTCMilliseconds(),t,3)}function sB(e,t){return gO(e,t)+"000"}function aB(e,t){return De(e.getUTCMonth()+1,t,2)}function iB(e,t){return De(e.getUTCMinutes(),t,2)}function oB(e,t){return De(e.getUTCSeconds(),t,2)}function lB(e){var t=e.getUTCDay();return t===0?7:t}function cB(e,t){return De(yu.count(wn(e)-1,e),t,2)}function xO(e){var t=e.getUTCDay();return t>=4||t===0?Ba(e):Ba.ceil(e)}function uB(e,t){return e=xO(e),De(Ba.count(wn(e),e)+(wn(e).getUTCDay()===4),t,2)}function dB(e){return e.getUTCDay()}function fB(e,t){return De(gc.count(wn(e)-1,e),t,2)}function hB(e,t){return De(e.getUTCFullYear()%100,t,2)}function mB(e,t){return e=xO(e),De(e.getUTCFullYear()%100,t,2)}function pB(e,t){return De(e.getUTCFullYear()%1e4,t,4)}function gB(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ba(e):Ba.ceil(e),De(e.getUTCFullYear()%1e4,t,4)}function xB(){return"+0000"}function nN(){return"%"}function sN(e){return+e}function aN(e){return Math.floor(+e/1e3)}var Xs,yO,vO;yB({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yB(e){return Xs=y8(e),yO=Xs.format,Xs.parse,vO=Xs.utcFormat,Xs.utcParse,Xs}function vB(e){return new Date(e)}function bB(e){return e instanceof Date?+e:+new Date(+e)}function D0(e,t,r,n,s,i,o,l,c,u){var d=w0(),f=d.invert,h=d.domain,m=u(".%L"),x=u(":%S"),p=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),w=u("%B"),j=u("%Y");function b(N){return(c(N)<N?m:l(N)<N?x:o(N)<N?p:i(N)<N?g:n(N)<N?s(N)<N?y:v:r(N)<N?w:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,bB)):h().map(vB)},d.ticks=function(N){var _=h();return e(_[0],_[_.length-1],N??10)},d.tickFormat=function(N,_){return _==null?b:u(_)},d.nice=function(N){var _=h();return(!N||typeof N.range!="function")&&(N=t(_[0],_[_.length-1],N??10)),N?h(aO(_,N)):d},d.copy=function(){return ol(d,D0(e,t,r,n,s,i,o,l,c,u))},d}function wB(){return yr.apply(D0(g8,x8,bn,M0,xu,ll,T0,k0,xs,yO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jB(){return yr.apply(D0(m8,p8,wn,I0,yu,gu,E0,C0,xs,vO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vu(){var e=0,t=1,r,n,s,i,o=Ft,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,x;return arguments.length?([m,x]=h,o=f(m,x),u):[o(0),o(1)]}}return u.range=d(gi),u.rangeRound=d(b0),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function rs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function bO(){var e=ts(vu()(Ft));return e.copy=function(){return rs(e,bO())},_n.apply(e,arguments)}function wO(){var e=S0(vu()).domain([1,10]);return e.copy=function(){return rs(e,wO()).base(e.base())},_n.apply(e,arguments)}function jO(){var e=_0(vu());return e.copy=function(){return rs(e,jO()).constant(e.constant())},_n.apply(e,arguments)}function R0(){var e=A0(vu());return e.copy=function(){return rs(e,R0()).exponent(e.exponent())},_n.apply(e,arguments)}function NB(){return R0.apply(null,arguments).exponent(.5)}function NO(){var e=[],t=Ft;function r(n){if(n!=null&&!isNaN(n=+n))return t((al(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Un),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>cq(e,i/n))},r.copy=function(){return NO(t).domain(e)},_n.apply(r,arguments)}function bu(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Ft,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function x(p){return function(g){var y,v,w;return arguments.length?([y,v,w]=g,u=Dq(p,[y,v,w]),m):[u(0),u(.5),u(1)]}}return m.range=x(gi),m.rangeRound=x(b0),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,s=p(e),i=p(t),o=p(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m}}function SO(){var e=ts(bu()(Ft));return e.copy=function(){return rs(e,SO())},_n.apply(e,arguments)}function _O(){var e=S0(bu()).domain([.1,1,10]);return e.copy=function(){return rs(e,_O()).base(e.base())},_n.apply(e,arguments)}function AO(){var e=_0(bu());return e.copy=function(){return rs(e,AO()).constant(e.constant())},_n.apply(e,arguments)}function $0(){var e=A0(bu());return e.copy=function(){return rs(e,$0()).exponent(e.exponent())},_n.apply(e,arguments)}function SB(){return $0.apply(null,arguments).exponent(.5)}const iN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bo,scaleDiverging:SO,scaleDivergingLog:_O,scaleDivergingPow:$0,scaleDivergingSqrt:SB,scaleDivergingSymlog:AO,scaleIdentity:sO,scaleImplicit:sg,scaleLinear:hc,scaleLog:iO,scaleOrdinal:x0,scalePoint:Hi,scalePow:P0,scaleQuantile:cO,scaleQuantize:uO,scaleRadial:lO,scaleSequential:bO,scaleSequentialLog:wO,scaleSequentialPow:R0,scaleSequentialQuantile:NO,scaleSequentialSqrt:NB,scaleSequentialSymlog:jO,scaleSqrt:s8,scaleSymlog:oO,scaleThreshold:dO,scaleTime:wB,scaleUtc:jB,tickFormat:nO},Symbol.toStringTag,{value:"Module"}));var xm,oN;function wu(){if(oN)return xm;oN=1;var e=fi();function t(r,n,s){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!e(c):s(c,u)))var u=c,d=l}return d}return xm=t,xm}var ym,lN;function PO(){if(lN)return ym;lN=1;function e(t,r){return t>r}return ym=e,ym}var vm,cN;function _B(){if(cN)return vm;cN=1;var e=wu(),t=PO(),r=pi();function n(s){return s&&s.length?e(s,r,t):void 0}return vm=n,vm}var AB=_B();const Fn=ze(AB);var bm,uN;function OO(){if(uN)return bm;uN=1;function e(t,r){return t<r}return bm=e,bm}var wm,dN;function PB(){if(dN)return wm;dN=1;var e=wu(),t=OO(),r=pi();function n(s){return s&&s.length?e(s,r,t):void 0}return wm=n,wm}var OB=PB();const ju=ze(OB);var jm,fN;function kB(){if(fN)return jm;fN=1;var e=Zx(),t=en(),r=RP(),n=Wt();function s(i,o){var l=n(i)?e:r;return l(i,t(o,3))}return jm=s,jm}var Nm,hN;function CB(){if(hN)return Nm;hN=1;var e=IP(),t=kB();function r(n,s){return e(t(n,s),1)}return Nm=r,Nm}var TB=CB();const EB=ze(TB);var Sm,mN;function MB(){if(mN)return Sm;mN=1;var e=f0();function t(r,n){return e(r,n)}return Sm=t,Sm}var IB=MB();const Ds=ze(IB);var xi=1e9,DB={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},q0,rt=!0,xr="[DecimalError] ",Os=xr+"Invalid argument: ",L0=xr+"Exponent out of range: ",yi=Math.floor,fs=Math.pow,RB=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jt,bt=1e7,Qe=7,kO=9007199254740991,xc=yi(kO/Qe),ue={};ue.absoluteValue=ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ue.comparedTo=ue.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ue.dividedBy=ue.div=function(e){return pn(this,new this.constructor(e))};ue.dividedToIntegerBy=ue.idiv=function(e){var t=this,r=t.constructor;return Ue(pn(t,new r(e),0,1),r.precision)};ue.equals=ue.eq=function(e){return!this.cmp(e)};ue.exponent=function(){return ht(this)};ue.greaterThan=ue.gt=function(e){return this.cmp(e)>0};ue.greaterThanOrEqualTo=ue.gte=function(e){return this.cmp(e)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(e){return this.cmp(e)<0};ue.lessThanOrEqualTo=ue.lte=function(e){return this.cmp(e)<1};ue.logarithm=ue.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Jt))throw Error(xr+"NaN");if(r.s<1)throw Error(xr+(r.s?"NaN":"-Infinity"));return r.eq(Jt)?new n(0):(rt=!1,t=pn(_o(r,i),_o(e,i),i),rt=!0,Ue(t,s))};ue.minus=ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?EO(t,e):CO(t,(e.s=-e.s,e))};ue.modulo=ue.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(xr+"NaN");return r.s?(rt=!1,t=pn(r,e,0,1).times(e),rt=!0,r.minus(t)):Ue(new n(r),s)};ue.naturalExponential=ue.exp=function(){return TO(this)};ue.naturalLogarithm=ue.ln=function(){return _o(this)};ue.negated=ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ue.plus=ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CO(t,e):EO(t,(e.s=-e.s,e))};ue.precision=ue.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Os+e);if(t=ht(s)+1,n=s.d.length-1,r=n*Qe+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ue.squareRoot=ue.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(xr+"NaN")}for(e=ht(l),rt=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Fr(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=yi((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(pn(l,i,o+2)).times(.5),Fr(i.d).slice(0,o)===(t=Fr(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Ue(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return rt=!0,Ue(n,r)};ue.times=ue.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+m[n]*h[s-n-1]+t,i[s--]=l%bt|0,t=l/bt|0;i[s]=(i[s]+t)%bt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,rt?Ue(e,f.precision):e};ue.toDecimalPlaces=ue.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Xr(e,0,xi),t===void 0?t=n.rounding:Xr(t,0,8),Ue(r,e+ht(r)+1,t))};ue.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Rs(n,!0):(Xr(e,0,xi),t===void 0?t=s.rounding:Xr(t,0,8),n=Ue(new s(n),e+1,t),r=Rs(n,!0,e+1)),r};ue.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Rs(s):(Xr(e,0,xi),t===void 0?t=i.rounding:Xr(t,0,8),n=Ue(new i(s),e+ht(s)+1,t),r=Rs(n.abs(),!1,e+ht(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ue.toInteger=ue.toint=function(){var e=this,t=e.constructor;return Ue(new t(e),ht(e)+1,t.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Jt);if(l=new c(l),!l.s){if(e.s<1)throw Error(xr+"Infinity");return l}if(l.eq(Jt))return l;if(n=c.precision,e.eq(Jt))return Ue(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=kO){for(s=new c(Jt),t=Math.ceil(n/Qe+4),rt=!1;r%2&&(s=s.times(l),gN(s.d,t)),r=yi(r/2),r!==0;)l=l.times(l),gN(l.d,t);return rt=!0,e.s<0?new c(Jt).div(s):Ue(s,n)}}else if(i<0)throw Error(xr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,rt=!1,s=e.times(_o(l,n+u)),rt=!0,s=TO(s),s.s=i,s};ue.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=ht(s),n=Rs(s,r<=i.toExpNeg||r>=i.toExpPos)):(Xr(e,1,xi),t===void 0?t=i.rounding:Xr(t,0,8),s=Ue(new i(s),e,t),r=ht(s),n=Rs(s,e<=r||r<=i.toExpNeg,e)),n};ue.toSignificantDigits=ue.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Xr(e,1,xi),t===void 0?t=n.rounding:Xr(t,0,8)),Ue(new n(r),e,t)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ht(e),r=e.constructor;return Rs(e,t<=r.toExpNeg||t>=r.toExpPos)};function CO(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),rt?Ue(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/Qe),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/bt|0,c[i]%=bt;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,rt?Ue(t,f):t}function Xr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Os+e)}function Fr(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Qe-n.length,r&&(i+=Mn(r)),i+=n;o=e[t],n=o+"",r=Qe-n.length,r&&(i+=Mn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var pn=(function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%bt|0,o=i/bt|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*bt+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,m,x,p,g,y,v,w,j,b,N,_,A,O=n.constructor,T=n.s==s.s?1:-1,P=n.d,C=s.d;if(!n.s)return new O(n);if(!s.s)throw Error(xr+"Division by zero");for(c=n.e-s.e,_=C.length,b=P.length,m=new O(T),x=m.d=[],u=0;C[u]==(P[u]||0);)++u;if(C[u]>(P[u]||0)&&--c,i==null?v=i=O.precision:o?v=i+(ht(n)-ht(s))+1:v=i,v<0)return new O(0);if(v=v/Qe+2|0,u=0,_==1)for(d=0,C=C[0],v++;(u<b||d)&&v--;u++)w=d*bt+(P[u]||0),x[u]=w/C|0,d=w%C|0;else{for(d=bt/(C[0]+1)|0,d>1&&(C=e(C,d),P=e(P,d),_=C.length,b=P.length),j=_,p=P.slice(0,_),g=p.length;g<_;)p[g++]=0;A=C.slice(),A.unshift(0),N=C[0],C[1]>=bt/2&&++N;do d=0,l=t(C,p,_,g),l<0?(y=p[0],_!=g&&(y=y*bt+(p[1]||0)),d=y/N|0,d>1?(d>=bt&&(d=bt-1),f=e(C,d),h=f.length,g=p.length,l=t(f,p,h,g),l==1&&(d--,r(f,_<h?A:C,h))):(d==0&&(l=d=1),f=C.slice()),h=f.length,h<g&&f.unshift(0),r(p,f,g),l==-1&&(g=p.length,l=t(C,p,_,g),l<1&&(d++,r(p,_<g?A:C,g))),g=p.length):l===0&&(d++,p=[0]),x[u++]=d,l&&p[0]?p[g++]=P[j]||0:(p=[P[j]],g=1);while((j++<b||p[0]!==void 0)&&v--)}return x[0]||x.shift(),m.e=c,Ue(m,o?i+ht(m)+1:i)}})();function TO(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(ht(e)>16)throw Error(L0+ht(e));if(!e.s)return new d(Jt);for(rt=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(fs(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(Jt),d.precision=l;;){if(s=Ue(s.times(e),l),r=r.times(++c),o=i.plus(pn(s,r,l)),Fr(o.d).slice(0,l)===Fr(i.d).slice(0,l)){for(;u--;)i=Ue(i.times(i),l);return d.precision=f,t==null?(rt=!0,Ue(i,f)):i}i=o}}function ht(e){for(var t=e.e*Qe,r=e.d[0];r>=10;r/=10)t++;return t}function _m(e,t,r){if(t>e.LN10.sd())throw rt=!0,r&&(e.precision=r),Error(xr+"LN10 precision limit exceeded");return Ue(new e(e.LN10),t)}function Mn(e){for(var t="";e--;)t+="0";return t}function _o(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,m=e,x=m.d,p=m.constructor,g=p.precision;if(m.s<1)throw Error(xr+(m.s?"NaN":"-Infinity"));if(m.eq(Jt))return new p(0);if(t==null?(rt=!1,u=g):u=t,m.eq(10))return t==null&&(rt=!0),_m(p,u);if(u+=h,p.precision=u,r=Fr(x),n=r.charAt(0),i=ht(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Fr(m.d),n=r.charAt(0),f++;i=ht(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=_m(p,u+2,g).times(i+""),m=_o(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=g,t==null?(rt=!0,Ue(m,g)):m;for(l=o=m=pn(m.minus(Jt),m.plus(Jt),u),d=Ue(m.times(m),u),s=3;;){if(o=Ue(o.times(d),u),c=l.plus(pn(o,new p(s),u)),Fr(c.d).slice(0,u)===Fr(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(_m(p,u+2,g).times(i+""))),l=pn(l,new p(f),u),p.precision=g,t==null?(rt=!0,Ue(l,g)):l;l=c,s+=2}}function pN(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=yi(r/Qe),e.d=[],n=(r+1)%Qe,r<0&&(n+=Qe),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Qe;n<s;)e.d.push(+t.slice(n,n+=Qe));t=t.slice(n),n=Qe-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),rt&&(e.e>xc||e.e<-xc))throw Error(L0+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ue(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Qe,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Qe),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Qe,s=n-Qe+o}if(r!==void 0&&(i=fs(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/fs(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ht(e),f.length=1,t=t-i-1,f[0]=fs(10,(Qe-t%Qe)%Qe),e.e=yi(-t/Qe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=fs(10,Qe-n),f[d]=s>0?(u/fs(10,o-s)%fs(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==bt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=bt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(rt&&(e.e>xc||e.e<-xc))throw Error(L0+ht(e));return e}function EO(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),rt?Ue(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(m/Qe),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=bt-1;--c[i],c[s]+=bt}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,rt?Ue(t,m):t):new h(0)}function Rs(e,t,r){var n,s=ht(e),i=Fr(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Mn(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Mn(-s-1)+i,r&&(n=r-o)>0&&(i+=Mn(n))):s>=o?(i+=Mn(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Mn(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Mn(n))),e.s<0?"-"+i:i}function gN(e,t){if(e.length>t)return e.length=t,!0}function MO(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Os+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return pN(o,i.toString())}else if(typeof i!="string")throw Error(Os+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,RB.test(i))pN(o,i);else throw Error(Os+i)}if(s.prototype=ue,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=MO,s.config=s.set=$B,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function $B(e){if(!e||typeof e!="object")throw Error(xr+"Object expected");var t,r,n,s=["precision",1,xi,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(yi(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Os+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Os+r+": "+n);return this}var q0=MO(DB);Jt=new q0(1);const Fe=q0;function LB(e){return zB(e)||FB(e)||BB(e)||qB()}function qB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BB(e,t){if(e){if(typeof e=="string")return lg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lg(e,t)}}function FB(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function zB(e){if(Array.isArray(e))return lg(e)}function lg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var UB=function(t){return t},IO={},DO=function(t){return t===IO},xN=function(t){return function r(){return arguments.length===0||arguments.length===1&&DO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},VB=function e(t,r){return t===1?r:xN(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==IO}).length;return o>=t?r.apply(void 0,s):e(t-o,xN(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return DO(f)?c.shift():f});return r.apply(void 0,LB(d).concat(c))}))})},Nu=function(t){return VB(t.length,t)},cg=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},WB=Nu(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),HB=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return UB;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},ug=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},RO=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function GB(e){var t;return e===0?t=1:t=Math.floor(new Fe(e).abs().log(10).toNumber())+1,t}function KB(e,t,r){for(var n=new Fe(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var YB=Nu(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),XB=Nu(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),QB=Nu(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Su={rangeStep:KB,getDigitCount:GB,interpolateNumber:YB,uninterpolateNumber:XB,uninterpolateTruncation:QB};function dg(e){return eF(e)||ZB(e)||$O(e)||JB()}function JB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZB(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function eF(e){if(Array.isArray(e))return fg(e)}function Ao(e,t){return nF(e)||rF(e,t)||$O(e,t)||tF()}function tF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $O(e,t){if(e){if(typeof e=="string")return fg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fg(e,t)}}function fg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rF(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function nF(e){if(Array.isArray(e))return e}function LO(e){var t=Ao(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function qO(e,t,r){if(e.lte(0))return new Fe(0);var n=Su.getDigitCount(e.toNumber()),s=new Fe(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Fe(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Fe(Math.ceil(c))}function sF(e,t,r){var n=1,s=new Fe(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Fe(10).pow(Su.getDigitCount(e)-1),s=new Fe(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Fe(Math.floor(e)))}else e===0?s=new Fe(Math.floor((t-1)/2)):r||(s=new Fe(Math.floor(e)));var o=Math.floor((t-1)/2),l=HB(WB(function(c){return s.add(new Fe(c-o).mul(n)).toNumber()}),cg);return l(0,t)}function BO(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Fe(0),tickMin:new Fe(0),tickMax:new Fe(0)};var i=qO(new Fe(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Fe(0):(o=new Fe(e).add(t).div(2),o=o.sub(new Fe(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Fe(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?BO(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Fe(l).mul(i)),tickMax:o.add(new Fe(c).mul(i))})}function aF(e){var t=Ao(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=LO([r,n]),c=Ao(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(dg(cg(0,s-1).map(function(){return 1/0}))):[].concat(dg(cg(0,s-1).map(function(){return-1/0})),[d]);return r>n?ug(f):f}if(u===d)return sF(u,s,i);var h=BO(u,d,o,i),m=h.step,x=h.tickMin,p=h.tickMax,g=Su.rangeStep(x,p.add(new Fe(.1).mul(m)),m);return r>n?ug(g):g}function iF(e,t){var r=Ao(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=LO([n,s]),l=Ao(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=qO(new Fe(u).sub(c).div(d-1),i,0),h=[].concat(dg(Su.rangeStep(new Fe(c),new Fe(u).sub(new Fe(.99).mul(f)),f)),[u]);return n>s?ug(h):h}var oF=RO(aF),lF=RO(iF),cF="Invariant failed";function $s(e,t){throw new Error(cF)}var uF=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fa(e){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fa(e)}function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yc.apply(this,arguments)}function dF(e,t){return pF(e)||mF(e,t)||hF(e,t)||fF()}function fF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hF(e,t){if(e){if(typeof e=="string")return yN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yN(e,t)}}function yN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function pF(e){if(Array.isArray(e))return e}function gF(e,t){if(e==null)return{};var r=xF(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UO(n.key),n)}}function bF(e,t,r){return t&&vF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wF(e,t,r){return t=vc(t),jF(e,FO()?Reflect.construct(t,r||[],vc(e).constructor):t.apply(e,r))}function jF(e,t){if(t&&(Fa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NF(e)}function NF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FO=function(){return!!e})()}function vc(e){return vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vc(e)}function SF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hg(e,t)}function hg(e,t){return hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},hg(e,t)}function zO(e,t,r){return t=UO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UO(e){var t=_F(e,"string");return Fa(t)=="symbol"?t:t+""}function _F(e,t){if(Fa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cl=(function(e){function t(){return yF(this,t),wF(this,t,arguments)}return SF(t,e),bF(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=gF(n,uF),m=me(h,!1);this.props.direction==="x"&&d.type!=="number"&&$s();var x=c.map(function(p){var g=u(p,l),y=g.x,v=g.y,w=g.value,j=g.errorVal;if(!j)return null;var b=[],N,_;if(Array.isArray(j)){var A=dF(j,2);N=A[0],_=A[1]}else N=_=j;if(i==="vertical"){var O=d.scale,T=v+s,P=T+o,C=T-o,E=O(w-N),M=O(w+_);b.push({x1:M,y1:P,x2:M,y2:C}),b.push({x1:E,y1:T,x2:M,y2:T}),b.push({x1:E,y1:P,x2:E,y2:C})}else if(i==="horizontal"){var $=f.scale,q=y+s,D=q-o,z=q+o,V=$(w-N),ee=$(w+_);b.push({x1:D,y1:ee,x2:z,y2:ee}),b.push({x1:q,y1:V,x2:q,y2:ee}),b.push({x1:D,y1:V,x2:z,y2:V})}return k.createElement(ke,yc({className:"recharts-errorBar",key:"bar-".concat(b.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},m),b.map(function(ae){return k.createElement("line",yc({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return k.createElement(ke,{className:"recharts-errorBars"},x)}}])})(k.Component);zO(cl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});zO(cl,"displayName","ErrorBar");function Po(e){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Po(e)}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){AF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AF(e,t,r){return t=PF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PF(e){var t=OF(e,"string");return Po(t)=="symbol"?t:t+""}function OF(e,t){if(Po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VO=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Qt(r,ha);if(!o)return null;var l=ha.defaultProps,c=l!==void 0?is(is({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,x=m.sectors||m.data||[];return d.concat(x.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?is(is({},h),f.props):{},x=m.dataKey,p=m.name,g=m.legendType,y=m.hide;return{inactive:y,dataKey:x,type:c.iconType||g||"square",color:B0(f),value:p||x,payload:m}}),is(is(is({},c),ha.getWithHeight(o,s)),{},{payload:u,item:o})};function Oo(e){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(e)}function bN(e){return EF(e)||TF(e)||CF(e)||kF()}function kF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CF(e,t){if(e){if(typeof e=="string")return mg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mg(e,t)}}function TF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EF(e){if(Array.isArray(e))return mg(e)}function mg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){ga(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ga(e,t,r){return t=MF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MF(e){var t=IF(e,"string");return Oo(t)=="symbol"?t:t+""}function IF(e,t){if(Oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dt(e,t,r){return be(e)||be(t)?r:xt(t)?tr(e,t,r):ye(t)?t(e):r}function Gi(e,t,r,n){var s=EB(e,function(l){return dt(l,t)});if(r==="number"){var i=s.filter(function(l){return te(l)||parseFloat(l)});return i.length?[ju(i),Fn(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!be(l)}):s;return o.map(function(l){return xt(l)||l instanceof Date?l:""})}var DF=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,m=void 0;if(qt(f-d)!==qt(h-f)){var x=[];if(qt(h-f)===qt(c[1]-c[0])){m=h;var p=f+c[1]-c[0];x[0]=Math.min(p,(p+d)/2),x[1]=Math.max(p,(p+d)/2)}else{m=d;var g=h+c[1]-c[0];x[0]=Math.min(f,(g+f)/2),x[1]=Math.max(f,(g+f)/2)}var y=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>y[0]&&t<=y[1]||t>=x[0]&&t<=x[1]){o=s[u].index;break}}else{var v=Math.min(d,h),w=Math.max(d,h);if(t>(v+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},B0=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?lt(lt({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},RF=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var x=d[f[h]],p=x.items,g=x.cateAxisId,y=p.filter(function(_){return mn(_.type).indexOf("Bar")>=0});if(y&&y.length){var v=y[0].type.defaultProps,w=v!==void 0?lt(lt({},v),y[0].props):y[0].props,j=w.barSize,b=w[g];o[b]||(o[b]=[]);var N=be(j)?r:j;o[b].push({item:y[0],stackList:y.slice(1),barSize:be(N)?void 0:Bt(N,n,0)})}}return o},$F=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Bt(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=s/c,x=o.reduce(function(j,b){return j+b.barSize||0},0);x+=(c-1)*u,x>=s&&(x-=(c-1)*u,u=0),x>=s&&m>0&&(h=!0,m*=.9,x=c*m);var p=(s-x)/2>>0,g={offset:p-u,size:0};d=o.reduce(function(j,b){var N={item:b.item,position:{offset:g.offset+g.size+u,size:h?m:b.barSize}},_=[].concat(bN(j),[N]);return g=_[_.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(A){_.push({item:A,position:g})}),_},f)}else{var y=Bt(n,s,0,!0);s-2*y-(c-1)*u<=0&&(u=0);var v=(s-2*y-(c-1)*u)/c;v>1&&(v>>=0);var w=l===+l?Math.min(v,l):v;d=o.reduce(function(j,b,N){var _=[].concat(bN(j),[{item:b.item,position:{offset:y+(v+u)*N+(v-w)/2,size:w}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(A){_.push({item:A,position:_[_.length-1].position})}),_},f)}return d},LF=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=VO({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,m=u.align,x=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&x==="middle")&&m!=="center"&&te(t[m]))return lt(lt({},t),{},ga({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&x!=="middle"&&te(t[x]))return lt(lt({},t),{},ga({},x,t[x]+(h||0)))}return t},qF=function(t,r,n){return be(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},WO=function(t,r,n,s,i){var o=r.props.children,l=rr(o,cl).filter(function(u){return qF(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=dt(d,n);if(be(f))return u;var h=Array.isArray(f)?[ju(f),Fn(f)]:[f,f],m=c.reduce(function(x,p){var g=dt(d,p,0),y=h[0]-Math.abs(Array.isArray(g)?g[0]:g),v=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,x[0]),Math.max(v,x[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},BF=function(t,r,n,s,i){var o=r.map(function(l){return WO(t,l,n,i,s)}).filter(function(l){return!be(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},HO=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&WO(t,c,u,s)||Gi(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},GO=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},KO=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},dn=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?qt(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!mi(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},Am=new WeakMap,Ol=function(t,r){if(typeof r!="function")return t;Am.has(t)||Am.set(t,new WeakMap);var n=Am.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},YO=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:bo(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:hc(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Hi(),realScaleType:"point"}:i==="category"?{scale:bo(),realScaleType:"band"}:{scale:hc(),realScaleType:"linear"};if(Es(s)){var c="scale".concat(ou(s));return{scale:(iN[c]||Hi)(),realScaleType:iN[c]?c:"point"}}return ye(s)?{scale:s}:{scale:Hi(),realScaleType:"point"}},jN=1e-4,XO=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-jN,o=Math.max(s[0],s[1])+jN,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},FF=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},zF=function(t,r){if(!r||r.length!==2||!te(r[0])||!te(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!te(t[0])||t[0]<n)&&(i[0]=n),(!te(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},UF=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=mi(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},VF=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=mi(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},WF={sign:UF,expand:ED,none:Ma,silhouette:MD,wiggle:ID,positive:VF},HF=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=WF[n],o=TD().keys(s).value(function(l,c){return+dt(l,c,0)}).order(Vp).offset(i);return o(t)},GF=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,x=(m=h.type)!==null&&m!==void 0&&m.defaultProps?lt(lt({},h.type.defaultProps),h.props):h.props,p=x.stackId,g=x.hide;if(g)return f;var y=x[n],v=f[y]||{hasStack:!1,stackGroups:{}};if(xt(p)){var w=v.stackGroups[p]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),v.hasStack=!0,v.stackGroups[p]=w}else v.stackGroups[Fs("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return lt(lt({},f),{},ga({},y,v))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,g){var y=m.stackGroups[g];return lt(lt({},p),{},ga({},g,{numericAxisId:n,cateAxisId:s,items:y.items,stackedData:HF(t,y.items,i)}))},x)}return lt(lt({},f),{},ga({},h,m))},d)},QO=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=oF(u,i,l);return t.domain([ju(d),Fn(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=lF(f,i,l);return{niceTicks:h}}return null};function bc(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!be(s[t.dataKey])){var l=Yl(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=dt(s,be(o)?t.dataKey:o);return be(c)?null:t.scale(c)}var NN=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=dt(o,r.dataKey,r.domain[l]);return be(c)?null:r.scale(c)-i/2+s},KF=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},YF=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?lt(lt({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(xt(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},XF=function(t){return t.reduce(function(r,n){return[ju(n.concat([r[0]]).filter(te)),Fn(n.concat([r[1]]).filter(te))]},[1/0,-1/0])},JO=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=XF(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},SN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_N=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pg=function(t,r,n){if(ye(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(te(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(SN.test(t[0])){var i=+SN.exec(t[0])[1];s[0]=r[0]-i}else ye(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(te(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(_N.test(t[1])){var o=+_N.exec(t[1])[1];s[1]=r[1]+o}else ye(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},wc=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=m0(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},AN=function(t,r,n){return!t||!t.length||Ds(t,tr(n,"type.defaultProps.domain"))?r:t},ZO=function(t,r){var n=t.type.defaultProps?lt(lt({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return lt(lt({},me(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:B0(t),value:dt(r,s),type:c,payload:r,chartType:u,hide:d})};function ko(e){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(e)}function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){ek(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ek(e,t,r){return t=QF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QF(e){var t=JF(e,"string");return ko(t)=="symbol"?t:t+""}function JF(e,t){if(ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZF(e,t){return n7(e)||r7(e,t)||t7(e,t)||e7()}function e7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t7(e,t){if(e){if(typeof e=="string")return ON(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ON(e,t)}}function ON(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function n7(e){if(Array.isArray(e))return e}var jc=Math.PI/180,s7=function(t){return t*180/Math.PI},Ge=function(t,r,n,s){return{x:t+Math.cos(-jc*s)*n,y:r+Math.sin(-jc*s)*n}},tk=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},a7=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Bt(t.cx,o,o/2),f=Bt(t.cy,l,l/2),h=tk(o,l,n),m=Bt(t.innerRadius,h,0),x=Bt(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(g,y){var v=r[y],w=v.domain,j=v.reversed,b;if(be(v.range))s==="angleAxis"?b=[c,u]:s==="radiusAxis"&&(b=[m,x]),j&&(b=[b[1],b[0]]);else{b=v.range;var N=b,_=ZF(N,2);c=_[0],u=_[1]}var A=YO(v,i),O=A.realScaleType,T=A.scale;T.domain(w).range(b),XO(T);var P=QO(T,sn(sn({},v),{},{realScaleType:O})),C=sn(sn(sn({},v),P),{},{range:b,radius:x,realScaleType:O,scale:T,cx:d,cy:f,innerRadius:m,outerRadius:x,startAngle:c,endAngle:u});return sn(sn({},g),{},ek({},y,C))},{})},i7=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},o7=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=i7({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:s7(u),angleInRadian:u}},l7=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},c7=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},kN=function(t,r){var n=t.x,s=t.y,i=o7({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=l7(r),f=d.startAngle,h=d.endAngle,m=l,x;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=f}return x?sn(sn({},r),{},{radius:o,angle:c7(m,r)}):null},rk=function(t){return!S.isValidElement(t)&&!ye(t)&&typeof t!="boolean"?t.className:""};function Co(e){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(e)}var u7=["offset"];function d7(e){return p7(e)||m7(e)||h7(e)||f7()}function f7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h7(e,t){if(e){if(typeof e=="string")return gg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gg(e,t)}}function m7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p7(e){if(Array.isArray(e))return gg(e)}function gg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g7(e,t){if(e==null)return{};var r=x7(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){y7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y7(e,t,r){return t=v7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v7(e){var t=b7(e,"string");return Co(t)=="symbol"?t:t+""}function b7(e,t){if(Co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},To.apply(this,arguments)}var w7=function(t){var r=t.value,n=t.formatter,s=be(t.children)?r:t.children;return ye(n)?n(s):s},j7=function(t,r){var n=qt(r-t),s=Math.min(Math.abs(r-t),360);return n*s},N7=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,x=c.endAngle,p=c.clockWise,g=(f+h)/2,y=j7(m,x),v=y>=0?1:-1,w,j;s==="insideStart"?(w=m+v*o,j=p):s==="insideEnd"?(w=x-v*o,j=!p):s==="end"&&(w=x+v*o,j=p),j=y<=0?j:!j;var b=Ge(u,d,g,w),N=Ge(u,d,g,w+(j?1:-1)*359),_="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(j?0:1,`,
    `).concat(N.x,",").concat(N.y),A=be(t.id)?Fs("recharts-radial-line-"):t.id;return k.createElement("text",To({},n,{dominantBaseline:"central",className:Ne("recharts-radial-bar-label",l)}),k.createElement("defs",null,k.createElement("path",{id:A,d:_})),k.createElement("textPath",{xlinkHref:"#".concat(A)},r))},S7=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var m=Ge(o,l,u+n,h),x=m.x,p=m.y;return{x,y:p,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,y=Ge(o,l,g,h),v=y.x,w=y.y;return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},_7=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,m=f>0?"end":"start",x=f>0?"start":"end",p=u>=0?1:-1,g=p*s,y=p>0?"end":"start",v=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:m};return pt(pt({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:x};return pt(pt({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var b={x:l-g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return pt(pt({},b),n?{width:Math.max(b.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+g,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return pt(pt({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var _=n?{width:u,height:d}:{};return i==="insideLeft"?pt({x:l+g,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},_):i==="insideRight"?pt({x:l+u-g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},_):i==="insideTop"?pt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:x},_):i==="insideBottom"?pt({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},_):i==="insideTopLeft"?pt({x:l+g,y:c+h,textAnchor:v,verticalAnchor:x},_):i==="insideTopRight"?pt({x:l+u-g,y:c+h,textAnchor:y,verticalAnchor:x},_):i==="insideBottomLeft"?pt({x:l+g,y:c+d-h,textAnchor:v,verticalAnchor:m},_):i==="insideBottomRight"?pt({x:l+u-g,y:c+d-h,textAnchor:y,verticalAnchor:m},_):hi(i)&&(te(i.x)||ps(i.x))&&(te(i.y)||ps(i.y))?pt({x:l+Bt(i.x,u),y:c+Bt(i.y,d),textAnchor:"end",verticalAnchor:"end"},_):pt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},A7=function(t){return"cx"in t&&te(t.cx)};function wt(e){var t=e.offset,r=t===void 0?5:t,n=g7(e,u7),s=pt({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||be(l)&&be(c)&&!S.isValidElement(u)&&!ye(u))return null;if(S.isValidElement(u))return S.cloneElement(u,s);var m;if(ye(u)){if(m=S.createElement(u,s),S.isValidElement(m))return m}else m=w7(s);var x=A7(i),p=me(s,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return N7(s,m,p);var g=x?S7(s):_7(s);return k.createElement(Is,To({className:Ne("recharts-label",f)},p,g,{breakAll:h}),m)}wt.displayName="Label";var nk=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,x=t.left,p=t.width,g=t.height,y=t.clockWise,v=t.labelViewBox;if(v)return v;if(te(p)&&te(g)){if(te(f)&&te(h))return{x:f,y:h,width:p,height:g};if(te(m)&&te(x))return{x:m,y:x,width:p,height:g}}return te(f)&&te(h)?{x:f,y:h,width:0,height:0}:te(r)&&te(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},P7=function(t,r){return t?t===!0?k.createElement(wt,{key:"label-implicit",viewBox:r}):xt(t)?k.createElement(wt,{key:"label-implicit",viewBox:r,value:t}):S.isValidElement(t)?t.type===wt?S.cloneElement(t,{key:"label-implicit",viewBox:r}):k.createElement(wt,{key:"label-implicit",content:t,viewBox:r}):ye(t)?k.createElement(wt,{key:"label-implicit",content:t,viewBox:r}):hi(t)?k.createElement(wt,To({viewBox:r},t,{key:"label-implicit"})):null:null},O7=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=nk(t),o=rr(s,wt).map(function(c,u){return S.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=P7(t.label,r||i);return[l].concat(d7(o))};wt.parseViewBox=nk;wt.renderCallByParent=O7;var Pm,TN;function k7(){if(TN)return Pm;TN=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Pm=e,Pm}var C7=k7();const T7=ze(C7);function Eo(e){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(e)}var E7=["valueAccessor"],M7=["data","dataKey","clockWise","id","textBreakAll"];function I7(e){return L7(e)||$7(e)||R7(e)||D7()}function D7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R7(e,t){if(e){if(typeof e=="string")return xg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xg(e,t)}}function $7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L7(e){if(Array.isArray(e))return xg(e)}function xg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nc.apply(this,arguments)}function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function MN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){q7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q7(e,t,r){return t=B7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B7(e){var t=F7(e,"string");return Eo(t)=="symbol"?t:t+""}function F7(e,t){if(Eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IN(e,t){if(e==null)return{};var r=z7(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var U7=function(t){return Array.isArray(t.value)?T7(t.value):t.value};function Hr(e){var t=e.valueAccessor,r=t===void 0?U7:t,n=IN(e,E7),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=IN(n,M7);return!s||!s.length?null:k.createElement(ke,{className:"recharts-label-list"},s.map(function(d,f){var h=be(i)?r(d,f):dt(d&&d.payload,i),m=be(l)?{}:{id:"".concat(l,"-").concat(f)};return k.createElement(wt,Nc({},me(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:wt.parseViewBox(be(o)?d:MN(MN({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Hr.displayName="LabelList";function V7(e,t){return e?e===!0?k.createElement(Hr,{key:"labelList-implicit",data:t}):k.isValidElement(e)||ye(e)?k.createElement(Hr,{key:"labelList-implicit",data:t,content:e}):hi(e)?k.createElement(Hr,Nc({data:t},e,{key:"labelList-implicit"})):null:null}function W7(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=rr(n,Hr).map(function(o,l){return S.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=V7(e.label,t);return[i].concat(I7(s))}Hr.renderCallByParent=W7;function Mo(e){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(e)}function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yg.apply(this,arguments)}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function RN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){H7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H7(e,t,r){return t=G7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G7(e){var t=K7(e,"string");return Mo(t)=="symbol"?t:t+""}function K7(e,t){if(Mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y7=function(t,r){var n=qt(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},kl=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/jc,h=u?i:i+o*f,m=Ge(r,n,d,h),x=Ge(r,n,s,h),p=u?i-o*f:i,g=Ge(r,n,d*Math.cos(f*jc),p);return{center:m,circleTangency:x,lineTangency:g,theta:f}},sk=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Y7(o,l),u=o+c,d=Ge(r,n,i,o),f=Ge(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var m=Ge(r,n,s,o),x=Ge(r,n,s,u);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},X7=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=qt(d-u),h=kl({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,x=h.lineTangency,p=h.theta,g=kl({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=g.circleTangency,v=g.lineTangency,w=g.theta,j=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(j<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):sk({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var b="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(s>0){var N=kl({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=N.circleTangency,A=N.lineTangency,O=N.theta,T=kl({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=T.circleTangency,C=T.lineTangency,E=T.theta,M=c?Math.abs(u-d):Math.abs(u-d)-O-E;if(M<0&&o===0)return"".concat(b,"L").concat(r,",").concat(n,"Z");b+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else b+="L".concat(r,",").concat(n,"Z");return b},Q7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ak=function(t){var r=RN(RN({},Q7),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=Ne("recharts-sector",h),x=o-i,p=Bt(l,x,0,!0),g;return p>0&&Math.abs(d-f)<360?g=X7({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):g=sk({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),k.createElement("path",yg({},me(r,!0),{className:m,d:g,role:"img"}))};function Io(e){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Io(e)}function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vg.apply(this,arguments)}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function LN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){J7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J7(e,t,r){return t=Z7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z7(e){var t=ez(e,"string");return Io(t)=="symbol"?t:t+""}function ez(e,t){if(Io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qN={curveBasisClosed:bD,curveBasisOpen:wD,curveBasis:vD,curveBumpX:aD,curveBumpY:iD,curveLinearClosed:jD,curveLinear:cu,curveMonotoneX:ND,curveMonotoneY:SD,curveNatural:_D,curveStep:AD,curveStepAfter:OD,curveStepBefore:PD},Cl=function(t){return t.x===+t.x&&t.y===+t.y},Oi=function(t){return t.x},ki=function(t){return t.y},tz=function(t,r){if(ye(t))return t;var n="curve".concat(ou(t));return(n==="curveMonotone"||n==="curveBump")&&r?qN["".concat(n).concat(r==="vertical"?"Y":"X")]:qN[n]||cu},rz=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=tz(n,l),f=u?i.filter(function(p){return Cl(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return Cl(p)}):o,x=f.map(function(p,g){return LN(LN({},p),{},{base:m[g]})});return l==="vertical"?h=wl().y(ki).x1(Oi).x0(function(p){return p.base.x}):h=wl().x(Oi).y1(ki).y0(function(p){return p.base.y}),h.defined(Cl).curve(d),h(x)}return l==="vertical"&&te(o)?h=wl().y(ki).x1(Oi).x0(o):te(o)?h=wl().x(Oi).y1(ki).y0(o):h=nP().x(Oi).y(ki),h.defined(Cl).curve(d),h(f)},ks=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?rz(t):s;return S.createElement("path",vg({},me(t,!1),Xl(t),{className:Ne("recharts-curve",r),d:o,ref:i}))},Om={exports:{}},km,BN;function nz(){if(BN)return km;BN=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return km=e,km}var Cm,FN;function sz(){if(FN)return Cm;FN=1;var e=nz();function t(){}function r(){}return r.resetWarningCache=t,Cm=function(){function n(o,l,c,u,d,f){if(f!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},Cm}var zN;function az(){return zN||(zN=1,Om.exports=sz()()),Om.exports}var iz=az();const Le=ze(iz);var oz=Object.getOwnPropertyNames,lz=Object.getOwnPropertySymbols,cz=Object.prototype.hasOwnProperty;function UN(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Tl(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,s);return i.delete(r),i.delete(n),c}}function uz(e){return e!=null?e[Symbol.toStringTag]:void 0}function VN(e){return oz(e).concat(lz(e))}var dz=Object.hasOwn||(function(e,t){return cz.call(e,t)});function Vs(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var fz="__v",hz="__o",mz="_owner",WN=Object.getOwnPropertyDescriptor,HN=Object.keys;function pz(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function gz(e,t){return Vs(e.getTime(),t.getTime())}function xz(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function yz(e,t){return e===t}function GN(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(s[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}var vz=Vs;function bz(e,t,r){var n=HN(e),s=n.length;if(HN(t).length!==s)return!1;for(;s-- >0;)if(!ik(e,t,r,n[s]))return!1;return!0}function Ci(e,t,r){var n=VN(e),s=n.length;if(VN(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!ik(e,t,r,i)||(o=WN(e,i),l=WN(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function wz(e,t){return Vs(e.valueOf(),t.valueOf())}function jz(e,t){return e.source===t.source&&e.flags===t.flags}function KN(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function Nz(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Sz(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function ik(e,t,r,n){return(n===mz||n===hz||n===fz)&&(e.$$typeof||t.$$typeof)?!0:dz(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var _z="[object Arguments]",Az="[object Boolean]",Pz="[object Date]",Oz="[object Error]",kz="[object Map]",Cz="[object Number]",Tz="[object Object]",Ez="[object RegExp]",Mz="[object Set]",Iz="[object String]",Dz="[object URL]",Rz=Array.isArray,YN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,XN=Object.assign,$z=Object.prototype.toString.call.bind(Object.prototype.toString);function Lz(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual,m=e.unknownTagComparators;return function(p,g,y){if(p===g)return!0;if(p==null||g==null)return!1;var v=typeof p;if(v!==typeof g)return!1;if(v!=="object")return v==="number"?o(p,g,y):v==="function"?s(p,g,y):!1;var w=p.constructor;if(w!==g.constructor)return!1;if(w===Object)return l(p,g,y);if(Rz(p))return t(p,g,y);if(YN!=null&&YN(p))return f(p,g,y);if(w===Date)return r(p,g,y);if(w===RegExp)return u(p,g,y);if(w===Map)return i(p,g,y);if(w===Set)return d(p,g,y);var j=$z(p);if(j===Pz)return r(p,g,y);if(j===Ez)return u(p,g,y);if(j===kz)return i(p,g,y);if(j===Mz)return d(p,g,y);if(j===Tz)return typeof p.then!="function"&&typeof g.then!="function"&&l(p,g,y);if(j===Dz)return h(p,g,y);if(j===Oz)return n(p,g,y);if(j===_z)return l(p,g,y);if(j===Az||j===Cz||j===Iz)return c(p,g,y);if(m){var b=m[j];if(!b){var N=uz(p);N&&(b=m[N])}if(b)return b(p,g,y)}return!1}}function qz(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?Ci:pz,areDatesEqual:gz,areErrorsEqual:xz,areFunctionsEqual:yz,areMapsEqual:n?UN(GN,Ci):GN,areNumbersEqual:vz,areObjectsEqual:n?Ci:bz,arePrimitiveWrappersEqual:wz,areRegExpsEqual:jz,areSetsEqual:n?UN(KN,Ci):KN,areTypedArraysEqual:n?Ci:Nz,areUrlsEqual:Sz,unknownTagComparators:void 0};if(r&&(s=XN({},s,r(s))),t){var i=Tl(s.areArraysEqual),o=Tl(s.areMapsEqual),l=Tl(s.areObjectsEqual),c=Tl(s.areSetsEqual);s=XN({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function Bz(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function Fz(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:s,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var zz=ns();ns({strict:!0});ns({circular:!0});ns({circular:!0,strict:!0});ns({createInternalComparator:function(){return Vs}});ns({strict:!0,createInternalComparator:function(){return Vs}});ns({circular:!0,createInternalComparator:function(){return Vs}});ns({circular:!0,createInternalComparator:function(){return Vs},strict:!0});function ns(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=qz(e),c=Lz(l),u=n?n(c):Bz(c);return Fz({circular:r,comparator:c,createState:s,equals:u,strict:o})}function Uz(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function QN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Uz(s)};requestAnimationFrame(n)}function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function Vz(e){return Kz(e)||Gz(e)||Hz(e)||Wz()}function Wz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hz(e,t){if(e){if(typeof e=="string")return JN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JN(e,t)}}function JN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kz(e){if(Array.isArray(e))return e}function Yz(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Vz(o),c=l[0],u=l.slice(1);if(typeof c=="number"){QN(s.bind(null,u),c);return}s(c),QN(s.bind(null,u));return}bg(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Do(e){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(e)}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function e2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){ok(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ok(e,t,r){return t=Xz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xz(e){var t=Qz(e,"string");return Do(t)==="symbol"?t:String(t)}function Qz(e,t){if(Do(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Do(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jz=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},Zz=function(t){return t},eU=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ki=function(t,r){return Object.keys(r).reduce(function(n,s){return e2(e2({},n),{},ok({},s,t(s,r[s])))},{})},t2=function(t,r,n){return t.map(function(s){return"".concat(eU(s)," ").concat(r,"ms ").concat(n)}).join(",")};function tU(e,t){return sU(e)||nU(e,t)||lk(e,t)||rU()}function rU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function sU(e){if(Array.isArray(e))return e}function aU(e){return lU(e)||oU(e)||lk(e)||iU()}function iU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lk(e,t){if(e){if(typeof e=="string")return wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wg(e,t)}}function oU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lU(e){if(Array.isArray(e))return wg(e)}function wg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Sc=1e-4,ck=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},uk=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},r2=function(t,r){return function(n){var s=ck(t,r);return uk(s,n)}},cU=function(t,r){return function(n){var s=ck(t,r),i=[].concat(aU(s.map(function(o,l){return o*l}).slice(1)),[0]);return uk(i,n)}},n2=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=tU(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=r2(s,o),h=r2(i,l),m=cU(s,o),x=function(y){return y>1?1:y<0?0:y},p=function(y){for(var v=y>1?1:y,w=v,j=0;j<8;++j){var b=f(w)-v,N=m(w);if(Math.abs(b-v)<Sc||N<Sc)return h(w);w=x(w-b/N)}return h(w)};return p.isStepper=!1,p},uU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,x=h*i,p=h+(m-x)*l/1e3,g=h*l/1e3+d;return Math.abs(g-f)<Sc&&Math.abs(p)<Sc?[f,0]:[g,p]};return c.isStepper=!0,c.dt=l,c},dU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return n2(s);case"spring":return uU();default:if(s.split("(")[0]==="cubic-bezier")return n2(s)}return typeof s=="function"?s:null};function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function s2(e){return mU(e)||hU(e)||dk(e)||fU()}function fU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mU(e){if(Array.isArray(e))return Ng(e)}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){jg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jg(e,t,r){return t=pU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pU(e){var t=gU(e,"string");return Ro(t)==="symbol"?t:String(t)}function gU(e,t){if(Ro(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ro(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xU(e,t){return bU(e)||vU(e,t)||dk(e,t)||yU()}function yU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dk(e,t){if(e){if(typeof e=="string")return Ng(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ng(e,t)}}function Ng(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function bU(e){if(Array.isArray(e))return e}var _c=function(t,r,n){return t+(r-t)*n},Sg=function(t){var r=t.from,n=t.to;return r!==n},wU=function e(t,r,n){var s=Ki(function(i,o){if(Sg(o)){var l=t(o.from,o.to,o.velocity),c=xU(l,2),u=c[0],d=c[1];return At(At({},o),{},{from:u,velocity:d})}return o},r);return n<1?Ki(function(i,o){return Sg(o)?At(At({},o),{},{velocity:_c(o.velocity,s[i].velocity,n),from:_c(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const jU=(function(e,t,r,n,s){var i=Jz(e,t),o=i.reduce(function(g,y){return At(At({},g),{},jg({},y,[e[y],t[y]]))},{}),l=i.reduce(function(g,y){return At(At({},g),{},jg({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Ki(function(y,v){return v.from},l)},m=function(){return!Object.values(l).filter(Sg).length},x=function(y){u||(u=y);var v=y-u,w=v/r.dt;l=wU(r,l,w),s(At(At(At({},e),t),h())),u=y,m()||(c=requestAnimationFrame(f))},p=function(y){d||(d=y);var v=(y-d)/n,w=Ki(function(b,N){return _c.apply(void 0,s2(N).concat([r(v)]))},o);if(s(At(At(At({},e),t),w)),v<1)c=requestAnimationFrame(f);else{var j=Ki(function(b,N){return _c.apply(void 0,s2(N).concat([r(1)]))},o);s(At(At(At({},e),t),j))}};return f=r.isStepper?x:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function za(e){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}var NU=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function SU(e,t){if(e==null)return{};var r=_U(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _U(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Tm(e){return kU(e)||OU(e)||PU(e)||AU()}function AU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PU(e,t){if(e){if(typeof e=="string")return _g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _g(e,t)}}function OU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kU(e){if(Array.isArray(e))return _g(e)}function _g(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){$i(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $i(e,t,r){return t=fk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fk(n.key),n)}}function EU(e,t,r){return t&&TU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fk(e){var t=MU(e,"string");return za(t)==="symbol"?t:String(t)}function MU(e,t){if(za(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(za(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ag(e,t)}function Ag(e,t){return Ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ag(e,t)}function DU(e){var t=RU();return function(){var n=Ac(e),s;if(t){var i=Ac(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Pg(this,s)}}function Pg(e,t){if(t&&(za(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Og(e)}function Og(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ac(e){return Ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ac(e)}var Er=(function(e){IU(r,e);var t=DU(r);function r(n,s){var i;CU(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Og(i)),i.changeStyle=i.changeStyle.bind(Og(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Pg(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Pg(i);i.state={style:c?$i({},c,u):u}}else i.state={style:{}};return i}return EU(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?$i({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(zz(s.to,d)&&s.canBegin&&s.isActive)){var x=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=x||u?f:s.to;if(this.state&&h){var g={style:c?$i({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(g)}this.runAnimation(wr(wr({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,m=jU(o,l,dU(u),c,this.changeStyle),x=function(){i.stopJSAnimation=m()};this.manager.start([h,d,x,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,g,y){if(y===0)return p;var v=g.duration,w=g.easing,j=w===void 0?"ease":w,b=g.style,N=g.properties,_=g.onAnimationEnd,A=y>0?o[y-1]:g,O=N||Object.keys(b);if(typeof j=="function"||j==="spring")return[].concat(Tm(p),[i.runJSAnimation.bind(i,{from:A.style,to:b,duration:v,easing:j}),v]);var T=t2(O,v,j),P=wr(wr(wr({},A.style),b),{},{transition:T});return[].concat(Tm(p),[P,v,_]).filter(Zz)};return this.manager.start([c].concat(Tm(o.reduce(m,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=Yz());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,m=s.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?$i({},l,c):c,g=t2(Object.keys(p),o,u);x.start([d,i,wr(wr({},p),{},{transition:g}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=SU(s,NU),u=S.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var x=m.props,p=x.style,g=p===void 0?{}:p,y=x.className,v=S.cloneElement(m,wr(wr({},c),{},{style:wr(wr({},g),d),className:y}));return v};return u===1?f(S.Children.only(i)):k.createElement("div",null,S.Children.map(i,function(h){return f(h)}))}}]),r})(S.PureComponent);Er.displayName="Animate";Er.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Er.propTypes={from:Le.oneOfType([Le.object,Le.string]),to:Le.oneOfType([Le.object,Le.string]),attributeName:Le.string,duration:Le.number,begin:Le.number,easing:Le.oneOfType([Le.string,Le.func]),steps:Le.arrayOf(Le.shape({duration:Le.number.isRequired,style:Le.object.isRequired,easing:Le.oneOfType([Le.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Le.func]),properties:Le.arrayOf("string"),onAnimationEnd:Le.func})),children:Le.oneOfType([Le.node,Le.func]),isActive:Le.bool,canBegin:Le.bool,onAnimationEnd:Le.func,shouldReAnimate:Le.bool,onAnimationStart:Le.func,onAnimationReStart:Le.func};function $o(e){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(e)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pc.apply(this,arguments)}function $U(e,t){return FU(e)||BU(e,t)||qU(e,t)||LU()}function LU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qU(e,t){if(e){if(typeof e=="string")return o2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o2(e,t)}}function o2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function FU(e){if(Array.isArray(e))return e}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function c2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){zU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zU(e,t,r){return t=UU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UU(e){var t=VU(e,"string");return $o(t)=="symbol"?t:t+""}function VU(e,t){if($o(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u2=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);d="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+s-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n-c*x,",").concat(r+s,`
            L `).concat(t+c*x,",").concat(r+s,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*x," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},WU=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},HU={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},F0=function(t){var r=c2(c2({},HU),t),n=S.useRef(),s=S.useState(-1),i=$U(s,2),o=i[0],l=i[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,x=r.animationEasing,p=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Ne("recharts-rectangle",m);return v?k.createElement(Er,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:x,isActive:v},function(j){var b=j.width,N=j.height,_=j.x,A=j.y;return k.createElement(Er,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:y,easing:x},k.createElement("path",Pc({},me(r,!0),{className:w,d:u2(_,A,b,N,h),ref:n})))}):k.createElement("path",Pc({},me(r,!0),{className:w,d:u2(c,u,d,f,h)}))},GU=["points","className","baseLinePoints","connectNulls"];function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aa.apply(this,arguments)}function KU(e,t){if(e==null)return{};var r=YU(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function d2(e){return ZU(e)||JU(e)||QU(e)||XU()}function XU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QU(e,t){if(e){if(typeof e=="string")return kg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kg(e,t)}}function JU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZU(e){if(Array.isArray(e))return kg(e)}function kg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f2=function(t){return t&&t.x===+t.x&&t.y===+t.y},e9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){f2(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),f2(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Yi=function(t,r){var n=e9(t);r&&(n=[n.reduce(function(i,o){return[].concat(d2(i),d2(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},t9=function(t,r,n){var s=Yi(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Yi(r.reverse(),n).slice(1))},r9=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=KU(t,GU);if(!r||!r.length)return null;var l=Ne("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=t9(r,s,i);return k.createElement("g",{className:l},k.createElement("path",aa({},me(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?k.createElement("path",aa({},me(o,!0),{fill:"none",d:Yi(r,i)})):null,c?k.createElement("path",aa({},me(o,!0),{fill:"none",d:Yi(s,i)})):null)}var d=Yi(r,i);return k.createElement("path",aa({},me(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}var ul=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=Ne("recharts-dot",i);return r===+r&&n===+n&&s===+s?S.createElement("circle",Cg({},me(t,!1),Xl(t),{className:o,cx:r,cy:n,r:s})):null};function Lo(e){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(e)}var n9=["x","y","top","left","width","height","className"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(this,arguments)}function h2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function s9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(r),!0).forEach(function(n){a9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a9(e,t,r){return t=i9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i9(e){var t=o9(e,"string");return Lo(t)=="symbol"?t:t+""}function o9(e,t){if(Lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l9(e,t){if(e==null)return{};var r=c9(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var u9=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},d9=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,x=t.className,p=l9(t,n9),g=s9({x:n,y:i,top:l,left:u,width:f,height:m},p);return!te(n)||!te(i)||!te(f)||!te(m)||!te(l)||!te(u)?null:k.createElement("path",Tg({},me(g,!0),{className:Ne("recharts-cross",x),d:u9(n,i,f,m,l,u)}))},Em,m2;function f9(){if(m2)return Em;m2=1;var e=wu(),t=PO(),r=en();function n(s,i){return s&&s.length?e(s,r(i,2),t):void 0}return Em=n,Em}var h9=f9();const m9=ze(h9);var Mm,p2;function p9(){if(p2)return Mm;p2=1;var e=wu(),t=en(),r=OO();function n(s,i){return s&&s.length?e(s,t(i,2),r):void 0}return Mm=n,Mm}var g9=p9();const x9=ze(g9);var y9=["cx","cy","angle","ticks","axisLine"],v9=["ticks","tick","angle","tickFormatter","stroke"];function Ua(e){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ua(e)}function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xi.apply(this,arguments)}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){_u(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x2(e,t){if(e==null)return{};var r=b9(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mk(n.key),n)}}function j9(e,t,r){return t&&y2(e.prototype,t),r&&y2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function N9(e,t,r){return t=Oc(t),S9(e,hk()?Reflect.construct(t,r||[],Oc(e).constructor):t.apply(e,r))}function S9(e,t){if(t&&(Ua(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _9(e)}function _9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hk=function(){return!!e})()}function Oc(e){return Oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oc(e)}function A9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eg(e,t)}function Eg(e,t){return Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Eg(e,t)}function _u(e,t,r){return t=mk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mk(e){var t=P9(e,"string");return Ua(t)=="symbol"?t:t+""}function P9(e,t){if(Ua(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ua(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Au=(function(e){function t(){return w9(this,t),N9(this,t,arguments)}return A9(t,e),j9(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Ge(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=m9(l,function(d){return d.coordinate||0}),u=x9(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=x2(n,y9),d=l.reduce(function(x,p){return[Math.min(x[0],p.coordinate),Math.max(x[1],p.coordinate)]},[1/0,-1/0]),f=Ge(s,i,d[0],o),h=Ge(s,i,d[1],o),m=os(os(os({},me(u,!1)),{},{fill:"none"},me(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return k.createElement("line",Xi({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=x2(s,v9),f=this.getTickTextAnchor(),h=me(d,!1),m=me(o,!1),x=i.map(function(p,g){var y=n.getTickValueCoord(p),v=os(os(os(os({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:g},y),{},{payload:p});return k.createElement(ke,Xi({className:Ne("recharts-polar-radius-axis-tick",rk(o)),key:"tick-".concat(p.coordinate)},Ms(n.props,p,g)),t.renderTickItem(o,v,c?c(p.value,g):p.value))});return k.createElement(ke,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:k.createElement(ke,{className:Ne("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),wt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return k.isValidElement(n)?o=k.cloneElement(n,s):ye(n)?o=n(s):o=k.createElement(Is,Xi({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(S.PureComponent);_u(Au,"displayName","PolarRadiusAxis");_u(Au,"axisType","radiusAxis");_u(Au,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Va(e){"@babel/helpers - typeof";return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(e)}function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hs.apply(this,arguments)}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){Pu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gk(n.key),n)}}function k9(e,t,r){return t&&b2(e.prototype,t),r&&b2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function C9(e,t,r){return t=kc(t),T9(e,pk()?Reflect.construct(t,r||[],kc(e).constructor):t.apply(e,r))}function T9(e,t){if(t&&(Va(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E9(e)}function E9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pk=function(){return!!e})()}function kc(e){return kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kc(e)}function M9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mg(e,t)}function Mg(e,t){return Mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Mg(e,t)}function Pu(e,t,r){return t=gk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gk(e){var t=I9(e,"string");return Va(t)=="symbol"?t:t+""}function I9(e,t){if(Va(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Va(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var D9=Math.PI/180,w2=1e-5,Ou=(function(e){function t(){return O9(this,t),C9(this,t,arguments)}return M9(t,e),k9(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=Ge(i,o,l,n.coordinate),h=Ge(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*D9),o;return i>w2?o=s==="outer"?"start":"end":i<-w2?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=ls(ls({},me(this.props,!1)),{},{fill:"none"},me(l,!1));if(c==="circle")return k.createElement(ul,hs({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Ge(s,i,o,h.coordinate)});return k.createElement(r9,hs({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=me(this.props,!1),f=me(o,!1),h=ls(ls({},d),{},{fill:"none"},me(l,!1)),m=i.map(function(x,p){var g=n.getTickLineCoord(x),y=n.getTickTextAnchor(x),v=ls(ls(ls({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:x,x:g.x2,y:g.y2});return k.createElement(ke,hs({className:Ne("recharts-polar-angle-axis-tick",rk(o)),key:"tick-".concat(x.coordinate)},Ms(n.props,x,p)),l&&k.createElement("line",hs({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&t.renderTickItem(o,v,c?c(x.value,p):x.value))});return k.createElement(ke,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:k.createElement(ke,{className:Ne("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return k.isValidElement(n)?o=k.cloneElement(n,s):ye(n)?o=n(s):o=k.createElement(Is,hs({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(S.PureComponent);Pu(Ou,"displayName","PolarAngleAxis");Pu(Ou,"axisType","angleAxis");Pu(Ou,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Im,j2;function R9(){if(j2)return Im;j2=1;var e=AP(),t=e(Object.getPrototypeOf,Object);return Im=t,Im}var Dm,N2;function $9(){if(N2)return Dm;N2=1;var e=Nn(),t=R9(),r=Sn(),n="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var f=t(d);if(f===null)return!0;var h=l.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==c}return Dm=u,Dm}var L9=$9();const q9=ze(L9);var Rm,S2;function B9(){if(S2)return Rm;S2=1;var e=Nn(),t=Sn(),r="[object Boolean]";function n(s){return s===!0||s===!1||t(s)&&e(s)==r}return Rm=n,Rm}var F9=B9();const z9=ze(F9);function qo(e){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qo(e)}function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cc.apply(this,arguments)}function U9(e,t){return G9(e)||H9(e,t)||W9(e,t)||V9()}function V9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W9(e,t){if(e){if(typeof e=="string")return _2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _2(e,t)}}function _2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function G9(e){if(Array.isArray(e))return e}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function P2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){K9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K9(e,t,r){return t=Y9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y9(e){var t=X9(e,"string");return qo(t)=="symbol"?t:t+""}function X9(e,t){if(qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O2=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},Q9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},J9=function(t){var r=P2(P2({},Q9),t),n=S.useRef(),s=S.useState(-1),i=U9(s,2),o=i[0],l=i[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,x=r.animationEasing,p=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var v=Ne("recharts-trapezoid",m);return y?k.createElement(Er,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:x,isActive:y},function(w){var j=w.upperWidth,b=w.lowerWidth,N=w.height,_=w.x,A=w.y;return k.createElement(Er,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:x},k.createElement("path",Cc({},me(r,!0),{className:v,d:O2(_,A,j,b,N),ref:n})))}):k.createElement("g",null,k.createElement("path",Cc({},me(r,!0),{className:v,d:O2(c,u,d,f,h)})))},Z9=["option","shapeType","propTransformer","activeClassName","isActive"];function Bo(e){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bo(e)}function eV(e,t){if(e==null)return{};var r=tV(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(r),!0).forEach(function(n){rV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rV(e,t,r){return t=nV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nV(e){var t=sV(e,"string");return Bo(t)=="symbol"?t:t+""}function sV(e,t){if(Bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aV(e,t){return Tc(Tc({},t),e)}function iV(e,t){return e==="symbols"}function C2(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return k.createElement(F0,r);case"trapezoid":return k.createElement(J9,r);case"sector":return k.createElement(ak,r);case"symbols":if(iV(t))return k.createElement(i0,r);break;default:return null}}function oV(e){return S.isValidElement(e)?e.props:e}function xk(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?aV:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=eV(e,Z9),u;if(S.isValidElement(t))u=S.cloneElement(t,Tc(Tc({},c),oV(t)));else if(ye(t))u=t(c);else if(q9(t)&&!z9(t)){var d=s(t,c);u=k.createElement(C2,{shapeType:r,elementProps:d})}else{var f=c;u=k.createElement(C2,{shapeType:r,elementProps:f})}return l?k.createElement(ke,{className:o},u):u}function ku(e,t){return t!=null&&"trapezoids"in e.props}function Cu(e,t){return t!=null&&"sectors"in e.props}function Fo(e,t){return t!=null&&"points"in e.props}function lV(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function cV(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function uV(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function dV(e,t){var r;return ku(e,t)?r=lV:Cu(e,t)?r=cV:Fo(e,t)&&(r=uV),r}function fV(e,t){var r;return ku(e,t)?r="trapezoids":Cu(e,t)?r="sectors":Fo(e,t)&&(r="points"),r}function hV(e,t){if(ku(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Cu(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Fo(e,t)?t.payload:{}}function mV(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=fV(r,t),i=hV(r,t),o=n.filter(function(c,u){var d=Ds(i,c),f=r.props[s].filter(function(x){var p=dV(r,t);return p(x,t)}),h=r.props[s].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var $l;function Wa(e){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(e)}function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ia.apply(this,arguments)}function T2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(r),!0).forEach(function(n){fr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vk(n.key),n)}}function gV(e,t,r){return t&&E2(e.prototype,t),r&&E2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xV(e,t,r){return t=Ec(t),yV(e,yk()?Reflect.construct(t,r||[],Ec(e).constructor):t.apply(e,r))}function yV(e,t){if(t&&(Wa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vV(e)}function vV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yk=function(){return!!e})()}function Ec(e){return Ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ec(e)}function bV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ig(e,t)}function Ig(e,t){return Ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ig(e,t)}function fr(e,t,r){return t=vk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vk(e){var t=wV(e,"string");return Wa(t)=="symbol"?t:t+""}function wV(e,t){if(Wa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var An=(function(e){function t(r){var n;return pV(this,t),n=xV(this,t,[r]),fr(n,"pieRef",null),fr(n,"sectorRefs",[]),fr(n,"id",Fs("recharts-pie-")),fr(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ye(s)&&s()}),fr(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ye(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return bV(t,e),gV(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=me(this.props,!1),f=me(o,!1),h=me(l,!1),m=o&&o.offsetRadius||20,x=n.map(function(p,g){var y=(p.startAngle+p.endAngle)/2,v=Ge(p.cx,p.cy,p.outerRadius+m,y),w=We(We(We(We({},d),p),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(v.x,p.cx)},v),j=We(We(We(We({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:g,points:[Ge(p.cx,p.cy,p.outerRadius,y),v]}),b=c;return be(c)&&be(u)?b="value":be(c)&&(b=u),k.createElement(ke,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,w,dt(p,b)))});return k.createElement(ke,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,m=f?o:h,x=We(We({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return k.createElement(ke,ia({ref:function(g){g&&!s.sectorRefs.includes(g)&&s.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Ms(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),k.createElement(xk,ia({option:m,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return k.createElement(Er,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var p=x.t,g=[],y=i&&i[0],v=y.startAngle;return i.forEach(function(w,j){var b=h&&h[j],N=j>0?tr(w,"paddingAngle",0):0;if(b){var _=gt(b.endAngle-b.startAngle,w.endAngle-w.startAngle),A=We(We({},w),{},{startAngle:v+N,endAngle:v+_(p)+N});g.push(A),v=A.endAngle}else{var O=w.endAngle,T=w.startAngle,P=gt(0,O-T),C=P(p),E=We(We({},w),{},{startAngle:v+N,endAngle:v+C+N});g.push(E),v=E.endAngle}}),k.createElement(ke,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Ds(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,m=s.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!te(u)||!te(d)||!te(f)||!te(h))return null;var p=Ne("recharts-pie",l);return k.createElement(ke,{tabIndex:this.props.rootTabIndex,className:p,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),wt.renderCallByParent(this.props,null,!1),(!m||x)&&Hr.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(k.isValidElement(n))return k.cloneElement(n,s);if(ye(n))return n(s);var o=Ne("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return k.createElement(ks,ia({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(k.isValidElement(n))return k.cloneElement(n,s);var o=i;if(ye(n)&&(o=n(s),k.isValidElement(o)))return o;var l=Ne("recharts-pie-label-text",typeof n!="boolean"&&!ye(n)?n.className:"");return k.createElement(Is,ia({},s,{alignmentBaseline:"middle",className:l}),o)}}])})(S.PureComponent);$l=An;fr(An,"displayName","Pie");fr(An,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!es.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});fr(An,"parseDeltaAngle",function(e,t){var r=qt(t-e),n=Math.min(Math.abs(t-e),360);return r*n});fr(An,"getRealPieData",function(e){var t=e.data,r=e.children,n=me(e,!1),s=rr(r,mu);return t&&t.length?t.map(function(i,o){return We(We(We({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return We(We({},n),i.props)}):[]});fr(An,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=tk(s,i),l=n+Bt(e.cx,s,s/2),c=r+Bt(e.cy,i,i/2),u=Bt(e.innerRadius,o,0),d=Bt(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});fr(An,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?We(We({},t.type.defaultProps),t.props):t.props,s=$l.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),x=$l.parseCoordinateOfPie(n,r),p=$l.parseDeltaAngle(o,l),g=Math.abs(p),y=u;be(u)&&be(f)?(Cr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):be(u)&&(Cr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var v=s.filter(function(A){return dt(A,y,0)!==0}).length,w=(g>=360?v:v-1)*c,j=g-v*m-w,b=s.reduce(function(A,O){var T=dt(O,y,0);return A+(te(T)?T:0)},0),N;if(b>0){var _;N=s.map(function(A,O){var T=dt(A,y,0),P=dt(A,d,O),C=(te(T)?T:0)/b,E;O?E=_.endAngle+qt(p)*c*(T!==0?1:0):E=o;var M=E+qt(p)*((T!==0?m:0)+C*j),$=(E+M)/2,q=(x.innerRadius+x.outerRadius)/2,D=[{name:P,value:T,payload:A,dataKey:y,type:h}],z=Ge(x.cx,x.cy,q,$);return _=We(We(We({percent:C,cornerRadius:i,name:P,tooltipPayload:D,midAngle:$,middleRadius:q,tooltipPosition:z},A),x),{},{value:dt(A,y),startAngle:E,endAngle:M,payload:A,paddingAngle:qt(p)*c}),_})}return We(We({},x),{},{sectors:N,data:s})});var $m,M2;function jV(){if(M2)return $m;M2=1;var e=Math.ceil,t=Math.max;function r(n,s,i,o){for(var l=-1,c=t(e((s-n)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=i;return u}return $m=r,$m}var Lm,I2;function bk(){if(I2)return Lm;I2=1;var e=zP(),t=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*r}return s===s?s:0}return Lm=n,Lm}var qm,D2;function NV(){if(D2)return qm;D2=1;var e=jV(),t=hu(),r=bk();function n(s){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),e(i,o,l,s)}}return qm=n,qm}var Bm,R2;function SV(){if(R2)return Bm;R2=1;var e=NV(),t=e();return Bm=t,Bm}var _V=SV();const Mc=ze(_V);function zo(e){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(e)}function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function L2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){wk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wk(e,t,r){return t=AV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AV(e){var t=PV(e,"string");return zo(t)=="symbol"?t:t+""}function PV(e,t){if(zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OV=["Webkit","Moz","O","ms"],kV=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=OV.reduce(function(i,o){return L2(L2({},i),{},wk({},o+n,r))},{});return s[t]=r,s};function Ha(e){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ha(e)}function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ic.apply(this,arguments)}function q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(r),!0).forEach(function(n){Xt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nk(n.key),n)}}function TV(e,t,r){return t&&B2(e.prototype,t),r&&B2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EV(e,t,r){return t=Dc(t),MV(e,jk()?Reflect.construct(t,r||[],Dc(e).constructor):t.apply(e,r))}function MV(e,t){if(t&&(Ha(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IV(e)}function IV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jk=function(){return!!e})()}function Dc(e){return Dc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dc(e)}function DV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dg(e,t)}function Dg(e,t){return Dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Dg(e,t)}function Xt(e,t,r){return t=Nk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nk(e){var t=RV(e,"string");return Ha(t)=="symbol"?t:t+""}function RV(e,t){if(Ha(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ha(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $V=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Hi().domain(Mc(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},F2=function(t){return t.changedTouches&&!!t.changedTouches.length},Ga=(function(e){function t(r){var n;return CV(this,t),n=EV(this,t,[r]),Xt(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Xt(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Xt(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Xt(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Xt(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Xt(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Xt(n,"handleSlideDragStart",function(s){var i=F2(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return DV(t,e),TV(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),m=t.getIndexInRange(o,f),x=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=dt(i[n],l,n);return ye(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,x=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var g=this.getIndex({startX:o+p,endX:l+p});(g.startIndex!==h||g.endIndex!==m)&&x&&x(g),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=F2(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,x=d.onChange,p=d.gap,g=d.data,y={startX:this.state.startX,endX:this.state.endX},v=n.pageX-i;v>0?v=Math.min(v,f+h-m-u):v<0&&(v=Math.max(v,f-u)),y[o]=u+v;var w=this.getIndex(y),j=w.startIndex,b=w.endIndex,N=function(){var A=g.length-1;return o==="startX"&&(l>c?j%p===0:b%p===0)||l<c&&b===A||o==="endX"&&(l>c?b%p===0:j%p===0)||l>c&&b===A};this.setState(Xt(Xt({},o,u+v),"brushMoveStartX",n.pageX),function(){x&&N()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];s==="startX"&&m>=u||s==="endX"&&m<=c||this.setState(Xt({},s,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return k.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=S.Children.only(u);return f?k.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,x=c.data,p=c.startIndex,g=c.endIndex,y=Math.max(n,this.props.x),v=Fm(Fm({},me(this.props,!1)),{},{x:y,y:u,width:d,height:f}),w=m||"Min value: ".concat((i=x[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[g])===null||o===void 0?void 0:o.name);return k.createElement(ke,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),l.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return k.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,x={pointerEvents:"none",fill:u};return k.createElement(ke,{className:"recharts-brush-texts"},k.createElement(Is,Ic({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},x),this.getTextOfTick(s)),k.createElement(Is,Ic({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,x=h.endX,p=h.isTextActive,g=h.isSlideMoving,y=h.isTravellerMoving,v=h.isTravellerFocused;if(!s||!s.length||!te(l)||!te(c)||!te(u)||!te(d)||u<=0||d<=0)return null;var w=Ne("recharts-brush",i),j=k.Children.count(o)===1,b=kV("userSelect","none");return k.createElement(ke,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(p||g||y||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return k.createElement(k.Fragment,null,k.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),k.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),k.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return k.isValidElement(n)?i=k.cloneElement(n,s):ye(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return Fm({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?$V({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])})(S.PureComponent);Xt(Ga,"displayName","Brush");Xt(Ga,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var zm,z2;function LV(){if(z2)return zm;z2=1;var e=h0();function t(r,n){var s;return e(r,function(i,o,l){return s=n(i,o,l),!s}),!!s}return zm=t,zm}var Um,U2;function qV(){if(U2)return Um;U2=1;var e=vP(),t=en(),r=LV(),n=Wt(),s=hu();function i(o,l,c){var u=n(o)?e:r;return c&&s(o,l,c)&&(l=void 0),u(o,t(l,3))}return Um=i,Um}var BV=qV();const FV=ze(BV);var Gr=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},Vm,V2;function zV(){if(V2)return Vm;V2=1;var e=$P();function t(r,n,s){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return Vm=t,Vm}var Wm,W2;function UV(){if(W2)return Wm;W2=1;var e=zV(),t=DP(),r=en();function n(s,i){var o={};return i=r(i,3),t(s,function(l,c,u){e(o,c,i(l,c,u))}),o}return Wm=n,Wm}var VV=UV();const WV=ze(VV);var Hm,H2;function HV(){if(H2)return Hm;H2=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(!r(t[n],n,t))return!1;return!0}return Hm=e,Hm}var Gm,G2;function GV(){if(G2)return Gm;G2=1;var e=h0();function t(r,n){var s=!0;return e(r,function(i,o,l){return s=!!n(i,o,l),s}),s}return Gm=t,Gm}var Km,K2;function KV(){if(K2)return Km;K2=1;var e=HV(),t=GV(),r=en(),n=Wt(),s=hu();function i(o,l,c){var u=n(o)?e:t;return c&&s(o,l,c)&&(l=void 0),u(o,r(l,3))}return Km=i,Km}var YV=KV();const Sk=ze(YV);var XV=["x","y"];function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}function Y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(r),!0).forEach(function(n){QV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QV(e,t,r){return t=JV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JV(e){var t=ZV(e,"string");return Uo(t)=="symbol"?t:t+""}function ZV(e,t){if(Uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eW(e,t){if(e==null)return{};var r=tW(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rW(e,t){var r=e.x,n=e.y,s=eW(e,XV),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Ti(Ti(Ti(Ti(Ti({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function X2(e){return k.createElement(xk,Rg({shapeType:"rectangle",propTransformer:rW,activeClassName:"recharts-active-bar"},e))}var nW=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=te(n)||PI(n);return i?t(n,s):(i||$s(),r)}},sW=["value","background"],_k;function Ka(e){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(e)}function aW(e,t){if(e==null)return{};var r=iW(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(this,arguments)}function Q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(r),!0).forEach(function(n){zn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pk(n.key),n)}}function lW(e,t,r){return t&&J2(e.prototype,t),r&&J2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cW(e,t,r){return t=$c(t),uW(e,Ak()?Reflect.construct(t,r||[],$c(e).constructor):t.apply(e,r))}function uW(e,t){if(t&&(Ka(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dW(e)}function dW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ak(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ak=function(){return!!e})()}function $c(e){return $c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$c(e)}function fW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$g(e,t)}function $g(e,t){return $g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$g(e,t)}function zn(e,t,r){return t=Pk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pk(e){var t=hW(e,"string");return Ka(t)=="symbol"?t:t+""}function hW(e,t){if(Ka(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ka(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kn=(function(e){function t(){var r;oW(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=cW(this,t,[].concat(s)),zn(r,"state",{isAnimationFinished:!1}),zn(r,"id",Fs("recharts-bar-")),zn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),zn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return fW(t,e),lW(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=me(this.props,!1);return n&&n.map(function(f,h){var m=h===c,x=m?u:o,p=ft(ft(ft({},d),f),{},{isActive:m,option:x,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return k.createElement(ke,Rc({className:"recharts-bar-rectangle"},Ms(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),k.createElement(X2,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return k.createElement(Er,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,p=i.map(function(g,y){var v=h&&h[y];if(v){var w=gt(v.x,g.x),j=gt(v.y,g.y),b=gt(v.width,g.width),N=gt(v.height,g.height);return ft(ft({},g),{},{x:w(x),y:j(x),width:b(x),height:N(x)})}if(o==="horizontal"){var _=gt(0,g.height),A=_(x);return ft(ft({},g),{},{y:g.y+g.height-A,height:A})}var O=gt(0,g.width),T=O(x);return ft(ft({},g),{},{width:T})});return k.createElement(ke,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Ds(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=me(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=aW(u,sW);if(!f)return null;var m=ft(ft(ft(ft(ft({},h),{},{fill:"#eee"},f),c),Ms(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return k.createElement(X2,Rc({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=rr(d,cl);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(g,y){var v=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:v,errorVal:dt(g,y)}},x={clipPath:n?"url(#clipPath-".concat(s,")"):null};return k.createElement(ke,x,f.map(function(p){return k.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,x=n.background,p=n.id;if(s||!i||!i.length)return null;var g=this.state.isAnimationFinished,y=Ne("recharts-bar",o),v=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=v||w,b=be(p)?this.id:p;return k.createElement(ke,{className:y},v||w?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(b)},k.createElement("rect",{x:v?u:u-f/2,y:w?d:d-h/2,width:v?f:f*2,height:w?h:h*2}))):null,k.createElement(ke,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(b,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,b),(!m||g)&&Hr.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])})(S.PureComponent);_k=Kn;zn(Kn,"displayName","Bar");zn(Kn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!es.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zn(Kn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=FF(n,r);if(!m)return null;var x=t.layout,p=r.type.defaultProps,g=p!==void 0?ft(ft({},p),r.props):r.props,y=g.dataKey,v=g.children,w=g.minPointSize,j=x==="horizontal"?o:i,b=u?j.scale.domain():null,N=KF({numericAxis:j}),_=rr(v,mu),A=f.map(function(O,T){var P,C,E,M,$,q;u?P=zF(u[d+T],b):(P=dt(O,y),Array.isArray(P)||(P=[N,P]));var D=nW(w,_k.defaultProps.minPointSize)(P[1],T);if(x==="horizontal"){var z,V=[o.scale(P[0]),o.scale(P[1])],ee=V[0],ae=V[1];C=NN({axis:i,ticks:l,bandSize:s,offset:m.offset,entry:O,index:T}),E=(z=ae??ee)!==null&&z!==void 0?z:void 0,M=m.size;var W=ee-ae;if($=Number.isNaN(W)?0:W,q={x:C,y:o.y,width:M,height:o.height},Math.abs(D)>0&&Math.abs($)<Math.abs(D)){var Z=qt($||D)*(Math.abs(D)-Math.abs($));E-=Z,$+=Z}}else{var ce=[i.scale(P[0]),i.scale(P[1])],X=ce[0],I=ce[1];if(C=X,E=NN({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:O,index:T}),M=I-X,$=m.size,q={x:i.x,y:E,width:i.width,height:$},Math.abs(D)>0&&Math.abs(M)<Math.abs(D)){var B=qt(M||D)*(Math.abs(D)-Math.abs(M));M+=B}}return ft(ft(ft({},O),{},{x:C,y:E,width:M,height:$,value:u?P:P[1],payload:O,background:q},_&&_[T]&&_[T].props),{},{tooltipPayload:[ZO(r,O)],tooltipPosition:{x:C+M/2,y:E+$/2}})});return ft({data:A,layout:x},h)});function Vo(e){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(e)}function mW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ok(n.key),n)}}function pW(e,t,r){return t&&Z2(e.prototype,t),r&&Z2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){Tu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tu(e,t,r){return t=Ok(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ok(e){var t=gW(e,"string");return Vo(t)=="symbol"?t:t+""}function gW(e,t){if(Vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z0=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Qt(u,Kn);return d.reduce(function(m,x){var p=r[x],g=p.orientation,y=p.domain,v=p.padding,w=v===void 0?{}:v,j=p.mirror,b=p.reversed,N="".concat(g).concat(j?"Mirror":""),_,A,O,T,P;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var C=y[1]-y[0],E=1/0,M=p.categoricalDomain.sort(CI);if(M.forEach(function(ce,X){X>0&&(E=Math.min((ce||0)-(M[X-1]||0),E))}),Number.isFinite(E)){var $=E/C,q=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(_=$*q/2),p.padding==="no-gap"){var D=Bt(t.barCategoryGap,$*q),z=$*q/2;_=z-D-(z-D)/q*D}}}s==="xAxis"?A=[n.left+(w.left||0)+(_||0),n.left+n.width-(w.right||0)-(_||0)]:s==="yAxis"?A=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(_||0),n.top+n.height-(w.bottom||0)-(_||0)]:A=p.range,b&&(A=[A[1],A[0]]);var V=YO(p,i,h),ee=V.scale,ae=V.realScaleType;ee.domain(y).range(A),XO(ee);var W=QO(ee,Ar(Ar({},p),{},{realScaleType:ae}));s==="xAxis"?(P=g==="top"&&!j||g==="bottom"&&j,O=n.left,T=f[N]-P*p.height):s==="yAxis"&&(P=g==="left"&&!j||g==="right"&&j,O=f[N]-P*p.width,T=n.top);var Z=Ar(Ar(Ar({},p),W),{},{realScaleType:ae,x:O,y:T,scale:ee,width:s==="xAxis"?n.width:p.width,height:s==="yAxis"?n.height:p.height});return Z.bandSize=wc(Z,W),!p.hide&&s==="xAxis"?f[N]+=(P?-1:1)*Z.height:p.hide||(f[N]+=(P?-1:1)*Z.width),Ar(Ar({},m),{},Tu({},x,Z))},{})},kk=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},xW=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return kk({x:r,y:n},{x:s,y:i})},Ck=(function(){function e(t){mW(this,e),this.scale=t}return pW(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])})();Tu(Ck,"EPS",1e-4);var U0=function(t){var r=Object.keys(t).reduce(function(n,s){return Ar(Ar({},n),{},Tu({},s,Ck.create(t[s])))},{});return Ar(Ar({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return WV(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return Sk(s,function(i,o){return r[o].isInRange(i)})}})};function yW(e){return(e%180+180)%180}var vW=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=yW(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Ym,tS;function bW(){if(tS)return Ym;tS=1;var e=en(),t=sl(),r=du();function n(s){return function(i,o,l){var c=Object(i);if(!t(i)){var u=e(o,3);i=r(i),o=function(f){return u(c[f],f,c)}}var d=s(i,o,l);return d>-1?c[u?i[d]:d]:void 0}}return Ym=n,Ym}var Xm,rS;function wW(){if(rS)return Xm;rS=1;var e=bk();function t(r){var n=e(r),s=n%1;return n===n?s?n-s:n:0}return Xm=t,Xm}var Qm,nS;function jW(){if(nS)return Qm;nS=1;var e=CP(),t=en(),r=wW(),n=Math.max;function s(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),e(i,t(o,3),u)}return Qm=s,Qm}var Jm,sS;function NW(){if(sS)return Jm;sS=1;var e=bW(),t=jW(),r=e(t);return Jm=r,Jm}var SW=NW();const _W=ze(SW);var AW=WA();const PW=ze(AW);var OW=PW(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),V0=S.createContext(void 0),W0=S.createContext(void 0),Tk=S.createContext(void 0),Ek=S.createContext({}),Mk=S.createContext(void 0),Ik=S.createContext(0),Dk=S.createContext(0),aS=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=OW(i);return k.createElement(V0.Provider,{value:n},k.createElement(W0.Provider,{value:s},k.createElement(Ek.Provider,{value:i},k.createElement(Tk.Provider,{value:d},k.createElement(Mk.Provider,{value:o},k.createElement(Ik.Provider,{value:u},k.createElement(Dk.Provider,{value:c},l)))))))},kW=function(){return S.useContext(Mk)},Rk=function(t){var r=S.useContext(V0);r==null&&$s();var n=r[t];return n==null&&$s(),n},CW=function(){var t=S.useContext(V0);return In(t)},TW=function(){var t=S.useContext(W0),r=_W(t,function(n){return Sk(n.domain,Number.isFinite)});return r||In(t)},$k=function(t){var r=S.useContext(W0);r==null&&$s();var n=r[t];return n==null&&$s(),n},EW=function(){var t=S.useContext(Tk);return t},MW=function(){return S.useContext(Ek)},H0=function(){return S.useContext(Dk)},G0=function(){return S.useContext(Ik)};function Ya(e){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ya(e)}function IW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qk(n.key),n)}}function RW(e,t,r){return t&&DW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $W(e,t,r){return t=Lc(t),LW(e,Lk()?Reflect.construct(t,r||[],Lc(e).constructor):t.apply(e,r))}function LW(e,t){if(t&&(Ya(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qW(e)}function qW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lk=function(){return!!e})()}function Lc(e){return Lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lc(e)}function BW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lg(e,t)}function Lg(e,t){return Lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Lg(e,t)}function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){K0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K0(e,t,r){return t=qk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qk(e){var t=FW(e,"string");return Ya(t)=="symbol"?t:t+""}function FW(e,t){if(Ya(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ya(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zW(e,t){return HW(e)||WW(e,t)||VW(e,t)||UW()}function UW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VW(e,t){if(e){if(typeof e=="string")return lS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lS(e,t)}}function lS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function HW(e){if(Array.isArray(e))return e}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}var GW=function(t,r){var n;return k.isValidElement(t)?n=k.cloneElement(t,r):ye(t)?n=t(r):n=k.createElement("line",qg({},r,{className:"recharts-reference-line-line"})),n},KW=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var x=u.y,p=t.y.apply(x,{position:o});if(Gr(u,"discard")&&!t.y.isInRange(p))return null;var g=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?g.reverse():g}if(r){var y=u.x,v=t.x.apply(y,{position:o});if(Gr(u,"discard")&&!t.x.isInRange(v))return null;var w=[{x:v,y:f+m},{x:v,y:f}];return l==="top"?w.reverse():w}if(s){var j=u.segment,b=j.map(function(N){return t.apply(N,{position:o})});return Gr(u,"discard")&&FV(b,function(N){return!t.isInRange(N)})?null:b}return null};function YW(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=kW(),d=Rk(s),f=$k(i),h=EW();if(!u||!h)return null;Cr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=U0({x:d.scale,y:f.scale}),x=xt(t),p=xt(r),g=n&&n.length===2,y=KW(m,x,p,g,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var v=zW(y,2),w=v[0],j=w.x,b=w.y,N=v[1],_=N.x,A=N.y,O=Gr(e,"hidden")?"url(#".concat(u,")"):void 0,T=oS(oS({clipPath:O},me(e,!0)),{},{x1:j,y1:b,x2:_,y2:A});return k.createElement(ke,{className:Ne("recharts-reference-line",l)},GW(o,T),wt.renderCallByParent(e,xW({x1:j,y1:b,x2:_,y2:A})))}var Y0=(function(e){function t(){return IW(this,t),$W(this,t,arguments)}return BW(t,e),RW(t,[{key:"render",value:function(){return k.createElement(YW,this.props)}}])})(k.Component);K0(Y0,"displayName","ReferenceLine");K0(Y0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(this,arguments)}function Xa(e){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){Eu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fk(n.key),n)}}function JW(e,t,r){return t&&QW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZW(e,t,r){return t=qc(t),eH(e,Bk()?Reflect.construct(t,r||[],qc(e).constructor):t.apply(e,r))}function eH(e,t){if(t&&(Xa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tH(e)}function tH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bk=function(){return!!e})()}function qc(e){return qc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qc(e)}function rH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fg(e,t)}function Fg(e,t){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Fg(e,t)}function Eu(e,t,r){return t=Fk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fk(e){var t=nH(e,"string");return Xa(t)=="symbol"?t:t+""}function nH(e,t){if(Xa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sH=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=U0({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Gr(t,"discard")&&!o.isInRange(l)?null:l},Mu=(function(e){function t(){return XW(this,t),ZW(this,t,arguments)}return rH(t,e),JW(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=xt(s),d=xt(i);if(Cr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=sH(this.props);if(!f)return null;var h=f.x,m=f.y,x=this.props,p=x.shape,g=x.className,y=Gr(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=uS(uS({clipPath:y},me(this.props,!0)),{},{cx:h,cy:m});return k.createElement(ke,{className:Ne("recharts-reference-dot",g)},t.renderDot(p,v),wt.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])})(k.Component);Eu(Mu,"displayName","ReferenceDot");Eu(Mu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Eu(Mu,"renderDot",function(e,t){var r;return k.isValidElement(e)?r=k.cloneElement(e,t):ye(e)?r=e(t):r=k.createElement(ul,Bg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(this,arguments)}function Qa(e){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(e)}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){Iu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uk(n.key),n)}}function oH(e,t,r){return t&&iH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lH(e,t,r){return t=Bc(t),cH(e,zk()?Reflect.construct(t,r||[],Bc(e).constructor):t.apply(e,r))}function cH(e,t){if(t&&(Qa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uH(e)}function uH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zk=function(){return!!e})()}function Bc(e){return Bc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bc(e)}function dH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ug(e,t)}function Ug(e,t){return Ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ug(e,t)}function Iu(e,t,r){return t=Uk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uk(e){var t=fH(e,"string");return Qa(t)=="symbol"?t:t+""}function fH(e,t){if(Qa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hH=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=U0({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},x={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Gr(i,"discard")&&(!h.isInRange(m)||!h.isInRange(x))?null:kk(m,x)},Du=(function(e){function t(){return aH(this,t),lH(this,t,arguments)}return dH(t,e),oH(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Cr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=xt(s),h=xt(i),m=xt(o),x=xt(l),p=this.props.shape;if(!f&&!h&&!m&&!x&&!p)return null;var g=hH(f,h,m,x,this.props);if(!g&&!p)return null;var y=Gr(this.props,"hidden")?"url(#".concat(d,")"):void 0;return k.createElement(ke,{className:Ne("recharts-reference-area",c)},t.renderRect(p,fS(fS({clipPath:y},me(this.props,!0)),g)),wt.renderCallByParent(this.props,g))}}])})(k.Component);Iu(Du,"displayName","ReferenceArea");Iu(Du,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Iu(Du,"renderRect",function(e,t){var r;return k.isValidElement(e)?r=k.cloneElement(e,t):ye(e)?r=e(t):r=k.createElement(F0,zg({},t,{className:"recharts-reference-area-rect"})),r});function Vk(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function mH(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return vW(n,r)}function pH(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Fc(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function gH(e,t){return Vk(e,t+1)}function xH(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:Vk(n,u)};var p=c,g,y=function(){return g===void 0&&(g=r(x,p)),g},v=x.coordinate,w=c===0||Fc(e,v,y,d,l);w||(c=0,d=o,u+=1),w&&(d=v+e*(y()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Wo(e){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(e)}function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){yH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yH(e,t,r){return t=vH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vH(e){var t=bH(e,"string");return Wo(t)=="symbol"?t:t+""}function bH(e,t){if(Wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wH(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],x,p=function(){return x===void 0&&(x=r(m,h)),x};if(h===o-1){var g=e*(m.coordinate+e*p()/2-c);i[h]=m=Tt(Tt({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate})}else i[h]=m=Tt(Tt({},m),{},{tickCoord:m.coordinate});var y=Fc(e,m.tickCoord,p,l,c);y&&(c=m.tickCoord-e*(p()/2+s),i[h]=Tt(Tt({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function jH(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Tt(Tt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Fc(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+s),o[l-1]=Tt(Tt({},d),{},{isShow:!0}))}for(var x=i?l-1:l,p=function(v){var w=o[v],j,b=function(){return j===void 0&&(j=r(w,v)),j};if(v===0){var N=e*(w.coordinate-e*b()/2-c);o[v]=w=Tt(Tt({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[v]=w=Tt(Tt({},w),{},{tickCoord:w.coordinate});var _=Fc(e,w.tickCoord,b,c,u);_&&(c=w.tickCoord+e*(b()/2+s),o[v]=Tt(Tt({},w),{},{isShow:!0}))},g=0;g<x;g++)p(g);return o}function X0(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(te(c)||es.isSsr)return gH(s,typeof c=="number"&&te(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",x=d&&m==="width"?Wi(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,j){var b=ye(u)?u(w.value,j):w.value;return m==="width"?mH(Wi(b,{fontSize:t,letterSpacing:r}),x,f):Wi(b,{fontSize:t,letterSpacing:r})[m]},g=s.length>=2?qt(s[1].coordinate-s[0].coordinate):1,y=pH(i,g,m);return c==="equidistantPreserveStart"?xH(g,y,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=jH(g,y,p,s,o,c==="preserveStartEnd"):h=wH(g,y,p,s,o),h.filter(function(v){return v.isShow}))}var NH=["viewBox"],SH=["viewBox"],_H=["ticks"];function Ja(e){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(e)}function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oa.apply(this,arguments)}function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){Q0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zm(e,t){if(e==null)return{};var r=AH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hk(n.key),n)}}function OH(e,t,r){return t&&pS(e.prototype,t),r&&pS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kH(e,t,r){return t=zc(t),CH(e,Wk()?Reflect.construct(t,r||[],zc(e).constructor):t.apply(e,r))}function CH(e,t){if(t&&(Ja(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TH(e)}function TH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wk=function(){return!!e})()}function zc(e){return zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zc(e)}function EH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vg(e,t)}function Vg(e,t){return Vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Vg(e,t)}function Q0(e,t,r){return t=Hk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hk(e){var t=MH(e,"string");return Ja(t)=="symbol"?t:t+""}function MH(e,t){if(Ja(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ja(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vi=(function(e){function t(r){var n;return PH(this,t),n=kH(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return EH(t,e),OH(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=Zm(n,NH),l=this.props,c=l.viewBox,u=Zm(l,SH);return!fa(i,c)||!fa(o,u)||!fa(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,m,x,p,g,y,v,w=f?-1:1,j=n.tickSize||d,b=te(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=x=n.coordinate,g=o+ +!f*c,p=g-w*j,v=p-w*h,y=b;break;case"left":p=g=n.coordinate,x=i+ +!f*l,m=x-w*j,y=m-w*h,v=b;break;case"right":p=g=n.coordinate,x=i+ +f*l,m=x+w*j,y=m+w*h,v=b;break;default:m=x=n.coordinate,g=o+ +f*c,p=g+w*j,v=p+w*h,y=b;break}return{line:{x1:m,y1:p,x2:x,y2:g},tick:{x:y,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=mt(mt(mt({},me(this.props,!1)),me(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=mt(mt({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=mt(mt({},f),{},{x1:s+m*o,y1:i,x2:s+m*o,y2:i+l})}return k.createElement("line",oa({},f,{className:Ne("recharts-cartesian-axis-line",tr(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=X0(mt(mt({},this.props),{},{ticks:n}),s,i),x=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=me(this.props,!1),y=me(d,!1),v=mt(mt({},g),{},{fill:"none"},me(c,!1)),w=m.map(function(j,b){var N=o.getTickLineCoord(j),_=N.line,A=N.tick,O=mt(mt(mt(mt({textAnchor:x,verticalAnchor:p},g),{},{stroke:"none",fill:u},y),A),{},{index:b,payload:j,visibleTicksCount:m.length,tickFormatter:f});return k.createElement(ke,oa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Ms(o.props,j,b)),c&&k.createElement("line",oa({},v,_,{className:Ne("recharts-cartesian-axis-tick-line",tr(c,"className"))})),d&&t.renderTickItem(d,O,"".concat(ye(f)?f(j.value,b):j.value).concat(h||"")))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,m=Zm(f,_H),x=h;return ye(c)&&(x=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!x||!x.length?null:k.createElement(ke,{className:Ne("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),wt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=Ne(s.className,"recharts-cartesian-axis-tick-value");return k.isValidElement(n)?o=k.cloneElement(n,mt(mt({},s),{},{className:l})):ye(n)?o=n(mt(mt({},s),{},{className:l})):o=k.createElement(Is,oa({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(S.Component);Q0(vi,"displayName","CartesianAxis");Q0(vi,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var IH=["x1","y1","x2","y2","key"],DH=["offset"];function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){RH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RH(e,t,r){return t=$H(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=LH(e,"string");return Ls(t)=="symbol"?t:t+""}function LH(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ys.apply(this,arguments)}function xS(e,t){if(e==null)return{};var r=qH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var BH=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return k.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Gk(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(ye(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=xS(t,IH),u=me(c,!1);u.offset;var d=xS(u,DH);r=k.createElement("line",ys({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function FH(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Et(Et({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Gk(s,u)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function zH(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Et(Et({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Gk(s,u)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function UH(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var x=!d[m+1],p=x?s+o-h:d[m+1]-h;if(p<=0)return null;var g=m%t.length;return k.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function VH(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var x=!d[m+1],p=x?i+l-h:d[m+1]-h;if(p<=0)return null;var g=m%n.length;return k.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[g],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var WH=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return KO(X0(Et(Et(Et({},vi.defaultProps),n),{},{ticks:dn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},HH=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return KO(X0(Et(Et(Et({},vi.defaultProps),n),{},{ticks:dn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Qs={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Za(e){var t,r,n,s,i,o,l=H0(),c=G0(),u=MW(),d=Et(Et({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Qs.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Qs.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Qs.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Qs.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Qs.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Qs.verticalFill,x:te(e.x)?e.x:u.left,y:te(e.y)?e.y:u.top,width:te(e.width)?e.width:u.width,height:te(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,x=d.height,p=d.syncWithTicks,g=d.horizontalValues,y=d.verticalValues,v=CW(),w=TW();if(!te(m)||m<=0||!te(x)||x<=0||!te(f)||f!==+f||!te(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||WH,b=d.horizontalCoordinatesGenerator||HH,N=d.horizontalPoints,_=d.verticalPoints;if((!N||!N.length)&&ye(b)){var A=g&&g.length,O=b({yAxis:w?Et(Et({},w),{},{ticks:A?g:w.ticks}):void 0,width:l,height:c,offset:u},A?!0:p);Cr(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ls(O),"]")),Array.isArray(O)&&(N=O)}if((!_||!_.length)&&ye(j)){var T=y&&y.length,P=j({xAxis:v?Et(Et({},v),{},{ticks:T?y:v.ticks}):void 0,width:l,height:c,offset:u},T?!0:p);Cr(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ls(P),"]")),Array.isArray(P)&&(_=P)}return k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(BH,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),k.createElement(FH,ys({},d,{offset:u,horizontalPoints:N,xAxis:v,yAxis:w})),k.createElement(zH,ys({},d,{offset:u,verticalPoints:_,xAxis:v,yAxis:w})),k.createElement(UH,ys({},d,{horizontalPoints:N})),k.createElement(VH,ys({},d,{verticalPoints:_})))}Za.displayName="CartesianGrid";var GH=["type","layout","connectNulls","ref"],KH=["key"];function ei(e){"@babel/helpers - typeof";return ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(e)}function yS(e,t){if(e==null)return{};var r=YH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qi.apply(this,arguments)}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){Pr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Js(e){return ZH(e)||JH(e)||QH(e)||XH()}function XH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QH(e,t){if(e){if(typeof e=="string")return Wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wg(e,t)}}function JH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZH(e){if(Array.isArray(e))return Wg(e)}function Wg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yk(n.key),n)}}function tG(e,t,r){return t&&bS(e.prototype,t),r&&bS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rG(e,t,r){return t=Uc(t),nG(e,Kk()?Reflect.construct(t,r||[],Uc(e).constructor):t.apply(e,r))}function nG(e,t){if(t&&(ei(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sG(e)}function sG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kk=function(){return!!e})()}function Uc(e){return Uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uc(e)}function aG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hg(e,t)}function Hg(e,t){return Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Hg(e,t)}function Pr(e,t,r){return t=Yk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yk(e){var t=iG(e,"string");return ei(t)=="symbol"?t:t+""}function iG(e,t){if(ei(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ei(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yn=(function(e){function t(){var r;eG(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=rG(this,t,[].concat(s)),Pr(r,"state",{isAnimationFinished:!0,totalLength:0}),Pr(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Pr(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(y,v){return y+v});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],x=0,p=0;x<c.length;p+=c[x],++x)if(p+c[x]>f){m=[].concat(Js(c.slice(0,x)),[f-p]);break}var g=m.length%2===0?[0,h]:[h];return[].concat(Js(t.repeat(c,d)),Js(m),g).map(function(y){return"".concat(y,"px")}).join(", ")}),Pr(r,"id",Fs("recharts-line-")),Pr(r,"pathRef",function(o){r.mainCurve=o}),Pr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Pr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return aG(t,e),tG(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=rr(d,cl);if(!f)return null;var h=function(p,g){return{x:p.x,y:p.y,value:p.value,errorVal:dt(p.payload,g)}},m={clipPath:n?"url(#clipPath-".concat(s,")"):null};return k.createElement(ke,m,f.map(function(x){return k.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=me(this.props,!1),h=me(c,!0),m=u.map(function(p,g){var y=Yt(Yt(Yt({key:"dot-".concat(g),r:3},f),h),{},{index:g,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,y)}),x={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return k.createElement(ke,Qi({className:"recharts-line-dots",key:"dots"},x),m)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=yS(l,GH),h=Yt(Yt(Yt({},me(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return k.createElement(ks,Qi({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,x=o.animateNewValues,p=o.width,g=o.height,y=this.state,v=y.prevPoints,w=y.totalLength;return k.createElement(Er,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var b=j.t;if(v){var N=v.length/l.length,_=l.map(function(C,E){var M=Math.floor(E*N);if(v[M]){var $=v[M],q=gt($.x,C.x),D=gt($.y,C.y);return Yt(Yt({},C),{},{x:q(b),y:D(b)})}if(x){var z=gt(p*2,C.x),V=gt(g/2,C.y);return Yt(Yt({},C),{},{x:z(b),y:V(b)})}return Yt(Yt({},C),{},{x:C.x,y:C.y})});return i.renderCurveStatically(_,n,s)}var A=gt(0,w),O=A(b),T;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});T=i.getStrokeDasharray(O,w,P)}else T=i.generateSimpleStrokeDasharray(w,O);return i.renderCurveStatically(l,n,s,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Ds(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,f=s.top,h=s.left,m=s.width,x=s.height,p=s.isAnimationActive,g=s.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,v=l.length===1,w=Ne("recharts-line",c),j=u&&u.allowDataOverflow,b=d&&d.allowDataOverflow,N=j||b,_=be(g)?this.id:g,A=(n=me(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=A.r,T=O===void 0?3:O,P=A.strokeWidth,C=P===void 0?2:P,E=XA(o)?o:{},M=E.clipDot,$=M===void 0?!0:M,q=T*2+C;return k.createElement(ke,{className:w},j||b?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(_)},k.createElement("rect",{x:j?h:h-m/2,y:b?f:f-x/2,width:j?m:m*2,height:b?x:x*2})),!$&&k.createElement("clipPath",{id:"clipPath-dots-".concat(_)},k.createElement("rect",{x:h-q/2,y:f-q/2,width:m+q,height:x+q}))):null,!v&&this.renderCurve(N,_),this.renderErrorBar(N,_),(v||o)&&this.renderDots(N,$,_),(!p||y)&&Hr.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(Js(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(Js(o),Js(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(k.isValidElement(n))i=k.cloneElement(n,s);else if(ye(n))i=n(s);else{var o=s.key,l=yS(s,KH),c=Ne("recharts-line-dot",typeof n!="boolean"?n.className:"");i=k.createElement(ul,Qi({key:o},l,{className:c}))}return i}}])})(S.PureComponent);Pr(Yn,"displayName","Line");Pr(Yn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!es.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Pr(Yn,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var x=dt(h,o);return d==="horizontal"?{x:bc({axis:r,ticks:s,bandSize:l,entry:h,index:m}),y:be(x)?null:n.scale(x),value:x,payload:h}:{x:be(x)?null:r.scale(x),y:bc({axis:n,ticks:i,bandSize:l,entry:h,index:m}),value:x,payload:h}});return Yt({points:f,layout:d},u)});var oG=["layout","type","stroke","connectNulls","isRange","ref"],lG=["key"],Xk;function ti(e){"@babel/helpers - typeof";return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(e)}function Qk(e,t){if(e==null)return{};var r=cG(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vs.apply(this,arguments)}function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){zr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zk(n.key),n)}}function dG(e,t,r){return t&&jS(e.prototype,t),r&&jS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fG(e,t,r){return t=Vc(t),hG(e,Jk()?Reflect.construct(t,r||[],Vc(e).constructor):t.apply(e,r))}function hG(e,t){if(t&&(ti(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mG(e)}function mG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jk=function(){return!!e})()}function Vc(e){return Vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vc(e)}function pG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gg(e,t)}function Gg(e,t){return Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Gg(e,t)}function zr(e,t,r){return t=Zk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zk(e){var t=gG(e,"string");return ti(t)=="symbol"?t:t+""}function gG(e,t){if(ti(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ti(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pn=(function(e){function t(){var r;uG(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=fG(this,t,[].concat(s)),zr(r,"state",{isAnimationFinished:!0}),zr(r,"id",Fs("recharts-area-")),zr(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ye(o)&&o()}),zr(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ye(o)&&o()}),r}return pG(t,e),dG(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=me(this.props,!1),m=me(u,!0),x=d.map(function(g,y){var v=En(En(En({key:"dot-".concat(y),r:3},h),m),{},{index:y,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:d});return t.renderDotItem(u,v)}),p={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return k.createElement(ke,vs({className:"recharts-area-dots"},p),x)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=Fn(o.map(function(h){return h.y||0}));return te(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Fn(i.map(function(h){return h.y||0})),f)),te(f)?k.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=Fn(o.map(function(h){return h.x||0}));return te(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Fn(i.map(function(h){return h.x||0})),f)),te(f)?k.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=Qk(l,oG);return k.createElement(ke,{clipPath:i?"url(#clipPath-".concat(o,")"):null},k.createElement(ks,vs({},me(m,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&k.createElement(ks,vs({},me(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&k.createElement(ks,vs({},me(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,x=this.state,p=x.prevPoints,g=x.prevBaseLine;return k.createElement(Er,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t;if(p){var w=p.length/l.length,j=l.map(function(A,O){var T=Math.floor(O*w);if(p[T]){var P=p[T],C=gt(P.x,A.x),E=gt(P.y,A.y);return En(En({},A),{},{x:C(v),y:E(v)})}return A}),b;if(te(c)&&typeof c=="number"){var N=gt(g,c);b=N(v)}else if(be(c)||mi(c)){var _=gt(g,0);b=_(v)}else b=c.map(function(A,O){var T=Math.floor(O*w);if(g[T]){var P=g[T],C=gt(P.x,A.x),E=gt(P.y,A.y);return En(En({},A),{},{x:C(v),y:E(v)})}return A});return i.renderAreaStatically(j,b,n,s)}return k.createElement(ke,null,k.createElement("defs",null,k.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(v))),k.createElement(ke,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Ds(d,o)||!Ds(f,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,m=s.width,x=s.height,p=s.isAnimationActive,g=s.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,v=l.length===1,w=Ne("recharts-area",c),j=f&&f.allowDataOverflow,b=h&&h.allowDataOverflow,N=j||b,_=be(g)?this.id:g,A=(n=me(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=A.r,T=O===void 0?3:O,P=A.strokeWidth,C=P===void 0?2:P,E=XA(o)?o:{},M=E.clipDot,$=M===void 0?!0:M,q=T*2+C;return k.createElement(ke,{className:w},j||b?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(_)},k.createElement("rect",{x:j?d:d-m/2,y:b?u:u-x/2,width:j?m:m*2,height:b?x:x*2})),!$&&k.createElement("clipPath",{id:"clipPath-dots-".concat(_)},k.createElement("rect",{x:d-q/2,y:u-q/2,width:m+q,height:x+q}))):null,v?null:this.renderArea(N,_),(o||v)&&this.renderDots(N,$,_),(!p||y)&&Hr.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(S.PureComponent);Xk=Pn;zr(Pn,"displayName","Area");zr(Pn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!es.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});zr(Pn,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(te(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});zr(Pn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,x=u&&u.length,p=Xk.getBaseValue(t,r,n,s),g=m==="horizontal",y=!1,v=f.map(function(j,b){var N;x?N=u[d+b]:(N=dt(j,c),Array.isArray(N)?y=!0:N=[p,N]);var _=N[1]==null||x&&dt(j,c)==null;return g?{x:bc({axis:n,ticks:i,bandSize:l,entry:j,index:b}),y:_?null:s.scale(N[1]),value:N,payload:j}:{x:_?null:n.scale(N[1]),y:bc({axis:s,ticks:o,bandSize:l,entry:j,index:b}),value:N,payload:j}}),w;return x||y?w=v.map(function(j){var b=Array.isArray(j.value)?j.value[0]:null;return g?{x:j.x,y:b!=null&&j.y!=null?s.scale(b):null}:{x:b!=null?n.scale(b):null,y:j.y}}):w=g?s.scale(p):n.scale(p),En({points:v,baseLine:w,layout:m,isRange:y},h)});zr(Pn,"renderDotItem",function(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(ye(e))r=e(t);else{var n=Ne("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=Qk(t,lG);r=k.createElement(ul,vs({},i,{key:s,className:n}))}return r});function ri(e){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(e)}function xG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rC(n.key),n)}}function vG(e,t,r){return t&&yG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bG(e,t,r){return t=Wc(t),wG(e,eC()?Reflect.construct(t,r||[],Wc(e).constructor):t.apply(e,r))}function wG(e,t){if(t&&(ri(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jG(e)}function jG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eC=function(){return!!e})()}function Wc(e){return Wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wc(e)}function NG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kg(e,t)}function Kg(e,t){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Kg(e,t)}function tC(e,t,r){return t=rC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rC(e){var t=SG(e,"string");return ri(t)=="symbol"?t:t+""}function SG(e,t){if(ri(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ri(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(this,arguments)}function _G(e){var t=e.xAxisId,r=H0(),n=G0(),s=Rk(t);return s==null?null:S.createElement(vi,Yg({},s,{className:Ne("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return dn(o,!0)}}))}var Qr=(function(e){function t(){return xG(this,t),bG(this,t,arguments)}return NG(t,e),vG(t,[{key:"render",value:function(){return S.createElement(_G,this.props)}}])})(S.Component);tC(Qr,"displayName","XAxis");tC(Qr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ni(e){"@babel/helpers - typeof";return ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ni(e)}function AG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aC(n.key),n)}}function OG(e,t,r){return t&&PG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kG(e,t,r){return t=Hc(t),CG(e,nC()?Reflect.construct(t,r||[],Hc(e).constructor):t.apply(e,r))}function CG(e,t){if(t&&(ni(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TG(e)}function TG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nC=function(){return!!e})()}function Hc(e){return Hc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hc(e)}function EG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xg(e,t)}function Xg(e,t){return Xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Xg(e,t)}function sC(e,t,r){return t=aC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aC(e){var t=MG(e,"string");return ni(t)=="symbol"?t:t+""}function MG(e,t){if(ni(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ni(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(this,arguments)}var IG=function(t){var r=t.yAxisId,n=H0(),s=G0(),i=$k(r);return i==null?null:S.createElement(vi,Qg({},i,{className:Ne("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return dn(l,!0)}}))},Jr=(function(e){function t(){return AG(this,t),kG(this,t,arguments)}return EG(t,e),OG(t,[{key:"render",value:function(){return S.createElement(IG,this.props)}}])})(S.Component);sC(Jr,"displayName","YAxis");sC(Jr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function NS(e){return LG(e)||$G(e)||RG(e)||DG()}function DG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RG(e,t){if(e){if(typeof e=="string")return Jg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jg(e,t)}}function $G(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LG(e){if(Array.isArray(e))return Jg(e)}function Jg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Zg=function(t,r,n,s,i){var o=rr(t,Y0),l=rr(t,Mu),c=[].concat(NS(o),NS(l)),u=rr(t,Du),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(p,g){if(g.props[d]===n&&Gr(g.props,"extendDomain")&&te(g.props[f])){var y=g.props[f];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},h)),u.length){var m="".concat(f,"1"),x="".concat(f,"2");h=u.reduce(function(p,g){if(g.props[d]===n&&Gr(g.props,"extendDomain")&&te(g.props[m])&&te(g.props[x])){var y=g.props[m],v=g.props[x];return[Math.min(p[0],y,v),Math.max(p[1],y,v)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,g){return te(g)?[Math.min(p[0],g),Math.max(p[1],g)]:p},h)),h},ep={exports:{}},SS;function qG(){return SS||(SS=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,x=new Array(m);h<m;h++)x[h]=f[h].fn;return x},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,x){var p=r?r+u:u;if(!this._events[p])return!1;var g=this._events[p],y=arguments.length,v,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,m),!0;case 6:return g.fn.call(g.context,d,f,h,m,x),!0}for(w=1,v=new Array(y-1);w<y;w++)v[w-1]=arguments[w];g.fn.apply(g.context,v)}else{var j=g.length,b;for(w=0;w<j;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),y){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,d);break;case 3:g[w].fn.call(g[w].context,d,f);break;case 4:g[w].fn.call(g[w].context,d,f,h);break;default:if(!v)for(b=1,v=new Array(y-1);b<y;b++)v[b-1]=arguments[b];g[w].fn.apply(g[w].context,v)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===d&&(!h||x.once)&&(!f||x.context===f)&&o(this,m);else{for(var p=0,g=[],y=x.length;p<y;p++)(x[p].fn!==d||h&&!x[p].once||f&&x[p].context!==f)&&g.push(x[p]);g.length?this._events[m]=g.length===1?g[0]:g:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(ep)),ep.exports}var BG=qG();const FG=ze(BG);var tp=new FG,rp="recharts.syncMouseEvents";function Ho(e){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}function zG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iC(n.key),n)}}function VG(e,t,r){return t&&UG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function np(e,t,r){return t=iC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iC(e){var t=WG(e,"string");return Ho(t)=="symbol"?t:t+""}function WG(e,t){if(Ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HG=(function(){function e(){zG(this,e),np(this,"activeIndex",0),np(this,"coordinateList",[]),np(this,"layout","horizontal")}return VG(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])})();function GG(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&te(n)&&te(s))return!0}return!1}function KG(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function oC(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=Ge(t,r,n,s),l=Ge(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function YG(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ge(l,c,u,f),m=Ge(l,c,d,f);n=h.x,s=h.y,i=m.x,o=m.y}else return oC(t);return[{x:n,y:s},{x:i,y:o}]}function Go(e){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(e)}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function El(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){XG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XG(e,t,r){return t=QG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e){var t=JG(e,"string");return Go(t)=="symbol"?t:t+""}function JG(e,t){if(Go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZG(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var x,p=ks;if(h==="ScatterChart")x=o,p=d9;else if(h==="BarChart")x=KG(f,o,c,d),p=F0;else if(f==="radial"){var g=oC(o),y=g.cx,v=g.cy,w=g.radius,j=g.startAngle,b=g.endAngle;x={cx:y,cy:v,startAngle:j,endAngle:b,innerRadius:w,outerRadius:w},p=ak}else x={points:YG(f,o,c)},p=ks;var N=El(El(El(El({stroke:"#ccc",pointerEvents:"none"},c),x),me(m,!1)),{},{payload:l,payloadIndex:u,className:Ne("recharts-tooltip-cursor",m.className)});return S.isValidElement(m)?S.cloneElement(m,N):S.createElement(p,N)}var eK=["item"],tK=["children","className","width","height","style","compact","title","desc"];function si(e){"@babel/helpers - typeof";return si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(e)}function la(){return la=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},la.apply(this,arguments)}function AS(e,t){return sK(e)||nK(e,t)||cC(e,t)||rK()}function rK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function sK(e){if(Array.isArray(e))return e}function PS(e,t){if(e==null)return{};var r=aK(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uC(n.key),n)}}function lK(e,t,r){return t&&oK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cK(e,t,r){return t=Gc(t),uK(e,lC()?Reflect.construct(t,r||[],Gc(e).constructor):t.apply(e,r))}function uK(e,t){if(t&&(si(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dK(e)}function dK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lC=function(){return!!e})()}function Gc(e){return Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gc(e)}function fK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ex(e,t)}function ex(e,t){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ex(e,t)}function ai(e){return pK(e)||mK(e)||cC(e)||hK()}function hK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cC(e,t){if(e){if(typeof e=="string")return tx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tx(e,t)}}function mK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pK(e){if(Array.isArray(e))return tx(e)}function tx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){ge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ge(e,t,r){return t=uC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uC(e){var t=gK(e,"string");return si(t)=="symbol"?t:t+""}function gK(e,t){if(si(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(si(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xK={xAxis:["bottom","top"],yAxis:["left","right"]},yK={width:"100%",height:"100%"},dC={x:0,y:0};function Ml(e){return e}var vK=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},bK=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return K(K(K({},s),Ge(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return K(K(K({},s),Ge(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return dC},Ru=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ai(l),ai(u)):l},[]);return o.length>0?o:t&&t.length&&te(s)&&te(i)?t.slice(s,i+1):[]};function fC(e){return e==="number"?[0,"auto"]:void 0}var rx=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Ru(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Yl(m,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(ai(c),[ZO(u,h)]):c},[])},kS=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=vK(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=DF(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=rx(t,r,d,f),m=bK(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},wK=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=GO(d,i);return n.reduce(function(x,p){var g,y=p.type.defaultProps!==void 0?K(K({},p.type.defaultProps),p.props):p.props,v=y.type,w=y.dataKey,j=y.allowDataOverflow,b=y.allowDuplicatedCategory,N=y.scale,_=y.ticks,A=y.includeHidden,O=y[o];if(x[O])return x;var T=Ru(t.data,{graphicalItems:s.filter(function(W){var Z,ce=o in W.props?W.props[o]:(Z=W.type.defaultProps)===null||Z===void 0?void 0:Z[o];return ce===O}),dataStartIndex:c,dataEndIndex:u}),P=T.length,C,E,M;GG(y.domain,j,v)&&(C=pg(y.domain,null,j),m&&(v==="number"||N!=="auto")&&(M=Gi(T,w,"category")));var $=fC(v);if(!C||C.length===0){var q,D=(q=y.domain)!==null&&q!==void 0?q:$;if(w){if(C=Gi(T,w,v),v==="category"&&m){var z=kI(C);b&&z?(E=C,C=Mc(0,P)):b||(C=AN(D,C,p).reduce(function(W,Z){return W.indexOf(Z)>=0?W:[].concat(ai(W),[Z])},[]))}else if(v==="category")b?C=C.filter(function(W){return W!==""&&!be(W)}):C=AN(D,C,p).reduce(function(W,Z){return W.indexOf(Z)>=0||Z===""||be(Z)?W:[].concat(ai(W),[Z])},[]);else if(v==="number"){var V=BF(T,s.filter(function(W){var Z,ce,X=o in W.props?W.props[o]:(Z=W.type.defaultProps)===null||Z===void 0?void 0:Z[o],I="hide"in W.props?W.props.hide:(ce=W.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return X===O&&(A||!I)}),w,i,d);V&&(C=V)}m&&(v==="number"||N!=="auto")&&(M=Gi(T,w,"category"))}else m?C=Mc(0,P):l&&l[O]&&l[O].hasStack&&v==="number"?C=h==="expand"?[0,1]:JO(l[O].stackGroups,c,u):C=HO(T,s.filter(function(W){var Z=o in W.props?W.props[o]:W.type.defaultProps[o],ce="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return Z===O&&(A||!ce)}),v,d,!0);if(v==="number")C=Zg(f,C,O,i,_),D&&(C=pg(D,C,j));else if(v==="category"&&D){var ee=D,ae=C.every(function(W){return ee.indexOf(W)>=0});ae&&(C=ee)}}return K(K({},x),{},ge({},O,K(K({},y),{},{axisType:i,domain:C,categoricalDomain:M,duplicateDomain:E,originalDomain:(g=y.domain)!==null&&g!==void 0?g:$,isCategorical:m,layout:d})))},{})},jK=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Ru(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,x=GO(d,i),p=-1;return n.reduce(function(g,y){var v=y.type.defaultProps!==void 0?K(K({},y.type.defaultProps),y.props):y.props,w=v[o],j=fC("number");if(!g[w]){p++;var b;return x?b=Mc(0,m):l&&l[w]&&l[w].hasStack?(b=JO(l[w].stackGroups,c,u),b=Zg(f,b,w,i)):(b=pg(j,HO(h,n.filter(function(N){var _,A,O=o in N.props?N.props[o]:(_=N.type.defaultProps)===null||_===void 0?void 0:_[o],T="hide"in N.props?N.props.hide:(A=N.type.defaultProps)===null||A===void 0?void 0:A.hide;return O===w&&!T}),"number",d),s.defaultProps.allowDataOverflow),b=Zg(f,b,w,i)),K(K({},g),{},ge({},w,K(K({axisType:i},s.defaultProps),{},{hide:!0,orientation:tr(xK,"".concat(i,".").concat(p%2),null),domain:b,originalDomain:j,isCategorical:x,layout:d})))}return g},{})},NK=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=rr(d,i),m={};return h&&h.length?m=wK(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=jK(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},SK=function(t){var r=In(t),n=dn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:m0(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:wc(r,n)}},CS=function(t){var r=t.children,n=t.defaultShowTooltip,s=Qt(r,Ga),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},_K=function(t){return!t||!t.length?!1:t.some(function(r){var n=mn(r&&r.type);return n&&n.indexOf("Bar")>=0})},TS=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},AK=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Qt(f,Ga),x=Qt(f,ha),p=Object.keys(c).reduce(function(b,N){var _=c[N],A=_.orientation;return!_.mirror&&!_.hide?K(K({},b),{},ge({},A,b[A]+_.width)):b},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(b,N){var _=o[N],A=_.orientation;return!_.mirror&&!_.hide?K(K({},b),{},ge({},A,tr(b,"".concat(A))+_.height)):b},{top:h.top||0,bottom:h.bottom||0}),y=K(K({},g),p),v=y.bottom;m&&(y.bottom+=m.props.height||Ga.defaultProps.height),x&&r&&(y=LF(y,s,n,r));var w=u-y.left-y.right,j=d-y.top-y.bottom;return K(K({brushBottom:v},y),{},{width:Math.max(w,0),height:Math.max(j,0)})},PK=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},$u=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,v){var w=v.graphicalItems,j=v.stackGroups,b=v.offset,N=v.updateId,_=v.dataStartIndex,A=v.dataEndIndex,O=y.barSize,T=y.layout,P=y.barGap,C=y.barCategoryGap,E=y.maxBarSize,M=TS(T),$=M.numericAxisName,q=M.cateAxisName,D=_K(w),z=[];return w.forEach(function(V,ee){var ae=Ru(y.data,{graphicalItems:[V],dataStartIndex:_,dataEndIndex:A}),W=V.type.defaultProps!==void 0?K(K({},V.type.defaultProps),V.props):V.props,Z=W.dataKey,ce=W.maxBarSize,X=W["".concat($,"Id")],I=W["".concat(q,"Id")],B={},J=c.reduce(function(et,_t){var Pe=v["".concat(_t.axisType,"Map")],Ir=W["".concat(_t.axisType,"Id")];Pe&&Pe[Ir]||_t.axisType==="zAxis"||$s();var vr=Pe[Ir];return K(K({},et),{},ge(ge({},_t.axisType,vr),"".concat(_t.axisType,"Ticks"),dn(vr)))},B),G=J[q],re=J["".concat(q,"Ticks")],R=j&&j[X]&&j[X].hasStack&&YF(V,j[X].stackGroups),L=mn(V.type).indexOf("Bar")>=0,Q=wc(G,re),ie=[],oe=D&&RF({barSize:O,stackGroups:j,totalSize:PK(J,q)});if(L){var de,Se,Ie=be(ce)?E:ce,qe=(de=(Se=wc(G,re,!0))!==null&&Se!==void 0?Se:Ie)!==null&&de!==void 0?de:0;ie=$F({barGap:P,barCategoryGap:C,bandSize:qe!==Q?qe:Q,sizeList:oe[I],maxBarSize:Ie}),qe!==Q&&(ie=ie.map(function(et){return K(K({},et),{},{position:K(K({},et.position),{},{offset:et.position.offset-qe/2})})}))}var nt=V&&V.type&&V.type.getComposedData;nt&&z.push({props:K(K({},nt(K(K({},J),{},{displayedData:ae,props:y,dataKey:Z,item:V,bandSize:Q,barPosition:ie,offset:b,stackedData:R,layout:T,dataStartIndex:_,dataEndIndex:A}))),{},ge(ge(ge({key:V.key||"item-".concat(ee)},$,J[$]),q,J[q]),"animationId",N)),childIndex:FI(V,y.children),item:V})}),z},m=function(y,v){var w=y.props,j=y.dataStartIndex,b=y.dataEndIndex,N=y.updateId;if(!Fb({props:w}))return null;var _=w.children,A=w.layout,O=w.stackOffset,T=w.data,P=w.reverseStackOrder,C=TS(A),E=C.numericAxisName,M=C.cateAxisName,$=rr(_,n),q=GF(T,$,"".concat(E,"Id"),"".concat(M,"Id"),O,P),D=c.reduce(function(W,Z){var ce="".concat(Z.axisType,"Map");return K(K({},W),{},ge({},ce,NK(w,K(K({},Z),{},{graphicalItems:$,stackGroups:Z.axisType===E&&q,dataStartIndex:j,dataEndIndex:b}))))},{}),z=AK(K(K({},D),{},{props:w,graphicalItems:$}),v==null?void 0:v.legendBBox);Object.keys(D).forEach(function(W){D[W]=d(w,D[W],z,W.replace("Map",""),r)});var V=D["".concat(M,"Map")],ee=SK(V),ae=h(w,K(K({},D),{},{dataStartIndex:j,dataEndIndex:b,updateId:N,graphicalItems:$,stackGroups:q,offset:z}));return K(K({formattedGraphicalItems:ae,graphicalItems:$,offset:z,stackGroups:q},ee),D)},x=(function(g){function y(v){var w,j,b;return iK(this,y),b=cK(this,y,[v]),ge(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ge(b,"accessibilityManager",new HG),ge(b,"handleLegendBBoxUpdate",function(N){if(N){var _=b.state,A=_.dataStartIndex,O=_.dataEndIndex,T=_.updateId;b.setState(K({legendBBox:N},m({props:b.props,dataStartIndex:A,dataEndIndex:O,updateId:T},K(K({},b.state),{},{legendBBox:N}))))}}),ge(b,"handleReceiveSyncEvent",function(N,_,A){if(b.props.syncId===N){if(A===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(_)}}),ge(b,"handleBrushChange",function(N){var _=N.startIndex,A=N.endIndex;if(_!==b.state.dataStartIndex||A!==b.state.dataEndIndex){var O=b.state.updateId;b.setState(function(){return K({dataStartIndex:_,dataEndIndex:A},m({props:b.props,dataStartIndex:_,dataEndIndex:A,updateId:O},b.state))}),b.triggerSyncEvent({dataStartIndex:_,dataEndIndex:A})}}),ge(b,"handleMouseEnter",function(N){var _=b.getMouseInfo(N);if(_){var A=K(K({},_),{},{isTooltipActive:!0});b.setState(A),b.triggerSyncEvent(A);var O=b.props.onMouseEnter;ye(O)&&O(A,N)}}),ge(b,"triggeredAfterMouseMove",function(N){var _=b.getMouseInfo(N),A=_?K(K({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(A),b.triggerSyncEvent(A);var O=b.props.onMouseMove;ye(O)&&O(A,N)}),ge(b,"handleItemMouseEnter",function(N){b.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),ge(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),ge(b,"handleMouseMove",function(N){N.persist(),b.throttleTriggeredAfterMouseMove(N)}),ge(b,"handleMouseLeave",function(N){b.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};b.setState(_),b.triggerSyncEvent(_);var A=b.props.onMouseLeave;ye(A)&&A(_,N)}),ge(b,"handleOuterEvent",function(N){var _=BI(N),A=tr(b.props,"".concat(_));if(_&&ye(A)){var O,T;/.*touch.*/i.test(_)?T=b.getMouseInfo(N.changedTouches[0]):T=b.getMouseInfo(N),A((O=T)!==null&&O!==void 0?O:{},N)}}),ge(b,"handleClick",function(N){var _=b.getMouseInfo(N);if(_){var A=K(K({},_),{},{isTooltipActive:!0});b.setState(A),b.triggerSyncEvent(A);var O=b.props.onClick;ye(O)&&O(A,N)}}),ge(b,"handleMouseDown",function(N){var _=b.props.onMouseDown;if(ye(_)){var A=b.getMouseInfo(N);_(A,N)}}),ge(b,"handleMouseUp",function(N){var _=b.props.onMouseUp;if(ye(_)){var A=b.getMouseInfo(N);_(A,N)}}),ge(b,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),ge(b,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.handleMouseDown(N.changedTouches[0])}),ge(b,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.handleMouseUp(N.changedTouches[0])}),ge(b,"handleDoubleClick",function(N){var _=b.props.onDoubleClick;if(ye(_)){var A=b.getMouseInfo(N);_(A,N)}}),ge(b,"handleContextMenu",function(N){var _=b.props.onContextMenu;if(ye(_)){var A=b.getMouseInfo(N);_(A,N)}}),ge(b,"triggerSyncEvent",function(N){b.props.syncId!==void 0&&tp.emit(rp,b.props.syncId,N,b.eventEmitterSymbol)}),ge(b,"applySyncEvent",function(N){var _=b.props,A=_.layout,O=_.syncMethod,T=b.state.updateId,P=N.dataStartIndex,C=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)b.setState(K({dataStartIndex:P,dataEndIndex:C},m({props:b.props,dataStartIndex:P,dataEndIndex:C,updateId:T},b.state)));else if(N.activeTooltipIndex!==void 0){var E=N.chartX,M=N.chartY,$=N.activeTooltipIndex,q=b.state,D=q.offset,z=q.tooltipTicks;if(!D)return;if(typeof O=="function")$=O(z,N);else if(O==="value"){$=-1;for(var V=0;V<z.length;V++)if(z[V].value===N.activeLabel){$=V;break}}var ee=K(K({},D),{},{x:D.left,y:D.top}),ae=Math.min(E,ee.x+ee.width),W=Math.min(M,ee.y+ee.height),Z=z[$]&&z[$].value,ce=rx(b.state,b.props.data,$),X=z[$]?{x:A==="horizontal"?z[$].coordinate:ae,y:A==="horizontal"?W:z[$].coordinate}:dC;b.setState(K(K({},N),{},{activeLabel:Z,activeCoordinate:X,activePayload:ce,activeTooltipIndex:$}))}else b.setState(N)}),ge(b,"renderCursor",function(N){var _,A=b.state,O=A.isTooltipActive,T=A.activeCoordinate,P=A.activePayload,C=A.offset,E=A.activeTooltipIndex,M=A.tooltipAxisBandSize,$=b.getTooltipEventType(),q=(_=N.props.active)!==null&&_!==void 0?_:O,D=b.props.layout,z=N.key||"_recharts-cursor";return k.createElement(ZG,{key:z,activeCoordinate:T,activePayload:P,activeTooltipIndex:E,chartName:r,element:N,isActive:q,layout:D,offset:C,tooltipAxisBandSize:M,tooltipEventType:$})}),ge(b,"renderPolarAxis",function(N,_,A){var O=tr(N,"type.axisType"),T=tr(b.state,"".concat(O,"Map")),P=N.type.defaultProps,C=P!==void 0?K(K({},P),N.props):N.props,E=T&&T[C["".concat(O,"Id")]];return S.cloneElement(N,K(K({},E),{},{className:Ne(O,E.className),key:N.key||"".concat(_,"-").concat(A),ticks:dn(E,!0)}))}),ge(b,"renderPolarGrid",function(N){var _=N.props,A=_.radialLines,O=_.polarAngles,T=_.polarRadius,P=b.state,C=P.radiusAxisMap,E=P.angleAxisMap,M=In(C),$=In(E),q=$.cx,D=$.cy,z=$.innerRadius,V=$.outerRadius;return S.cloneElement(N,{polarAngles:Array.isArray(O)?O:dn($,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(T)?T:dn(M,!0).map(function(ee){return ee.coordinate}),cx:q,cy:D,innerRadius:z,outerRadius:V,key:N.key||"polar-grid",radialLines:A})}),ge(b,"renderLegend",function(){var N=b.state.formattedGraphicalItems,_=b.props,A=_.children,O=_.width,T=_.height,P=b.props.margin||{},C=O-(P.left||0)-(P.right||0),E=VO({children:A,formattedGraphicalItems:N,legendWidth:C,legendContent:u});if(!E)return null;var M=E.item,$=PS(E,eK);return S.cloneElement(M,K(K({},$),{},{chartWidth:O,chartHeight:T,margin:P,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),ge(b,"renderTooltip",function(){var N,_=b.props,A=_.children,O=_.accessibilityLayer,T=Qt(A,$t);if(!T)return null;var P=b.state,C=P.isTooltipActive,E=P.activeCoordinate,M=P.activePayload,$=P.activeLabel,q=P.offset,D=(N=T.props.active)!==null&&N!==void 0?N:C;return S.cloneElement(T,{viewBox:K(K({},q),{},{x:q.left,y:q.top}),active:D,label:$,payload:D?M:[],coordinate:E,accessibilityLayer:O})}),ge(b,"renderBrush",function(N){var _=b.props,A=_.margin,O=_.data,T=b.state,P=T.offset,C=T.dataStartIndex,E=T.dataEndIndex,M=T.updateId;return S.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Ol(b.handleBrushChange,N.props.onChange),data:O,x:te(N.props.x)?N.props.x:P.left,y:te(N.props.y)?N.props.y:P.top+P.height+P.brushBottom-(A.bottom||0),width:te(N.props.width)?N.props.width:P.width,startIndex:C,endIndex:E,updateId:"brush-".concat(M)})}),ge(b,"renderReferenceElement",function(N,_,A){if(!N)return null;var O=b,T=O.clipPathId,P=b.state,C=P.xAxisMap,E=P.yAxisMap,M=P.offset,$=N.type.defaultProps||{},q=N.props,D=q.xAxisId,z=D===void 0?$.xAxisId:D,V=q.yAxisId,ee=V===void 0?$.yAxisId:V;return S.cloneElement(N,{key:N.key||"".concat(_,"-").concat(A),xAxis:C[z],yAxis:E[ee],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:T})}),ge(b,"renderActivePoints",function(N){var _=N.item,A=N.activePoint,O=N.basePoint,T=N.childIndex,P=N.isRange,C=[],E=_.props.key,M=_.item.type.defaultProps!==void 0?K(K({},_.item.type.defaultProps),_.item.props):_.item.props,$=M.activeDot,q=M.dataKey,D=K(K({index:T,dataKey:q,cx:A.x,cy:A.y,r:4,fill:B0(_.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},me($,!1)),Xl($));return C.push(y.renderActiveDot($,D,"".concat(E,"-activePoint-").concat(T))),O?C.push(y.renderActiveDot($,K(K({},D),{},{cx:O.x,cy:O.y}),"".concat(E,"-basePoint-").concat(T))):P&&C.push(null),C}),ge(b,"renderGraphicChild",function(N,_,A){var O=b.filterFormatItem(N,_,A);if(!O)return null;var T=b.getTooltipEventType(),P=b.state,C=P.isTooltipActive,E=P.tooltipAxis,M=P.activeTooltipIndex,$=P.activeLabel,q=b.props.children,D=Qt(q,$t),z=O.props,V=z.points,ee=z.isRange,ae=z.baseLine,W=O.item.type.defaultProps!==void 0?K(K({},O.item.type.defaultProps),O.item.props):O.item.props,Z=W.activeDot,ce=W.hide,X=W.activeBar,I=W.activeShape,B=!!(!ce&&C&&D&&(Z||X||I)),J={};T!=="axis"&&D&&D.props.trigger==="click"?J={onClick:Ol(b.handleItemMouseEnter,N.props.onClick)}:T!=="axis"&&(J={onMouseLeave:Ol(b.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Ol(b.handleItemMouseEnter,N.props.onMouseEnter)});var G=S.cloneElement(N,K(K({},O.props),J));function re(_t){return typeof E.dataKey=="function"?E.dataKey(_t.payload):null}if(B)if(M>=0){var R,L;if(E.dataKey&&!E.allowDuplicatedCategory){var Q=typeof E.dataKey=="function"?re:"payload.".concat(E.dataKey.toString());R=Yl(V,Q,$),L=ee&&ae&&Yl(ae,Q,$)}else R=V==null?void 0:V[M],L=ee&&ae&&ae[M];if(I||X){var ie=N.props.activeIndex!==void 0?N.props.activeIndex:M;return[S.cloneElement(N,K(K(K({},O.props),J),{},{activeIndex:ie})),null,null]}if(!be(R))return[G].concat(ai(b.renderActivePoints({item:O,activePoint:R,basePoint:L,childIndex:M,isRange:ee})))}else{var oe,de=(oe=b.getItemByXY(b.state.activeCoordinate))!==null&&oe!==void 0?oe:{graphicalItem:G},Se=de.graphicalItem,Ie=Se.item,qe=Ie===void 0?N:Ie,nt=Se.childIndex,et=K(K(K({},O.props),J),{},{activeIndex:nt});return[S.cloneElement(qe,et),null,null]}return ee?[G,null,null]:[G,null]}),ge(b,"renderCustomized",function(N,_,A){return S.cloneElement(N,K(K({key:"recharts-customized-".concat(A)},b.props),b.state))}),ge(b,"renderMap",{CartesianGrid:{handler:Ml,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:Ml},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:Ml},YAxis:{handler:Ml},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((w=v.id)!==null&&w!==void 0?w:Fs("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=UP(b.triggeredAfterMouseMove,(j=v.throttleDelay)!==null&&j!==void 0?j:1e3/60),b.state={},b}return fK(y,g),lK(y,[{key:"componentDidMount",value:function(){var w,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,j=w.children,b=w.data,N=w.height,_=w.layout,A=Qt(j,$t);if(A){var O=A.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,P=rx(this.state,b,O,T),C=this.state.tooltipTicks[O].coordinate,E=(this.state.offset.top+N)/2,M=_==="horizontal",$=M?{x:C,y:E}:{y:C,x:E},q=this.state.formattedGraphicalItems.find(function(z){var V=z.item;return V.type.name==="Scatter"});q&&($=K(K({},$),q.props.points[O].tooltipPosition),P=q.props.points[O].tooltipPayload);var D={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:T,activePayload:P,activeCoordinate:$};this.setState(D),this.renderCursor(A),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var b,N;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){$p([Qt(w.children,$t)],[Qt(this.props.children,$t)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Qt(this.props.children,$t);if(w&&typeof w.props.shared=="boolean"){var j=w.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var j=this.container,b=j.getBoundingClientRect(),N=PL(b),_={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},A=b.width/j.offsetWidth||1,O=this.inRange(_.chartX,_.chartY,A);if(!O)return null;var T=this.state,P=T.xAxisMap,C=T.yAxisMap,E=this.getTooltipEventType(),M=kS(this.state,this.props.data,this.props.layout,O);if(E!=="axis"&&P&&C){var $=In(P).scale,q=In(C).scale,D=$&&$.invert?$.invert(_.chartX):null,z=q&&q.invert?q.invert(_.chartY):null;return K(K({},_),{},{xValue:D,yValue:z},M)}return M?K(K({},_),M):null}},{key:"inRange",value:function(w,j){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,_=w/b,A=j/b;if(N==="horizontal"||N==="vertical"){var O=this.state.offset,T=_>=O.left&&_<=O.left+O.width&&A>=O.top&&A<=O.top+O.height;return T?{x:_,y:A}:null}var P=this.state,C=P.angleAxisMap,E=P.radiusAxisMap;if(C&&E){var M=In(C);return kN({x:_,y:A},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,j=this.getTooltipEventType(),b=Qt(w,$t),N={};b&&j==="axis"&&(b.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=Xl(this.props,this.handleOuterEvent);return K(K({},_),N)}},{key:"addListener",value:function(){tp.on(rp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){tp.removeListener(rp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,j,b){for(var N=this.state.formattedGraphicalItems,_=0,A=N.length;_<A;_++){var O=N[_];if(O.item===w||O.props.key===w.key||j===mn(O.item.type)&&b===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,j=this.state.offset,b=j.left,N=j.top,_=j.height,A=j.width;return k.createElement("defs",null,k.createElement("clipPath",{id:w},k.createElement("rect",{x:b,y:N,height:_,width:A})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(j,b){var N=AS(b,2),_=N[0],A=N[1];return K(K({},j),{},ge({},_,A.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(j,b){var N=AS(b,2),_=N[0],A=N[1];return K(K({},j),{},ge({},_,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(w){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(w){var j=this.state,b=j.formattedGraphicalItems,N=j.activeItem;if(b&&b.length)for(var _=0,A=b.length;_<A;_++){var O=b[_],T=O.props,P=O.item,C=P.type.defaultProps!==void 0?K(K({},P.type.defaultProps),P.props):P.props,E=mn(P.type);if(E==="Bar"){var M=(T.data||[]).find(function(z){return WU(w,z)});if(M)return{graphicalItem:O,payload:M}}else if(E==="RadialBar"){var $=(T.data||[]).find(function(z){return kN(w,z)});if($)return{graphicalItem:O,payload:$}}else if(ku(O,N)||Cu(O,N)||Fo(O,N)){var q=mV({graphicalItem:O,activeTooltipItem:N,itemData:C.data}),D=C.activeIndex===void 0?q:C.activeIndex;return{graphicalItem:K(K({},O),{},{childIndex:D}),payload:Fo(O,N)?C.data[q]:O.props.data[q]}}}return null}},{key:"render",value:function(){var w=this;if(!Fb(this))return null;var j=this.props,b=j.children,N=j.className,_=j.width,A=j.height,O=j.style,T=j.compact,P=j.title,C=j.desc,E=PS(j,tK),M=me(E,!1);if(T)return k.createElement(aS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement(qp,la({},M,{width:_,height:A,title:P,desc:C}),this.renderClipPath(),Ub(b,this.renderMap)));if(this.props.accessibilityLayer){var $,q;M.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,M.role=(q=this.props.role)!==null&&q!==void 0?q:"application",M.onKeyDown=function(z){w.accessibilityManager.keyboardEvent(z)},M.onFocus=function(){w.accessibilityManager.focus()}}var D=this.parseEventsOfWrapper();return k.createElement(aS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement("div",la({className:Ne("recharts-wrapper",N),style:K({position:"relative",cursor:"default",width:_,height:A},O)},D,{ref:function(V){w.container=V}}),k.createElement(qp,la({},M,{width:_,height:A,title:P,desc:C,style:yK}),this.renderClipPath(),Ub(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(S.Component);ge(x,"displayName",r),ge(x,"defaultProps",K({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ge(x,"getDerivedStateFromProps",function(g,y){var v=g.dataKey,w=g.data,j=g.children,b=g.width,N=g.height,_=g.layout,A=g.stackOffset,O=g.margin,T=y.dataStartIndex,P=y.dataEndIndex;if(y.updateId===void 0){var C=CS(g);return K(K(K({},C),{},{updateId:0},m(K(K({props:g},C),{},{updateId:0}),y)),{},{prevDataKey:v,prevData:w,prevWidth:b,prevHeight:N,prevLayout:_,prevStackOffset:A,prevMargin:O,prevChildren:j})}if(v!==y.prevDataKey||w!==y.prevData||b!==y.prevWidth||N!==y.prevHeight||_!==y.prevLayout||A!==y.prevStackOffset||!fa(O,y.prevMargin)){var E=CS(g),M={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},$=K(K({},kS(y,w,_)),{},{updateId:y.updateId+1}),q=K(K(K({},E),M),$);return K(K(K({},q),m(K({props:g},q),y)),{},{prevDataKey:v,prevData:w,prevWidth:b,prevHeight:N,prevLayout:_,prevStackOffset:A,prevMargin:O,prevChildren:j})}if(!$p(j,y.prevChildren)){var D,z,V,ee,ae=Qt(j,Ga),W=ae&&(D=(z=ae.props)===null||z===void 0?void 0:z.startIndex)!==null&&D!==void 0?D:T,Z=ae&&(V=(ee=ae.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&V!==void 0?V:P,ce=W!==T||Z!==P,X=!be(w),I=X&&!ce?y.updateId:y.updateId+1;return K(K({updateId:I},m(K(K({props:g},y),{},{updateId:I,dataStartIndex:W,dataEndIndex:Z}),y)),{},{prevChildren:j,dataStartIndex:W,dataEndIndex:Z})}return null}),ge(x,"renderActiveDot",function(g,y,v){var w;return S.isValidElement(g)?w=S.cloneElement(g,y):ye(g)?w=g(y):w=k.createElement(ul,y),k.createElement(ke,{className:"recharts-active-dot",key:v},w)});var p=S.forwardRef(function(y,v){return k.createElement(x,la({},y,{ref:v}))});return p.displayName=x.displayName,p},hC=$u({chartName:"LineChart",GraphicalChild:Yn,axisComponents:[{axisType:"xAxis",AxisComp:Qr},{axisType:"yAxis",AxisComp:Jr}],formatAxisMap:z0}),OK=$u({chartName:"BarChart",GraphicalChild:Kn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Qr},{axisType:"yAxis",AxisComp:Jr}],formatAxisMap:z0}),kK=$u({chartName:"PieChart",GraphicalChild:An,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ou},{axisType:"radiusAxis",AxisComp:Au}],formatAxisMap:a7,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),mC=$u({chartName:"AreaChart",GraphicalChild:Pn,axisComponents:[{axisType:"xAxis",AxisComp:Qr},{axisType:"yAxis",AxisComp:Jr}],formatAxisMap:z0});const CK=({data:e,isLoading:t,onStartAssignment:r,onViewCourse:n})=>{if(t)return a.jsx(Gn,{message:"Loading your progress...",size:"lg"});if(!e)return a.jsx(ui,{title:"Unable to load progress",message:"We couldn't load your dashboard data. Please try again.",onRetry:()=>window.location.reload()});const{progress:s,upcomingAssignments:i,recentActivity:o,weeklyProgress:l}=e;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(hr,{title:"Enrolled Courses",value:s.totalCourses,change:{value:12,type:"increase"},icon:a.jsx(tt,{className:"h-6 w-6"})}),a.jsx(hr,{title:"Completed Lessons",value:s.completedLessons,icon:a.jsx(ct,{className:"h-6 w-6"})}),a.jsx(hr,{title:"Average Grade",value:s.averageGrade,change:{value:5,type:"increase"},icon:a.jsx(jt,{className:"h-6 w-6"})}),a.jsx(hr,{title:"Current Streak",value:`${s.currentStreak} days`,icon:a.jsx(GS,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(Ot,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Learning Progress"}),a.jsx(Vn,{className:"h-5 w-5 text-blue-600"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Course Completion"}),a.jsxs("span",{className:"font-medium",children:[s.completedCourses,"/",s.totalCourses]})]}),a.jsx(nx,{value:s.totalCourses>0?s.completedCourses/s.totalCourses*100:0,className:"h-2"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Level Progress"}),a.jsxs("span",{className:"font-medium",children:[s.nextLevelProgress,"% to Level ",s.level+1]})]}),a.jsx(nx,{value:s.nextLevelProgress,className:"h-2",color:"bg-purple-600"})]})]})]}),a.jsxs(Ot,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Weekly Activity"}),a.jsx(Cs,{className:"h-5 w-5 text-green-600"})]}),a.jsx(ma,{width:"100%",height:150,children:a.jsxs(mC,{data:l,children:[a.jsx(Za,{strokeDasharray:"3 3"}),a.jsx(Qr,{dataKey:"day"}),a.jsx(Jr,{hide:!0}),a.jsx($t,{}),a.jsx(Pn,{type:"monotone",dataKey:"minutes",stroke:"#10B981",fill:"#10B981",fillOpacity:.3})]})}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[l.reduce((c,u)=>c+u.minutes,0)," min"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"This week"})]})]}),a.jsxs(Ot,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Achievements"}),a.jsx(Ll,{className:"h-5 w-5 text-yellow-600"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-10 w-10 bg-yellow-100 rounded-full flex items-center justify-center",children:a.jsx(Bl,{className:"h-5 w-5 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Quiz Master"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed 10 quizzes"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(tt,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Course Complete"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Finished first course"})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Ot,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming Assignments"}),a.jsx("div",{className:"space-y-4",children:i.length>0?i.map(c=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${c.type==="quiz"?"bg-blue-100":c.type==="assignment"?"bg-green-100":"bg-purple-100"}`,children:c.type==="quiz"?a.jsx(Vn,{className:"h-5 w-5 text-blue-600"}):c.type==="assignment"?a.jsx(Tr,{className:"h-5 w-5 text-green-600"}):a.jsx(jt,{className:"h-5 w-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:c.title}),a.jsx("p",{className:"text-sm text-gray-600",children:c.course}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",new Date(c.dueDate).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[c.points," pts"]}),c.status==="not-started"&&a.jsxs("button",{onClick:()=>r(c.id),className:"flex items-center space-x-1 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700",children:[a.jsx(YS,{className:"h-3 w-3"}),a.jsx("span",{children:"Start"})]}),c.status==="in-progress"&&a.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"In Progress"}),c.status==="submitted"&&a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Submitted"})]})]},c.id)):a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No upcoming assignments"})})]}),a.jsxs(Ot,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),a.jsx("div",{className:"space-y-4",children:o.length>0?o.map(c=>a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${c.type==="lesson-completed"?"bg-green-100":c.type==="assignment-submitted"?"bg-blue-100":c.type==="grade-received"?"bg-yellow-100":"bg-purple-100"}`,children:c.type==="lesson-completed"?a.jsx(ct,{className:"h-4 w-4 text-green-600"}):c.type==="assignment-submitted"?a.jsx(Tr,{className:"h-4 w-4 text-blue-600"}):c.type==="grade-received"?a.jsx(jt,{className:"h-4 w-4 text-yellow-600"}):a.jsx(Ll,{className:"h-4 w-4 text-purple-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.title}),a.jsx("p",{className:"text-sm text-gray-600",children:c.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(c.timestamp).toLocaleString()})]}),c.points&&a.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["+",c.points," pts"]})]},c.id)):a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No recent activity"})})]})]})]})},TK=({course:e,onViewCourse:t,onContinueLearning:r})=>a.jsx(Ot,{className:"p-6 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[e.thumbnail?a.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-16 h-16 rounded-lg object-cover"}):a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:a.jsx(tt,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.title}),a.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:e.description}),a.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["By ",e.teacher]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-600",children:"Progress"}),a.jsxs("span",{className:"font-medium",children:[e.progress,"%"]})]}),a.jsx(nx,{value:e.progress,className:"h-2"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.completedLessons,"/",e.totalLessons," lessons completed"]})]}),a.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Last accessed: ",new Date(e.lastAccessed).toLocaleDateString()]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[e.progress>0?a.jsxs("button",{onClick:()=>r(e.id),className:"flex items-center space-x-1 px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700",children:[a.jsx(YS,{className:"h-3 w-3"}),a.jsx("span",{children:"Continue"})]}):a.jsxs("button",{onClick:()=>t(e.id),className:"flex items-center space-x-1 px-3 py-2 bg-gray-100 text-gray-700 text-sm rounded-md hover:bg-gray-200",children:[a.jsx(tt,{className:"h-3 w-3"}),a.jsx("span",{children:"Start Course"})]}),a.jsxs("button",{onClick:()=>t(e.id),className:"flex items-center space-x-1 px-3 py-2 border border-gray-300 text-gray-700 text-sm rounded-md hover:bg-gray-50",children:[a.jsx(Tr,{className:"h-3 w-3"}),a.jsx("span",{children:"View Details"})]})]})]})]})}),nx=({value:e,max:t=100,className:r="",color:n="bg-blue-600"})=>{const s=Math.min(e/t*100,100);return a.jsx("div",{className:`w-full bg-gray-200 rounded-full h-2 ${r}`,children:a.jsx("div",{className:`h-2 rounded-full ${n} transition-all duration-300`,style:{width:`${s}%`}})})};function EK(){const e=Nt(),t=Xn(),[r,n]=S.useState([]),[s,i]=S.useState([]),[o,l]=S.useState([]),[c,u]=S.useState([]),[d,f]=S.useState(null),[h,m]=S.useState(!0),[x,p]=S.useState(!1),[g,y]=S.useState(null),[v,w]=S.useState(null),[j,b]=S.useState([]),[N,_]=S.useState([]),[A,O]=S.useState([]),P=new URLSearchParams(t.search).get("tab")||"overview",C=[{id:"overview",label:"Overview",count:void 0},{id:"courses",label:"My Courses",count:r.length},{id:"assignments",label:"Assignments",count:s.length},{id:"grades",label:"Grades",count:c.length},{id:"achievements",label:"Achievements",count:void 0},{id:"bookmarks",label:"Bookmarks",count:void 0},{id:"resources",label:"Resources",count:void 0}];S.useEffect(()=>{E()},[]),S.useEffect(()=>{const X=new URLSearchParams(t.search);P!=="overview"?X.set("tab",P):X.delete("tab"),e(`${t.pathname}?${X.toString()}`,{replace:!0})},[P,e,t.pathname]);async function E(){try{y(null),m(!0);const{data:{user:X}}=await U.auth.getUser();if(!X){e("/login");return}await Promise.allSettled([$(X.id),q(X.id),D(X.id),z(X.id),V(X.id),ee(X.id)])}catch(X){y(`Failed to load dashboard data: ${X.message}`),t3("StudentDashboard","loadDashboardData",X)}finally{m(!1),p(!1)}}const M=async()=>{p(!0),await E()};async function $(X){try{const{data:I}=await U.from("enrollments").select("course_id, enrolled_at, progress_percentage").eq("student_id",X);if(I&&I.length>0){const B=I.map(G=>G.course_id),{data:J}=await U.from("courses").select("*").in("id",B).eq("is_published",!0);if(J&&J.length>0){const G=[...new Set(J.map(L=>L.teacher_id))],{data:re}=await U.from("profiles").select("id, full_name").in("id",G),R=await Promise.all(J.map(async L=>{var nt;const Q=((nt=re==null?void 0:re.find(et=>et.id===L.teacher_id))==null?void 0:nt.full_name)||"Unknown",ie=I.find(et=>et.course_id===L.id),{data:oe}=await U.from("lessons").select("id").eq("course_id",L.id),{data:de}=await U.from("lesson_progress").select("id").eq("student_id",X).eq("course_id",L.id).eq("is_completed",!0),Se=(oe==null?void 0:oe.length)||0,Ie=(de==null?void 0:de.length)||0,qe=Se>0?Math.round(Ie/Se*100):0;return{...L,teacher:Q,progress:qe,totalLessons:Se,completedLessons:Ie,lastAccessed:(ie==null?void 0:ie.enrolled_at)||L.created_at,enrollment:ie}}));n(R)}}}catch(I){console.error("Error loading enrolled courses:",I)}}async function q(X){try{const{data:{user:I}}=await U.auth.getUser();if(!I)return;const{data:B}=await U.from("enrollments").select("course_id").eq("student_id",X);if(B&&B.length>0){const J=B.map(re=>re.course_id),{data:G}=await U.from("assignments").select(`
            *,
            courses (title),
            submissions (status, submitted_at)
          `).in("course_id",J).order("due_date",{ascending:!0});if(G){const re=G.filter(L=>{var de;const Q=new Date(L.due_date),ie=new Date,oe=(de=L.submissions)==null?void 0:de[0];return oe&&oe.status==="submitted"?!1:Q>ie||!L.due_date});i(G);const R=re.slice(0,5).map(L=>{var Q;return{id:L.id,title:L.title,course:((Q=L.courses)==null?void 0:Q.title)||"Unknown Course",dueDate:L.due_date||new Date().toISOString(),type:"assignment",status:"not-started",points:L.points_possible||100}});b(R)}}}catch(I){console.error("Error loading assignments:",I)}}async function D(X){try{const{data:I}=await U.from("notifications").select("*").eq("user_id",X).order("created_at",{ascending:!1}).limit(10);l(I||[])}catch(I){console.error("Error loading notifications:",I)}}async function z(X){try{const{data:I}=await U.from("grades").select(`
          *,
          assignments (title, course_id),
          courses (title)
        `).eq("student_id",X).order("created_at",{ascending:!1}).limit(20);u(I||[])}catch(I){console.error("Error loading grades:",I)}}async function V(X){try{const I={enrolledCourses:r.length,completedLessons:r.reduce((B,J)=>B+J.completedLessons,0),averageGrade:"85%",currentStreak:7,recentActivity:[]};f(I)}catch(I){console.error("Error loading analytics:",I)}}async function ee(X){try{const I=r.length,B=r.filter(oe=>oe.progress===100).length,J=r.filter(oe=>oe.progress>0&&oe.progress<100).length,G=r.reduce((oe,de)=>oe+de.totalLessons,0),re=r.reduce((oe,de)=>oe+de.completedLessons,0),R=c.length>0?Math.round(c.reduce((oe,de)=>oe+(de.score||0),0)/c.length):0,L={totalCourses:I,completedCourses:B,inProgressCourses:J,totalLessons:G,completedLessons:re,averageGrade:`${R}%`,currentStreak:7,totalPoints:1250,level:3,nextLevelProgress:65};w(L),O([{day:"Mon",minutes:45,lessons:2},{day:"Tue",minutes:60,lessons:3},{day:"Wed",minutes:30,lessons:1},{day:"Thu",minutes:75,lessons:4},{day:"Fri",minutes:50,lessons:2},{day:"Sat",minutes:90,lessons:5},{day:"Sun",minutes:40,lessons:2}]);const ie=[{id:"1",type:"lesson-completed",title:"Lesson Completed",description:'Completed "Introduction to Algebra"',timestamp:new Date().toISOString(),points:10},{id:"2",type:"grade-received",title:"Grade Received",description:"Mathematics Quiz - 95%",timestamp:new Date(Date.now()-864e5).toISOString(),points:95},{id:"3",type:"achievement-earned",title:"Achievement Earned",description:'Earned "Quiz Master" badge',timestamp:new Date(Date.now()-1728e5).toISOString(),points:50}];_(ie)}catch(I){console.error("Error loading student progress:",I)}}const ae=X=>{e(`/student/assignments/${X}`)},W=X=>{e(`/courses/${X}`)},Z=async X=>{try{const{data:{user:I}}=await U.auth.getUser();if(!I)return;const{data:B}=await U.from("lessons").select("id, course_id").eq("course_id",X).order("order_index",{ascending:!0});if(B&&B.length>0){const{data:J}=await U.from("lesson_progress").select("lesson_id").eq("student_id",I.id).eq("course_id",X).eq("is_completed",!0),G=new Set((J==null?void 0:J.map(R=>R.lesson_id))||[]),re=B.find(R=>!G.has(R.id));e(re?`/courses/${X}/lessons/${re.id}`:`/courses/${X}`)}else e(`/courses/${X}`)}catch(I){console.error("Error finding next lesson:",I),e(`/courses/${X}`)}},ce=()=>{if(h&&!v)return a.jsx(Gn,{message:"Loading your dashboard...",size:"lg"});if(g)return a.jsx(ui,{title:"Dashboard Error",message:g,onRetry:M});switch(P){case"overview":return v?a.jsx(CK,{data:{progress:v,upcomingAssignments:j,recentActivity:N,weeklyProgress:A},isLoading:h,onStartAssignment:ae,onViewCourse:W}):a.jsx(Gn,{message:"Loading progress data..."});case"courses":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Courses"}),a.jsxs(Te,{to:"/courses",className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[a.jsx(lx,{className:"h-4 w-4"}),a.jsx("span",{children:"Browse Courses"})]})]}),r.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(X=>a.jsx(TK,{course:X,onViewCourse:W,onContinueLearning:Z},X.id))}):a.jsx(Or,{title:"No courses enrolled",description:"Start learning by enrolling in a course",action:a.jsx(Te,{to:"/courses",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Browse Courses"})})]});case"assignments":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Assignments"}),s.length>0?a.jsx("div",{className:"space-y-4",children:s.map(X=>{var I,B,J;return a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:X.title}),a.jsx("p",{className:"text-gray-600",children:(I=X.courses)==null?void 0:I.title}),X.due_date&&a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Due: ",new Date(X.due_date).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[X.points_possible||100," points"]}),a.jsx("button",{onClick:()=>ae(X.id),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:((J=(B=X.submissions)==null?void 0:B[0])==null?void 0:J.status)==="submitted"?"View":"Start"})]})]})},X.id)})}):a.jsx(Or,{title:"No assignments",description:"You don't have any assignments yet"})]});case"grades":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Grades"}),c.length>0?a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(X=>{var I,B;return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(I=X.assignments)==null?void 0:I.title}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(B=X.courses)==null?void 0:B.title}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${(X.score||0)>=90?"bg-green-100 text-green-800":(X.score||0)>=80?"bg-blue-100 text-blue-800":(X.score||0)>=70?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[X.score||0,"%"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(X.created_at).toLocaleDateString()})]},X.id)})})]})}):a.jsx(Or,{title:"No grades yet",description:"Complete assignments to see your grades here"})]});case"achievements":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Achievements"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{name:"Quiz Master",description:"Complete 10 quizzes",icon:Vn,earned:!0},{name:"Course Complete",description:"Finish your first course",icon:jt,earned:!0},{name:"Streak Keeper",description:"Study for 30 days in a row",icon:GS,earned:!1},{name:"Perfect Score",description:"Get 100% on an assignment",icon:Bl,earned:!1}].map((X,I)=>a.jsx("div",{className:`p-6 rounded-lg border-2 ${X.earned?"border-yellow-200 bg-yellow-50":"border-gray-200 bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center ${X.earned?"bg-yellow-200":"bg-gray-200"}`,children:a.jsx(X.icon,{className:`h-6 w-6 ${X.earned?"text-yellow-600":"text-gray-400"}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:X.name}),a.jsx("p",{className:"text-sm text-gray-600",children:X.description})]})]})},I))})]});case"bookmarks":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Bookmarks"}),a.jsx(Or,{title:"No bookmarks yet",description:"Bookmark important lessons and resources to find them easily",icon:a.jsx(Li,{className:"h-12 w-12 text-gray-400"})})]});case"resources":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Study Resources"}),a.jsx(Or,{title:"No resources yet",description:"Your course materials and study resources will appear here",icon:a.jsx(tt,{className:"h-12 w-12 text-gray-400"})})]});default:return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Tab not found"}),a.jsx("p",{className:"text-gray-600",children:"The selected tab does not exist."})]})}};return a.jsx(di,{children:a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx(Hx,{title:"Student Dashboard",description:"Track your learning progress and manage your courses",breadcrumbs:[{label:"Student"},{label:"Dashboard"}],actions:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:M,disabled:x,className:"flex items-center space-x-2 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 disabled:opacity-50",children:[a.jsx(Vt,{className:`h-4 w-4 ${x?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]}),a.jsxs(Te,{to:"/messages",className:"flex items-center space-x-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[a.jsx(Aa,{className:"h-4 w-4"}),a.jsx("span",{children:"Messages"})]})]})}),a.jsx(Gx,{items:C,activeTab:P,onTabChange:X=>{const I=new URLSearchParams(t.search);X!=="overview"?I.set("tab",X):I.delete("tab"),e(`${t.pathname}?${I.toString()}`)}}),a.jsx("div",{className:"mt-6",children:ce()})]})})}function MK(){const{assignmentId:e}=Qn(),t=Nt(),[r,n]=S.useState(null),[s,i]=S.useState(null),[o,l]=S.useState(""),[c,u]=S.useState(!0),[d,f]=S.useState(!1),[h,m]=S.useState(""),[x,p]=S.useState("");S.useEffect(()=>{e&&(g(),y())},[e]);async function g(){try{const{data:b,error:N}=await U.from("assignments").select("*").eq("id",e).single();if(N){console.error("Error loading assignment:",N),m("Failed to load assignment");return}n(b)}catch(b){console.error("Error loading assignment:",b),m("Failed to load assignment")}finally{u(!1)}}async function y(){try{const{data:{user:b}}=await U.auth.getUser();if(!b)return;const{data:N}=await U.from("submissions").select("*").eq("assignment_id",e).eq("student_id",b.id).single();N&&(i(N),l(N.submission_text||""))}catch{}}async function v(b){if(b.preventDefault(),!!e){f(!0),m(""),p("");try{const{data:{user:N}}=await U.auth.getUser();if(!N){m("You must be logged in to submit assignments");return}const _={assignment_id:e,student_id:N.id,submission_text:o.trim(),status:"submitted",submitted_at:new Date().toISOString()};let A;if(s?A=await U.from("submissions").update({submission_text:_.submission_text,status:"submitted",submitted_at:_.submitted_at}).eq("id",s.id).select().single():A=await U.from("submissions").insert([_]).select().single(),A.error){console.error("Database error:",A.error),m("Failed to submit assignment. Please try again.");return}p("Assignment submitted successfully!"),i({...A.data,submission_text:o,status:"submitted",submitted_at:_.submitted_at}),l("")}catch(N){console.error("Error submitting assignment:",N),m(N.message||"Failed to submit assignment")}finally{f(!1)}}}const w=(r==null?void 0:r.due_date)&&new Date(r.due_date)<new Date,j=!s&&!w;return c?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r?a.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8 bg-slate-50",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 mb-4",children:[a.jsx(gn,{className:"h-5 w-5"}),a.jsx("span",{children:"Back to Dashboard"})]}),a.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-800 mb-2",children:r.title}),a.jsx("p",{className:"text-slate-600",children:"Complete and submit your assignment"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-8",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Assignment Details"}),a.jsx("p",{className:"text-slate-600 mb-4",children:r.description}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nr,{className:"h-5 w-5 text-slate-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Due Date"}),a.jsx("p",{className:"font-medium",children:r.due_date?new Date(r.due_date).toLocaleDateString():"No due date"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Tr,{className:"h-5 w-5 text-slate-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Points Possible"}),a.jsxs("p",{className:"font-medium",children:[r.points_possible," points"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ct,{className:"h-5 w-5 text-slate-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Submission Type"}),a.jsx("p",{className:"font-medium capitalize",children:r.submission_type})]})]})]})]}),a.jsx("div",{className:"ml-4",children:s?a.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"Submitted"}):w?a.jsx("span",{className:"bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-medium",children:"Overdue"}):a.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:"Open"})})]}),w&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Zt,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-800 font-medium",children:"Assignment Overdue"}),a.jsxs("p",{className:"text-red-700 text-sm",children:["This assignment was due on ",new Date(r.due_date).toLocaleDateString()]})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Your Submission"}),r&&a.jsxs(Te,{to:`/courses/${r.course_id}/assignments/${e}/discussions`,className:"flex items-center space-x-2 bg-slate-100 text-slate-700 px-4 py-2 rounded-lg hover:bg-slate-200 transition",children:[a.jsx(pr,{className:"h-5 w-5"}),a.jsx("span",{children:"Join Discussion"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[h&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Zt,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3"}),a.jsx("p",{className:"text-red-600",children:h})]})}),x&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(ct,{className:"h-5 w-5 text-green-600 mt-0.5 mr-3"}),a.jsx("p",{className:"text-green-600",children:x})]})}),s&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(ct,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-800 font-medium",children:"Assignment Already Submitted"}),a.jsxs("p",{className:"text-blue-700 text-sm",children:["Submitted on ",new Date(s.submitted_at).toLocaleString()]})]})]})}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Your Answer"}),a.jsx("textarea",{value:o,onChange:b=>l(b.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:8,placeholder:"Enter your assignment submission here...",required:!0,disabled:!j}),a.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:[o.length," characters"]})]}),j&&a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"submit",disabled:d||!o.trim(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px]",children:d?"Submitting...":"Submit Assignment"}),a.jsx("button",{type:"button",onClick:()=>l(""),className:"bg-slate-300 text-slate-700 px-6 py-3 rounded-lg font-medium hover:bg-slate-400 transition min-h-[44px]",children:"Clear"})]}),!j&&a.jsx("div",{className:"text-sm text-slate-500",children:s?"This assignment has already been submitted.":w?"This assignment is overdue and can no longer be submitted.":"Submission not available"})]})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Zt,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Assignment Not Found"}),a.jsx("p",{className:"text-slate-600 mb-4",children:"The assignment you're looking for doesn't exist."}),a.jsx("button",{onClick:()=>t(-1),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Go Back"})]})})}function IK(){const[e,t]=S.useState([]),[r,n]=S.useState([]),[s,i]=S.useState(!0);S.useEffect(()=>{o()},[]);async function o(){try{const{data:{user:u}}=await U.auth.getUser();if(!u)return;const{data:d}=await U.from("user_achievements").select(`
          id,
          achievement_id,
          earned_at,
          achievements (
            id,
            name,
            description,
            badge_icon,
            criteria_type,
            criteria_value
          )
        `).eq("user_id",u.id).order("earned_at",{ascending:!1}),f=(d||[]).map(m=>({id:m.id,achievement_id:m.achievement_id,earned_at:m.earned_at,achievements:Array.isArray(m.achievements)?m.achievements[0]:m.achievements}));t(f);const{data:h}=await U.from("achievements").select("*").order("criteria_type");if(h){const m=(d||[]).map(p=>p.achievement_id),x=h.filter(p=>!m.includes(p.id));n(x)}}catch(u){console.error("Error loading achievements:",u)}finally{i(!1)}}function l(u){switch(u){case"trophy":return so;case"crown":return FC;case"star":return Bl;case"medal":return Ll;case"zap":return ux;default:return jt}}function c(u){return{course_completion:0,assignment_score:0,streak:0,engagement:0}[u.criteria_type]||0}return s?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsx(di,{children:a.jsx("div",{className:"py-8 px-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Achievements"}),a.jsx("p",{className:"text-slate-600",children:"Track your learning milestones and earn badges"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Earned Badges"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.length})]}),a.jsx(jt,{className:"h-10 w-10 text-green-600 opacity-70"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Available Badges"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.length})]}),a.jsx(Bl,{className:"h-10 w-10 text-blue-600 opacity-70"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Completion Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[Math.round(e.length/(e.length+r.length)*100)||0,"%"]})]}),a.jsx(so,{className:"h-10 w-10 text-purple-600 opacity-70"})]})})]}),e.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Your Badges"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(u=>{const d=l(u.achievements.badge_icon);return a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-green-200 hover:shadow-md transition",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:a.jsx(d,{className:"h-8 w-8 text-green-600"})}),a.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-2",children:u.achievements.name}),a.jsx("p",{className:"text-sm text-slate-600 mb-3",children:u.achievements.description}),a.jsxs("div",{className:"text-xs text-green-600 font-medium",children:["Earned ",new Date(u.earned_at).toLocaleDateString()]})]})},u.id)})})]}),r.length>0&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Available Badges"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(u=>{const d=l(u.badge_icon),f=c(u),h=Math.min(f/u.criteria_value*100,100);return a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200 hover:border-slate-300 transition",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-slate-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:a.jsx(d,{className:"h-8 w-8 text-slate-400"})}),a.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-2",children:u.name}),a.jsx("p",{className:"text-sm text-slate-600 mb-4",children:u.description}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between text-xs text-slate-600 mb-1",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[f," / ",u.criteria_value]})]}),a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${h}%`}})})]}),a.jsx("div",{className:"text-xs text-slate-500 capitalize",children:u.criteria_type.replace("_"," ")})]})},u.id)})})]}),e.length===0&&r.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(jt,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"No Achievements Yet"}),a.jsx("p",{className:"text-slate-600",children:"Start learning to unlock your first badge!"})]})]})})})}function DK(){const[e,t]=S.useState([]),[r,n]=S.useState(!0),[s,i]=S.useState("all");S.useEffect(()=>{o()},[]);async function o(){try{const{data:{user:m}}=await U.auth.getUser();if(!m)return;const{data:x}=await U.from("bookmarks").select(`
          id,
          lesson_id,
          course_id,
          resource_id,
          notes,
          created_at,
          lessons (
            title,
            course_id
          ),
          courses (
            title,
            description
          ),
          course_resources (
            title,
            description,
            file_name
          )
        `).eq("user_id",m.id).order("created_at",{ascending:!1}),p=(x||[]).map(g=>({id:g.id,lesson_id:g.lesson_id,course_id:g.course_id,resource_id:g.resource_id,notes:g.notes,created_at:g.created_at,lessons:Array.isArray(g.lessons)?g.lessons[0]:g.lessons,courses:Array.isArray(g.courses)?g.courses[0]:g.courses,course_resources:Array.isArray(g.course_resources)?g.course_resources[0]:g.course_resources}));t(p)}catch(m){console.error("Error loading bookmarks:",m)}finally{n(!1)}}async function l(m){try{await U.from("bookmarks").delete().eq("id",m),t(e.filter(x=>x.id!==m))}catch(x){console.error("Error removing bookmark:",x)}}function c(){if(s==="all")return e;switch(s){case"lessons":return e.filter(m=>m.lesson_id);case"courses":return e.filter(m=>m.course_id&&!m.lesson_id);case"resources":return e.filter(m=>m.resource_id);default:return e}}function u(m){return m.lesson_id?"lesson":m.resource_id?"resource":m.course_id?"course":"unknown"}function d(m){var p,g,y;switch(u(m)){case"lesson":return((p=m.lessons)==null?void 0:p.title)||"Lesson";case"course":return((g=m.courses)==null?void 0:g.title)||"Course";case"resource":return((y=m.course_resources)==null?void 0:y.title)||"Resource";default:return"Bookmark"}}function f(m){var p,g;switch(u(m)){case"course":return((p=m.courses)==null?void 0:p.description)||"";case"resource":return((g=m.course_resources)==null?void 0:g.description)||"";default:return""}}function h(m){switch(u(m)){case"lesson":return Ji;case"course":return tt;case"resource":return Tr;default:return Li}}return r?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsx(di,{children:a.jsx("div",{className:"py-8 px-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"My Bookmarks"}),a.jsx("p",{className:"text-slate-600",children:"Save and organize your favorite lessons, courses, and resources"})]}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Bookmarks"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.length})]}),a.jsx(Li,{className:"h-10 w-10 text-blue-600 opacity-70"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Lesson Bookmarks"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.filter(m=>m.lesson_id).length})]}),a.jsx(Ji,{className:"h-10 w-10 text-green-600 opacity-70"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Course Bookmarks"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.filter(m=>m.course_id&&!m.lesson_id).length})]}),a.jsx(tt,{className:"h-10 w-10 text-purple-600 opacity-70"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Resource Bookmarks"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:e.filter(m=>m.resource_id).length})]}),a.jsx(Tr,{className:"h-10 w-10 text-orange-600 opacity-70"})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[a.jsx("div",{className:"border-b border-slate-200",children:a.jsxs("nav",{className:"flex -mb-px overflow-x-auto",children:[a.jsxs("button",{onClick:()=>i("all"),className:`px-6 py-4 text-sm font-medium whitespace-nowrap min-h-[44px] ${s==="all"?"border-b-2 border-blue-600 text-blue-600":"text-slate-600 hover:text-slate-800"}`,children:["All (",e.length,")"]}),a.jsxs("button",{onClick:()=>i("lessons"),className:`px-6 py-4 text-sm font-medium whitespace-nowrap min-h-[44px] ${s==="lessons"?"border-b-2 border-blue-600 text-blue-600":"text-slate-600 hover:text-slate-800"}`,children:["Lessons (",e.filter(m=>m.lesson_id).length,")"]}),a.jsxs("button",{onClick:()=>i("courses"),className:`px-6 py-4 text-sm font-medium whitespace-nowrap min-h-[44px] ${s==="courses"?"border-b-2 border-blue-600 text-blue-600":"text-slate-600 hover:text-slate-800"}`,children:["Courses (",e.filter(m=>m.course_id&&!m.lesson_id).length,")"]}),a.jsxs("button",{onClick:()=>i("resources"),className:`px-6 py-4 text-sm font-medium whitespace-nowrap min-h-[44px] ${s==="resources"?"border-b-2 border-blue-600 text-blue-600":"text-slate-600 hover:text-slate-800"}`,children:["Resources (",e.filter(m=>m.resource_id).length,")"]})]})}),a.jsx("div",{className:"p-6",children:c().length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Li,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:s==="all"?"No Bookmarks Yet":`No ${s.charAt(0).toUpperCase()+s.slice(1)} Bookmarks`}),a.jsx("p",{className:"text-slate-600 mb-4",children:s==="all"?"Start bookmarking your favorite lessons, courses, and resources!":`You haven't bookmarked any ${s} yet.`}),a.jsx("p",{className:"text-sm text-slate-500",children:"Look for the bookmark icon while browsing courses and lessons."})]}):a.jsx("div",{className:"space-y-3",children:c().map(m=>{const x=h(m),p=d(m),g=f(m),y=u(m);return a.jsx("div",{className:"border border-slate-200 rounded-lg p-4 hover:border-slate-300 transition",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[a.jsx("div",{className:"bg-blue-100 rounded-full w-10 h-10 flex items-center justify-center flex-shrink-0 mt-1",children:a.jsx(x,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:p}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${y==="lesson"?"bg-green-100 text-green-700":y==="course"?"bg-purple-100 text-purple-700":y==="resource"?"bg-orange-100 text-orange-700":"bg-slate-100 text-slate-700"}`,children:y})]}),g&&a.jsx("p",{className:"text-sm text-slate-600 mb-2",children:g}),m.notes&&a.jsxs("p",{className:"text-sm text-slate-500 italic",children:["Note: ",m.notes]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Bookmarked ",new Date(m.created_at).toLocaleDateString()]})]})]}),a.jsx("div",{className:"flex items-center space-x-2 ml-4",children:a.jsx("button",{onClick:()=>l(m.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition",title:"Remove bookmark",children:a.jsx(xn,{className:"h-4 w-4"})})})]})},m.id)})})})]})]})})})}function RK(){const[e,t]=S.useState([]),[r,n]=S.useState(!0),[s,i]=S.useState("all");S.useEffect(()=>{o()},[]);async function o(){try{const{data:{user:d}}=await U.auth.getUser();if(!d)return;const{data:f}=await U.from("enrollments").select("course_id").eq("student_id",d.id);if(f&&f.length>0){const h=f.map(x=>x.course_id),{data:m}=await U.from("course_resources").select(`
            *,
            courses:course_id(id, title),
            profiles:uploaded_by(full_name)
          `).in("course_id",h).order("created_at",{ascending:!1});t(m||[])}}catch(d){console.error("Error loading resources:",d)}finally{n(!1)}}function l(d){if(d===0)return"0 Bytes";const f=1024,h=["Bytes","KB","MB","GB"],m=Math.floor(Math.log(d)/Math.log(f));return parseFloat((d/Math.pow(f,m)).toFixed(2))+" "+h[m]}function c(d){switch(d){case"video":return a.jsx(rT,{className:"h-5 w-5 text-blue-600"});case"audio":return a.jsx(YC,{className:"h-5 w-5 text-green-600"});case"image":return a.jsx(WC,{className:"h-5 w-5 text-purple-600"});case"document":return a.jsx(Tr,{className:"h-5 w-5 text-red-600"});case"link":return a.jsx(UC,{className:"h-5 w-5 text-indigo-600"});default:return a.jsx(Zi,{className:"h-5 w-5 text-slate-600"})}}const u=s==="all"?e:e.filter(d=>d.resource_type===s);return r?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsx(di,{children:a.jsx("div",{className:"py-8 px-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Course Resources"}),a.jsx("p",{className:"text-slate-600",children:"Download and view materials shared by your teachers"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${s==="all"?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"All Resources"}),a.jsx("button",{onClick:()=>i("document"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${s==="document"?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Documents"}),a.jsx("button",{onClick:()=>i("video"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${s==="video"?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Videos"}),a.jsx("button",{onClick:()=>i("audio"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${s==="audio"?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Audio"}),a.jsx("button",{onClick:()=>i("image"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${s==="image"?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Images"}),a.jsx("button",{onClick:()=>i("link"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${s==="link"?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Links"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:[s==="all"?"All Resources":`${s.charAt(0).toUpperCase()+s.slice(1)} Resources`,a.jsxs("span",{className:"text-slate-500 font-normal ml-2",children:["(",u.length,")"]})]}),u.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Zi,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:s==="all"?"No resources available yet":`No ${s} resources available`}),a.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Your teachers will upload course materials here"})]}):a.jsx("div",{className:"space-y-3",children:u.map(d=>{var f,h;return a.jsx("div",{className:"border border-slate-200 rounded-lg p-4 hover:border-slate-300 transition",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[a.jsx("div",{className:"flex-shrink-0",children:c(d.resource_type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-800 truncate",children:d.title}),a.jsx("p",{className:"text-sm text-slate-600 mb-2",children:d.description}),a.jsxs("div",{className:"flex items-center space-x-4 text-xs text-slate-500",children:[a.jsxs("span",{children:["Course: ",(f=d.courses)==null?void 0:f.title]}),a.jsxs("span",{children:["By: ",(h=d.profiles)==null?void 0:h.full_name]}),d.file_size>0&&a.jsx("span",{children:l(d.file_size)}),a.jsx("span",{children:new Date(d.created_at).toLocaleDateString()})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[a.jsx("button",{onClick:()=>{d.file_url?window.open(d.file_url,"_blank"):alert("File URL not available")},className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition",title:"View resource",children:a.jsx(Qo,{className:"h-4 w-4"})}),d.resource_type!=="link"&&d.file_url&&a.jsx("a",{href:d.file_url,download:d.file_name,className:"p-2 text-green-600 hover:bg-green-50 rounded transition",title:"Download resource",children:a.jsx(ln,{className:"h-4 w-4"})})]})]})},d.id)})})]})})]})})})}const $K=({data:e,isLoading:t,onViewSubmission:r,onGradeSubmission:n})=>{if(t)return a.jsx(Gn,{message:"Loading teacher dashboard...",size:"lg"});if(!e)return a.jsx(ui,{title:"Unable to load dashboard",message:"We couldn't load your dashboard data. Please try again.",onRetry:()=>window.location.reload()});const{analytics:s,pendingSubmissions:i,recentActivity:o}=e;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(hr,{title:"Total Courses",value:s.totalCourses,change:{value:8,type:"increase"},icon:a.jsx(tt,{className:"h-6 w-6"})}),a.jsx(hr,{title:"Total Students",value:s.totalStudents,change:{value:15,type:"increase"},icon:a.jsx(Yr,{className:"h-6 w-6"})}),a.jsx(hr,{title:"Pending Grades",value:s.pendingGrades,icon:a.jsx(Zt,{className:"h-6 w-6"})}),a.jsx(hr,{title:"Avg Rating",value:`${s.averageRating}/5`,change:{value:2,type:"increase"},icon:a.jsx(jt,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Ot,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Student Engagement"}),a.jsxs("select",{className:"text-sm border border-gray-300 rounded-md px-3 py-1",children:[a.jsx("option",{children:"Last 7 days"}),a.jsx("option",{children:"Last 30 days"})]})]}),a.jsx(ma,{width:"100%",height:300,children:a.jsxs(hC,{data:s.studentEngagement,children:[a.jsx(Za,{strokeDasharray:"3 3"}),a.jsx(Qr,{dataKey:"date"}),a.jsx(Jr,{}),a.jsx($t,{}),a.jsx(Yn,{type:"monotone",dataKey:"active",stroke:"#3B82F6",strokeWidth:2,name:"Active Students"}),a.jsx(Yn,{type:"monotone",dataKey:"submissions",stroke:"#10B981",strokeWidth:2,name:"Submissions"})]})})]}),a.jsxs(Ot,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Course Performance"}),a.jsx(ma,{width:"100%",height:300,children:a.jsxs(OK,{data:s.coursePerformance,children:[a.jsx(Za,{strokeDasharray:"3 3"}),a.jsx(Qr,{dataKey:"course"}),a.jsx(Jr,{}),a.jsx($t,{}),a.jsx(Kn,{dataKey:"students",fill:"#3B82F6",name:"Students"}),a.jsx(Kn,{dataKey:"avgScore",fill:"#10B981",name:"Avg Score"})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Ot,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pending Grading"}),a.jsx("div",{className:"space-y-4",children:i.length>0?i.map(l=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${l.assignmentType==="essay"?"bg-blue-100":l.assignmentType==="quiz"?"bg-green-100":"bg-purple-100"}`,children:l.assignmentType==="essay"?a.jsx(Tr,{className:"h-5 w-5 text-blue-600"}):l.assignmentType==="quiz"?a.jsx(ct,{className:"h-5 w-5 text-green-600"}):a.jsx(jt,{className:"h-5 w-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:l.assignmentTitle}),a.jsxs("p",{className:"text-sm text-gray-600",children:[l.studentName,"  ",l.courseName]}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(l.submittedAt).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[l.points," pts"]}),a.jsx("button",{onClick:()=>r(l.id),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Review"})]})]},l.id)):a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No pending submissions"})})]}),a.jsxs(Ot,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),a.jsx("div",{className:"space-y-4",children:o.length>0?o.map(l=>a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${l.type==="student-joined"?"bg-green-100":l.type==="assignment-submitted"?"bg-blue-100":l.type==="course-published"?"bg-purple-100":"bg-yellow-100"}`,children:l.type==="student-joined"?a.jsx(Yr,{className:"h-4 w-4 text-green-600"}):l.type==="assignment-submitted"?a.jsx(Tr,{className:"h-4 w-4 text-blue-600"}):l.type==="course-published"?a.jsx(tt,{className:"h-4 w-4 text-purple-600"}):a.jsx(jt,{className:"h-4 w-4 text-yellow-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.title}),a.jsx("p",{className:"text-sm text-gray-600",children:l.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(l.timestamp).toLocaleString()})]})]},l.id)):a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No recent activity"})})]})]})]})},LK=({course:e,onEditCourse:t,onManageLessons:r,onViewAnalytics:n,onTogglePublish:s})=>a.jsxs(Ot,{className:"p-6 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${e.isPublished?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.isPublished?"Published":"Draft"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.studentCount}),a.jsx("p",{className:"text-xs text-gray-600",children:"Students"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.lessonCount}),a.jsx("p",{className:"text-xs text-gray-600",children:"Lessons"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[e.averageScore,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Avg Score"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-600",children:"Course Progress"}),a.jsx("span",{className:"font-medium",children:"75%"})]}),a.jsx(B3,{value:75,className:"h-2"})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]})}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:()=>t(e.id),className:"flex items-center space-x-1 px-3 py-1 text-sm border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:[a.jsx(XS,{className:"h-3 w-3"}),a.jsx("span",{children:"Edit"})]}),a.jsxs("button",{onClick:()=>r(e.id),className:"flex items-center space-x-1 px-3 py-1 text-sm border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:[a.jsx(tt,{className:"h-3 w-3"}),a.jsx("span",{children:"Lessons"})]}),a.jsxs("button",{onClick:()=>n(e.id),className:"flex items-center space-x-1 px-3 py-1 text-sm border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:[a.jsx(Cs,{className:"h-3 w-3"}),a.jsx("span",{children:"Analytics"})]})]}),a.jsxs("button",{onClick:()=>s(e.id,e.isPublished),className:`flex items-center space-x-1 px-3 py-1 text-sm rounded-md ${e.isPublished?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[e.isPublished?a.jsx(Kc,{className:"h-3 w-3"}):a.jsx(Ji,{className:"h-3 w-3"}),a.jsx("span",{children:e.isPublished?"Unpublish":"Publish"})]})]})]}),qK=({assignment:e,onViewSubmissions:t,onEditAssignment:r,onGradeAssignment:n})=>a.jsxs(Ot,{className:"p-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${e.type==="quiz"?"bg-blue-100 text-blue-800":e.type==="assignment"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:e.type})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.courseName}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.submissionCount}),a.jsx("p",{className:"text-xs text-gray-600",children:"Submitted"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-bold text-yellow-600",children:e.pendingCount}),a.jsx("p",{className:"text-xs text-gray-600",children:"Pending"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-lg font-bold text-green-600",children:[e.averageScore,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Avg Score"})]})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]})}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:()=>t(e.id),className:"flex items-center space-x-1 px-3 py-1 text-sm border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:[a.jsx(Qo,{className:"h-3 w-3"}),a.jsx("span",{children:"View"})]}),a.jsxs("button",{onClick:()=>r(e.id),className:"flex items-center space-x-1 px-3 py-1 text-sm border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:[a.jsx(XS,{className:"h-3 w-3"}),a.jsx("span",{children:"Edit"})]})]}),e.pendingCount>0&&a.jsxs("button",{onClick:()=>n(e.id),className:"flex items-center space-x-1 px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[a.jsx(jt,{className:"h-3 w-3"}),a.jsxs("span",{children:["Grade (",e.pendingCount,")"]})]})]})]});function BK(){const e=Xn(),t=Nt(),[r,n]=S.useState([]),[s,i]=S.useState([]),[o,l]=S.useState([]),[c,u]=S.useState(null),[d,f]=S.useState(!0),[h,m]=S.useState(!1),[x,p]=S.useState(null),[g,y]=S.useState(!1),[v,w]=S.useState(!1),[j,b]=S.useState({title:"",description:"",category:""}),[N,_]=S.useState({course_id:"",title:"",description:"",due_date:"",points_possible:100,submission_type:"text"}),[A,O]=S.useState(null),[T,P]=S.useState(null),[C,E]=S.useState(!1),[M,$]=S.useState(null),[q,D]=S.useState([]),[z,V]=S.useState({title:"",content:"",order:0,has_quiz:!1,quiz_pass_score:70,quiz_time_limit:300}),[ee,ae]=S.useState(null),[W,Z]=S.useState(!1),[ce,X]=S.useState(null),[I,B]=S.useState(!1),[J,G]=S.useState(null),[re,R]=S.useState({points:0,feedback:""}),Q=new URLSearchParams(e.search).get("tab")||"overview",ie=[{id:"overview",label:"Overview",count:void 0},{id:"courses",label:"My Courses",count:r.length},{id:"assignments",label:"Assignments",count:s.length},{id:"submissions",label:"Grading",count:o.length},{id:"resources",label:"Resources",count:void 0},{id:"announcements",label:"Announcements",count:void 0}];S.useEffect(()=>{oe()},[]),S.useEffect(()=>{const ne=new URLSearchParams(e.search);Q!=="overview"?ne.set("tab",Q):ne.delete("tab"),t(`${e.pathname}?${ne.toString()}`,{replace:!0})},[Q,t,e.pathname]);async function oe(){try{p(null),f(!0);const{data:{user:ne}}=await U.auth.getUser();if(!ne){t("/login");return}await Promise.allSettled([Se(ne.id),Ie(ne.id),qe(ne.id),nt()])}catch(ne){p(`Failed to load dashboard data: ${ne.message}`)}finally{f(!1),m(!1)}}const de=async()=>{m(!0),await oe()};async function Se(ne){try{const{data:fe}=await U.from("courses").select("*").eq("teacher_id",ne).order("created_at",{ascending:!1});if(fe){const Ce=await Promise.all(fe.map(async je=>{const{data:Ke}=await U.from("lessons").select("id").eq("course_id",je.id),{data:Me}=await U.from("enrollments").select("id").eq("course_id",je.id),{data:Ht}=await U.from("assignments").select("id").eq("course_id",je.id);return{...je,lessonCount:(Ke==null?void 0:Ke.length)||0,studentCount:(Me==null?void 0:Me.length)||0,assignmentCount:(Ht==null?void 0:Ht.length)||0,averageScore:Math.floor(Math.random()*20)+80}}));n(Ce)}}catch(fe){console.error("Error loading courses:",fe)}}async function Ie(ne){try{const{data:fe}=await U.from("assignments").select(`
          *,
          courses (title)
        `).in("course_id",r.map(Ce=>Ce.id)).order("created_at",{ascending:!1});i(fe||[])}catch(fe){console.error("Error loading assignments:",fe)}}async function qe(ne){try{const{data:{user:fe}}=await U.auth.getUser();if(!fe)return;const{data:Ce}=await U.from("courses").select("id").eq("teacher_id",ne);if(Ce&&Ce.length>0){const je=Ce.map(Me=>Me.id),{data:Ke}=await U.from("assignments").select("id, title, course_id").in("course_id",je);if(Ke&&Ke.length>0){const Me=Ke.map(ar=>ar.id),{data:Ht}=await U.from("submissions").select(`
              *,
              assignments (title, course_id),
              profiles (full_name)
            `).in("assignment_id",Me).eq("status","pending").order("submitted_at",{ascending:!1}),Ws=(Ht==null?void 0:Ht.map(ar=>{var ss,Hs;return{id:ar.id,studentName:((ss=ar.profiles)==null?void 0:ss.full_name)||"Unknown Student",assignmentTitle:((Hs=ar.assignments)==null?void 0:Hs.title)||"Unknown Assignment",courseName:"Course",submittedAt:ar.submitted_at,assignmentType:"assignment",points:100}}))||[];l(Ws)}}}catch(fe){console.error("Error loading pending submissions:",fe)}}async function nt(){try{const ne={totalCourses:r.length,totalStudents:r.reduce((fe,Ce)=>fe+Ce.studentCount,0),totalAssignments:s.length,pendingGrades:o.length,averageRating:4.7,studentEngagement:[{date:"2025-11-03",active:45,submissions:32},{date:"2025-11-04",active:52,submissions:28},{date:"2025-11-05",active:38,submissions:35},{date:"2025-11-06",active:61,submissions:42},{date:"2025-11-07",active:55,submissions:38},{date:"2025-11-08",active:48,submissions:29},{date:"2025-11-09",active:63,submissions:45}],coursePerformance:r.map(fe=>({course:fe.title.substring(0,20)+(fe.title.length>20?"...":""),students:fe.studentCount,avgScore:fe.averageScore})),assignmentCompletion:s.slice(0,5).map(fe=>({name:fe.title.substring(0,15)+(fe.title.length>15?"...":""),submitted:Math.floor(Math.random()*20)+10,pending:Math.floor(Math.random()*5)}))};u(ne)}catch(ne){console.error("Error loading analytics:",ne)}}const et=ne=>{O(ne),y(!0)},_t=ne=>{$(ne),E(!0)},Pe=ne=>{t(`/teacher/analytics/${ne}`)},Ir=async(ne,fe)=>{try{const{error:Ce}=await U.from("courses").update({is_published:!fe}).eq("id",ne);if(Ce)throw Ce;const{data:{user:je}}=await U.auth.getUser();je&&await Se(je.id)}catch(Ce){console.error("Error updating course publish status:",Ce)}},vr=ne=>{t(`/teacher/submissions/${ne}`)},le=ne=>{const fe=o.find(Ce=>Ce.id===ne);fe&&(G(fe),B(!0))},he=ne=>{t(`/teacher/assignments/${ne}/submissions`)},Be=ne=>{P(ne),w(!0)},Oe=ne=>{t(`/teacher/assignments/${ne}/grade`)},pe=()=>{if(d&&!c)return a.jsx(Gn,{message:"Loading teacher dashboard...",size:"lg"});if(x)return a.jsx(ui,{title:"Dashboard Error",message:x,onRetry:de});switch(Q){case"overview":return c?a.jsx($K,{data:{analytics:c,pendingSubmissions:o,recentActivity:[]},isLoading:d,onViewSubmission:vr,onGradeSubmission:le}):a.jsx(Gn,{message:"Loading analytics..."});case"courses":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Courses"}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[a.jsx(ny,{className:"h-4 w-4"}),a.jsx("span",{children:"Create Course"})]})})]}),r.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(ne=>a.jsx(LK,{course:ne,onEditCourse:et,onManageLessons:_t,onViewAnalytics:Pe,onTogglePublish:Ir},ne.id))}):a.jsx(Or,{title:"No courses yet",description:"Create your first course to start teaching",action:a.jsx("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create Course"})})]});case"assignments":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Assignments"}),a.jsxs("button",{onClick:()=>w(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[a.jsx(ny,{className:"h-4 w-4"}),a.jsx("span",{children:"Create Assignment"})]})]}),s.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(ne=>{var fe;return a.jsx(qK,{assignment:{id:ne.id,title:ne.title,courseName:((fe=ne.courses)==null?void 0:fe.title)||"Unknown Course",dueDate:ne.due_date||new Date().toISOString(),submissionCount:Math.floor(Math.random()*20)+5,pendingCount:Math.floor(Math.random()*5),averageScore:Math.floor(Math.random()*20)+80,type:"assignment"},onViewSubmissions:he,onEditAssignment:Be,onGradeAssignment:Oe},ne.id)})}):a.jsx(Or,{title:"No assignments yet",description:"Create assignments to assess your students",action:a.jsx("button",{onClick:()=>w(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create Assignment"})})]});case"submissions":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Pending Grading"}),o.length>0?a.jsx("div",{className:"space-y-4",children:o.map(ne=>a.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:ne.assignmentTitle}),a.jsxs("p",{className:"text-gray-600",children:[ne.studentName,"  ",ne.courseName]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Submitted: ",new Date(ne.submittedAt).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[ne.points," points"]}),a.jsx("button",{onClick:()=>le(ne.id),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Grade"})]})]})},ne.id))}):a.jsx(Or,{title:"No pending submissions",description:"All submissions have been graded",icon:a.jsx(jt,{className:"h-12 w-12 text-gray-400"})})]});case"resources":return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Course Resources"}),a.jsx(Or,{title:"No resources yet",description:"Upload and organize your course materials",icon:a.jsx(Zi,{className:"h-12 w-12 text-gray-400"})})]});case"announcements":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Announcements"}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[a.jsx(ua,{className:"h-4 w-4"}),a.jsx("span",{children:"New Announcement"})]})]}),a.jsx(Or,{title:"No announcements yet",description:"Create announcements to communicate with your students",icon:a.jsx(ua,{className:"h-12 w-12 text-gray-400"})})]});default:return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Tab not found"}),a.jsx("p",{className:"text-gray-600",children:"The selected tab does not exist."})]})}};return a.jsx(di,{children:a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx(Hx,{title:"Teacher Dashboard",description:"Manage your courses, assignments, and student progress",breadcrumbs:[{label:"Teacher"},{label:"Dashboard"}],actions:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:de,disabled:h,className:"flex items-center space-x-2 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 disabled:opacity-50",children:[a.jsx(Vt,{className:`h-4 w-4 ${h?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[a.jsx(ln,{className:"h-4 w-4"}),a.jsx("span",{children:"Export"})]})]})}),a.jsx(Gx,{items:ie,activeTab:Q,onTabChange:ne=>{const fe=new URLSearchParams(e.search);ne!=="overview"?fe.set("tab",ne):fe.delete("tab"),t(`${e.pathname}?${fe.toString()}`)}}),a.jsx("div",{className:"mt-6",children:pe()})]})})}const FK=({onAction:e})=>{const[t,r]=S.useState([]),[n,s]=S.useState([]),[i,o]=S.useState(!0),[l,c]=S.useState(null),[u,d]=S.useState(null),[f,h]=S.useState({search:"",role:"all",status:"all"}),[m,x]=S.useState(!1),[p,g]=S.useState({limit:50,offset:0,total:0}),[y,v]=S.useState(!1),[w,j]=S.useState(!1),[b,N]=S.useState(!1),[_,A]=S.useState(!1),[O,T]=S.useState(null),[P,C]=S.useState("active"),[E,M]=S.useState(!1),[$,q]=S.useState({email:"",full_name:"",role:"student",status:"active",password:""}),[D,z]=S.useState({type:"update_role",data:{}}),V=S.useCallback(async()=>{try{o(!0),c(null);let R=U.from("profiles").select("*",{count:"exact"}).order("created_at",{ascending:!1});if(f.role!=="all"&&(R=R.eq("role",f.role)),f.search&&(R=R.or(`full_name.ilike.%${f.search}%,email.ilike.%${f.search}%`)),f.status!=="all")try{R=R.eq("status",f.status)}catch(de){c("Note: Status column not found in database. Please run the migration to enable status filtering."),console.warn("Status column not found, ignoring status filter:",de)}R=R.range(p.offset,p.offset+p.limit-1);const{data:L,error:Q,count:ie}=await R;if(Q)throw new Error(Q.message);const oe=(L||[]).map(de=>({...de,status:de.status||"active"}));r(oe),g(de=>({...de,total:ie||0}))}catch(R){c(R.message),console.error("Error loading users:",R)}finally{o(!1)}},[f,p.offset,p.limit]);S.useEffect(()=>{V()},[V]);const ee=async R=>{try{if(o(!0),c(null),!R.email||!R.full_name||!R.password)throw new Error("Email, full name, and password are required");const{data:L,error:Q}=await U.functions.invoke("admin-manage-users",{body:{action:"create_user",userData:{email:R.email,password:R.password,full_name:R.full_name,role:R.role,status:R.status}}});if(Q)throw new Error(Q.message);d("User created successfully!"),v(!1),q({email:"",full_name:"",role:"student",status:"active",password:""}),V(),e==null||e("user_created")}catch(L){c(L.message),console.error("Error creating user:",L)}finally{o(!1)}},ae=async(R,L)=>{try{o(!0),c(null);const{error:Q}=await U.functions.invoke("admin-manage-users",{body:{action:"update_user",userId:R,updates:L}});if(Q)throw new Error(Q.message);d("User updated successfully!"),j(!1),T(null),V(),e==null||e("user_updated",R,L)}catch(Q){c(Q.message),console.error("Error updating user:",Q)}finally{o(!1)}},W=async R=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{o(!0),c(null);const{error:L}=await U.functions.invoke("admin-manage-users",{body:{action:"delete_user",userId:R}});if(L)throw new Error(L.message);d("User deleted successfully!"),V(),e==null||e("user_deleted",R)}catch(L){c(L.message),console.error("Error deleting user:",L)}finally{o(!1)}},Z=async(R,L)=>{try{o(!0),c(null);const{error:Q}=await U.functions.invoke("admin-manage-users",{body:{action:"update_status",userId:R,status:L}});if(Q)throw new Error(Q.message);d("User status updated successfully!"),N(!1),T(null),V(),e==null||e("user_status_updated",R,{status:L})}catch(Q){c(Q.message),console.error("Error updating user status:",Q)}finally{o(!1)}},ce=async()=>{if(n.length===0){c("Please select users for bulk operation");return}try{o(!0),c(null);const{error:R}=await U.functions.invoke("admin-manage-users",{body:{action:"bulk_update",userIds:n,operation:D}});if(R)throw new Error(R.message);d(`Bulk ${D.type} completed successfully!`),A(!1),s([]),z({type:"update_role",data:{}}),V(),e==null||e("bulk_operation_completed",void 0,{operation,userIds})}catch(R){c(R.message),console.error("Error performing bulk operation:",R)}finally{o(!1)}},X=(R,L)=>{s(L?[...n,R]:n.filter(Q=>Q!==R))},I=R=>{s(R?t.map(L=>L.id):[])},B=R=>{h(L=>({...L,search:R})),g(L=>({...L,offset:0}))},J=(R,L)=>{h(Q=>({...Q,[R]:L})),g(Q=>({...Q,offset:0}))},G=R=>{switch(R){case"admin":return"bg-red-100 text-red-800";case"teacher":return"bg-purple-100 text-purple-800";case"student":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},re=R=>{switch(R){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"User Management"}),a.jsx("p",{className:"text-slate-600",children:"Manage user accounts, roles, and permissions"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>A(!0),disabled:n.length===0,className:"px-4 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Bulk Operations (",n.length,")"]}),a.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 flex items-center space-x-2",children:[a.jsx(cx,{className:"h-4 w-4"}),a.jsx("span",{children:"Add User"})]})]})]}),u&&a.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ct,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-green-800",children:u}),a.jsx("button",{onClick:()=>d(null),className:"ml-auto text-green-600 hover:text-green-700",children:a.jsx(on,{className:"h-4 w-4"})})]})}),l&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ka,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"text-red-800",children:l}),a.jsx("button",{onClick:()=>c(null),className:"ml-auto text-red-600 hover:text-red-700",children:a.jsx(on,{className:"h-4 w-4"})})]})}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(ii,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:f.search,onChange:R=>B(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),a.jsxs("button",{onClick:()=>x(!m),className:`px-4 py-2 border rounded-lg flex items-center space-x-2 ${m?"border-orange-500 bg-orange-50 text-orange-700":"border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:[a.jsx(HS,{className:"h-4 w-4"}),a.jsx("span",{children:"Filters"})]}),a.jsx("button",{onClick:V,disabled:i,className:"px-4 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:a.jsx(Vt,{className:`h-4 w-4 ${i?"animate-spin":""}`})})]}),m&&a.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),a.jsxs("select",{value:f.role,onChange:R=>J("role",R.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"all",children:"All Roles"}),a.jsx("option",{value:"student",children:"Student"}),a.jsx("option",{value:"teacher",children:"Teacher"}),a.jsx("option",{value:"admin",children:"Admin"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),a.jsxs("select",{value:f.status,onChange:R=>J("status",R.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})})]}),a.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:a.jsx("input",{type:"checkbox",checked:n.length===t.length&&t.length>0,onChange:R=>I(R.target.checked),className:"rounded border-slate-300 text-orange-600 focus:ring-orange-500"})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Joined"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:i?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-600"}),a.jsx("span",{className:"text-slate-600",children:"Loading users..."})]})})}):t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-500",children:"No users found"})}):t.map(R=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("input",{type:"checkbox",checked:n.includes(R.id),onChange:L=>X(R.id,L.target.checked),className:"rounded border-slate-300 text-orange-600 focus:ring-orange-500"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-medium",children:R.full_name.charAt(0).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-slate-900",children:R.full_name}),a.jsx("div",{className:"text-sm text-slate-500",children:R.email})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${G(R.role)}`,children:R.role})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${re(R.status)}`,children:R.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:new Date(R.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>{T(R),N(!0)},className:"text-blue-600 hover:text-blue-700 p-1 hover:bg-blue-50 rounded",title:"Change Status",children:a.jsx(eT,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>{T(R),q({email:R.email,full_name:R.full_name,role:R.role,status:R.status,password:""}),j(!0)},className:"text-orange-600 hover:text-orange-700 p-1 hover:bg-orange-50 rounded",title:"Edit User",children:a.jsx(to,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>W(R.id),className:"text-red-600 hover:text-red-700 p-1 hover:bg-red-50 rounded",title:"Delete User",children:a.jsx(xn,{className:"h-4 w-4"})})]})})]},R.id))})]})})}),p.total>p.limit&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",p.offset+1," to ",Math.min(p.offset+p.limit,p.total)," of ",p.total," users"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>g(R=>({...R,offset:Math.max(0,R.offset-R.limit)})),disabled:p.offset===0,className:"px-3 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsx("button",{onClick:()=>g(R=>({...R,offset:R.offset+R.limit<R.total?R.offset+R.limit:R.offset})),disabled:p.offset+p.limit>=p.total,className:"px-3 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Create New User"}),a.jsxs("form",{onSubmit:R=>{R.preventDefault(),ee($)},className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name *"}),a.jsx("input",{type:"text",required:!0,value:$.full_name,onChange:R=>q(L=>({...L,full_name:R.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email *"}),a.jsx("input",{type:"email",required:!0,value:$.email,onChange:R=>q(L=>({...L,email:R.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:E?"text":"password",required:!0,value:$.password,onChange:R=>q(L=>({...L,password:R.target.value})),className:"w-full px-3 py-2 pr-10 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"}),a.jsx("button",{type:"button",onClick:()=>M(!E),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:E?a.jsx(Kc,{className:"h-4 w-4"}):a.jsx(Qo,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),a.jsxs("select",{value:$.role,onChange:R=>q(L=>({...L,role:R.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"student",children:"Student"}),a.jsx("option",{value:"teacher",children:"Teacher"}),a.jsx("option",{value:"admin",children:"Admin"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),a.jsxs("select",{value:$.status,onChange:R=>q(L=>({...L,status:R.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"suspended",children:"Suspended"})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50",children:i?"Creating...":"Create User"})]})]})]})})}),w&&O&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Edit User"}),a.jsxs("form",{onSubmit:R=>{R.preventDefault(),ae(O.id,$)},className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",value:$.full_name,onChange:R=>q(L=>({...L,full_name:R.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:$.email,onChange:R=>q(L=>({...L,email:R.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),a.jsxs("select",{value:$.role,onChange:R=>q(L=>({...L,role:R.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"student",children:"Student"}),a.jsx("option",{value:"teacher",children:"Teacher"}),a.jsx("option",{value:"admin",children:"Admin"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),a.jsxs("select",{value:$.status,onChange:R=>q(L=>({...L,status:R.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"suspended",children:"Suspended"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50",children:i?"Updating...":"Update User"})]})]})]})})}),b&&O&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Change User Status"}),a.jsxs("p",{className:"text-slate-600 mb-4",children:["Change status for: ",a.jsx("strong",{children:O.full_name})]}),a.jsx("div",{className:"space-y-3",children:["active","inactive","suspended"].map(R=>a.jsxs("button",{onClick:()=>Z(O.id,R),disabled:i,className:`w-full px-4 py-3 border rounded-lg text-left transition-colors ${O.status===R?"border-orange-500 bg-orange-50 text-orange-700":"border-slate-300 hover:bg-slate-50"}`,children:[a.jsx("div",{className:"font-medium capitalize",children:R}),a.jsxs("div",{className:"text-sm text-slate-500",children:[R==="active"&&"User can log in and access all features",R==="inactive"&&"User cannot log in but data is preserved",R==="suspended"&&"User account is temporarily disabled"]})]},R))}),a.jsx("div",{className:"mt-6 flex items-center justify-end space-x-3",children:a.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50",children:"Cancel"})})]})})}),_&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Bulk Operations"}),a.jsxs("p",{className:"text-slate-600 mb-4",children:["Perform bulk operations on ",n.length," selected users"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Operation Type"}),a.jsxs("select",{value:D.type,onChange:R=>z(L=>({...L,type:R.target.value,data:{}})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"update_role",children:"Update Role"}),a.jsx("option",{value:"update_status",children:"Update Status"})]})]}),D.type==="update_role"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"New Role"}),a.jsxs("select",{value:D.data.role||"",onChange:R=>z(L=>({...L,data:{...L.data,role:R.target.value}})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"",children:"Select role..."}),a.jsx("option",{value:"student",children:"Student"}),a.jsx("option",{value:"teacher",children:"Teacher"}),a.jsx("option",{value:"admin",children:"Admin"})]})]}),D.type==="update_status"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"New Status"}),a.jsxs("select",{value:D.data.status||"",onChange:R=>z(L=>({...L,data:{...L.data,status:R.target.value}})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"",children:"Select status..."}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"suspended",children:"Suspended"})]})]})]}),a.jsxs("div",{className:"mt-6 flex items-center justify-end space-x-3",children:[a.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50",children:"Cancel"}),a.jsx("button",{onClick:ce,disabled:i||D.type==="update_role"&&!D.data.role||D.type==="update_status"&&!D.data.status,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50",children:i?"Processing...":"Apply"})]})]})})})]})},sp={lesson_questions:"Lesson Questions",questions:"Quiz Questions",lesson_quizzes:"Lesson Quizzes",quizzes:"General Quizzes"},ap=[{value:"multiple_choice",label:"Multiple Choice"},{value:"true_false",label:"True/False"},{value:"short_answer",label:"Short Answer"}],ip=[{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}],zK=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[s,i]=S.useState(!0),[o,l]=S.useState(null),[c,u]=S.useState(null),[d,f]=S.useState({tableName:"all",category:"",question_type:"",difficulty:"",search:"",lesson_id:"",quiz_id:""}),[h,m]=S.useState(!1),[x,p]=S.useState({limit:50,offset:0,total:0}),[g,y]=S.useState(!1),[v,w]=S.useState(!1),[j,b]=S.useState(!1),[N,_]=S.useState(!1),[A,O]=S.useState(null),[T,P]=S.useState(""),[C,E]=S.useState({question_text:"",question_type:"multiple_choice",options:"",correct_answer:"",points:1,difficulty:"medium",category:""}),[M,$]=S.useState({tableName:"",type:"update_category",data:{}});S.useEffect(()=>{q()},[d,x]);const q=async()=>{try{if(i(!0),d.tableName==="all"){const I=await U.functions.invoke("admin-question-management",{body:{action:"get_questions",filters:{...d,limit:x.limit,offset:x.offset}}});if(I.error)throw new Error(I.error.message);t(I.data.data||[]),p(B=>({...B,total:(I.data.data||[]).reduce((J,G)=>J+G.questions.length,0)}))}else{const I=await U.functions.invoke("admin-question-management",{body:{action:"get_questions",tableName:d.tableName,filters:{...Object.fromEntries(Object.entries(d).filter(([B])=>B!=="tableName")),limit:x.limit,offset:x.offset}}});if(I.error)throw new Error(I.error.message);t([{table:d.tableName,questions:I.data.data||[]}]),p(B=>{var J;return{...B,total:((J=I.data.data)==null?void 0:J.length)||0}})}}catch(I){l(I.message)}finally{i(!1)}},D=async I=>{if(!T){l("Please select a table for the question");return}try{i(!0);const B=await U.functions.invoke("admin-question-management",{body:{action:"create_question",tableName:T,updates:I}});if(B.error)throw new Error(B.error.message);u("Question created successfully!"),y(!1),E({question_text:"",question_type:"multiple_choice",options:"",correct_answer:"",points:1,difficulty:"medium",category:""}),q()}catch(B){l(B.message)}finally{i(!1)}},z=async(I,B)=>{try{i(!0);const J=await U.functions.invoke("admin-question-management",{body:{action:"update_question",questionId:I,tableName:T,updates:B}});if(J.error)throw new Error(J.error.message);u("Question updated successfully!"),w(!1),O(null),q()}catch(J){l(J.message)}finally{i(!1)}},V=async(I,B)=>{if(confirm("Are you sure you want to delete this question? This action cannot be undone."))try{i(!0);const J=await U.functions.invoke("admin-question-management",{body:{action:"delete_question",questionId:I,tableName:B}});if(J.error)throw new Error(J.error.message);u("Question deleted successfully!"),q()}catch(J){l(J.message)}finally{i(!1)}},ee=async(I,B)=>{try{i(!0);const J=await U.functions.invoke("admin-question-management",{body:{action:"duplicate_question",questionId:I,tableName:B}});if(J.error)throw new Error(J.error.message);u("Question duplicated successfully!"),q()}catch(J){l(J.message)}finally{i(!1)}},ae=async()=>{if(r.length===0){l("Please select questions for bulk deletion");return}if(confirm(`Are you sure you want to delete ${r.length} question(s)? This action cannot be undone.`))try{i(!0);const I=r.reduce((B,J)=>(B[J.table]||(B[J.table]=[]),B[J.table].push(J.questionId),B),{});for(const[B,J]of Object.entries(I)){const G=await U.functions.invoke("admin-question-management",{body:{action:"bulk_delete_questions",tableName:B,updates:{questionIds:J}}});G.error&&console.error(`Error deleting from ${B}:`,G.error.message)}u("Bulk deletion completed!"),n([]),q()}catch(I){l(I.message)}finally{i(!1)}},W=(I,B,J)=>{const G={table:I,questionId:B};n(J?[...r,G]:r.filter(re=>!(re.table===I&&re.questionId===B)))},Z=(I,B,J)=>{if(J){const G=B.map(re=>({table:I,questionId:re.id}));n(re=>[...re,...G])}else n(G=>G.filter(re=>re.table!==I))},ce=I=>{switch(I){case"easy":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"hard":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},X=I=>{switch(I){case"multiple_choice":return"text-blue-600 bg-blue-100";case"true_false":return"text-purple-600 bg-purple-100";case"short_answer":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}};return S.useEffect(()=>{if(o||c){const I=setTimeout(()=>{l(null),u(null)},5e3);return()=>clearTimeout(I)}},[o,c]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(qi,{className:"h-7 w-7 text-orange-600"}),"Question Management"]}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Manage questions across all quiz and lesson systems"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>_(!0),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 flex items-center gap-2",children:[a.jsx(fp,{className:"h-4 w-4"}),"Import"]}),a.jsxs("button",{onClick:()=>{const I=e.flatMap(re=>re.questions.map(R=>({table:re.table,...R}))),B=new Blob([JSON.stringify(I,null,2)],{type:"application/json"}),J=URL.createObjectURL(B),G=document.createElement("a");G.href=J,G.download=`questions-export-${new Date().toISOString().split("T")[0]}.json`,G.click()},className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 flex items-center gap-2",children:[a.jsx(ln,{className:"h-4 w-4"}),"Export"]}),a.jsxs("button",{onClick:ae,disabled:r.length===0||s,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[a.jsx(xn,{className:"h-4 w-4"}),"Bulk Delete (",r.length,")"]}),a.jsxs("button",{onClick:()=>{P(""),E({question_text:"",question_type:"multiple_choice",options:"",correct_answer:"",points:1,difficulty:"medium",category:""}),y(!0)},className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 flex items-center gap-2",children:[a.jsx(lx,{className:"h-4 w-4"}),"Add Question"]}),a.jsxs("button",{onClick:q,disabled:s,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 flex items-center gap-2",children:[a.jsx(Vt,{className:`h-4 w-4 ${s?"animate-spin":""}`}),"Refresh"]})]})]}),o&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[a.jsx(ka,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"text-red-800",children:o})]}),c&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[a.jsx(ct,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-green-800",children:c})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(ii,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search questions...",value:d.search,onChange:I=>f(B=>({...B,search:I.target.value})),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:d.tableName,onChange:I=>f(B=>({...B,tableName:I.target.value})),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"all",children:"All Tables"}),Object.entries(sp).map(([I,B])=>a.jsx("option",{value:I,children:B},I))]}),a.jsxs("select",{value:d.question_type,onChange:I=>f(B=>({...B,question_type:I.target.value})),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"",children:"All Types"}),ap.map(I=>a.jsx("option",{value:I.value,children:I.label},I.value))]}),a.jsxs("select",{value:d.difficulty,onChange:I=>f(B=>({...B,difficulty:I.target.value})),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"",children:"All Difficulties"}),ip.map(I=>a.jsx("option",{value:I.value,children:I.label},I.value))]})]})]}),r.length>0&&a.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-blue-800 font-medium",children:[r.length," question",r.length!==1?"s":""," selected"]}),a.jsx("button",{onClick:()=>n([]),className:"text-blue-600 hover:text-blue-700 text-sm",children:"Clear selection"})]})})]})}),a.jsx("div",{className:"space-y-6",children:s?a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Vt,{className:"h-6 w-6 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-slate-600",children:"Loading questions..."})]})}):e.length===0?a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-8 text-center",children:[a.jsx(qi,{className:"h-12 w-12 text-slate-300 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-500",children:"No questions found"}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters"})]}):e.map(I=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[a.jsx("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ix,{className:"h-5 w-5 text-slate-600"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:sp[I.table]}),a.jsx("span",{className:"bg-slate-200 text-slate-700 px-2 py-1 rounded-full text-xs font-medium",children:I.questions.length})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:I.questions.length>0&&I.questions.every(B=>r.some(J=>J.table===I.table&&J.questionId===B.id)),onChange:B=>Z(I.table,I.questions,B.target.checked),className:"rounded border-slate-300 text-orange-600 focus:ring-orange-500"}),a.jsx("span",{className:"text-sm text-slate-600",children:"Select All"})]})]})}),I.questions.length===0?a.jsxs("div",{className:"p-8 text-center text-slate-500",children:[a.jsx(qi,{className:"h-8 w-8 text-slate-300 mx-auto mb-2"}),a.jsx("p",{children:"No questions in this table"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Select"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:I.table.includes("quiz")?"Title/Question":"Question"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Difficulty"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Points"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:I.questions.map(B=>{var G;const J=r.some(re=>re.table===I.table&&re.questionId===B.id);return a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("input",{type:"checkbox",checked:J,onChange:re=>W(I.table,B.id,re.target.checked),className:"rounded border-slate-300 text-orange-600 focus:ring-orange-500"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm",children:B.title||B.question_text?a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium text-slate-900 line-clamp-2",children:[B.title||((G=B.question_text)==null?void 0:G.substring(0,100)),(B.title||B.question_text||"").length>100&&"..."]}),B.description&&a.jsx("div",{className:"text-slate-500 text-xs mt-1 line-clamp-1",children:B.description})]}):a.jsx("span",{className:"text-slate-400 italic",children:"No text content"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.question_type&&a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${X(B.question_type)}`,children:B.question_type.replace("_"," ")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.difficulty&&a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ce(B.difficulty)}`,children:B.difficulty})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ZC,{className:"h-3 w-3 text-slate-400"}),a.jsx("span",{className:"text-sm text-slate-600",children:B.category||"None"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Vn,{className:"h-3 w-3 text-slate-400"}),a.jsx("span",{className:"text-sm text-slate-600",children:B.points||0})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ax,{className:"h-3 w-3"}),new Date(B.created_at).toLocaleDateString()]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx("button",{onClick:()=>{O(B),P(I.table),E({question_text:B.question_text||"",question_type:B.question_type||"multiple_choice",options:B.options?JSON.stringify(B.options,null,2):"",correct_answer:B.correct_answer||"",points:B.points||1,difficulty:B.difficulty||"medium",category:B.category||"",title:B.title||"",description:B.description||""}),w(!0)},className:"text-blue-600 hover:text-blue-700 p-2 hover:bg-blue-50 rounded-lg",title:"Edit Question",children:a.jsx(to,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>ee(B.id,I.table),className:"text-green-600 hover:text-green-700 p-2 hover:bg-green-50 rounded-lg",title:"Duplicate Question",children:a.jsx(WS,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>V(B.id,I.table),className:"text-red-600 hover:text-red-700 p-2 hover:bg-red-50 rounded-lg",title:"Delete Question",children:a.jsx(xn,{className:"h-4 w-4"})})]})})]},B.id)})})]})})]},I.table))}),g&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Create New Question"}),a.jsxs("form",{onSubmit:I=>{I.preventDefault(),D(C)},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Table *"}),a.jsxs("select",{required:!0,value:T,onChange:I=>P(I.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"",children:"Select Table"}),Object.entries(sp).map(([I,B])=>a.jsx("option",{value:I,children:B},I))]})]}),(T==="lesson_questions"||T==="questions")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Question Text *"}),a.jsx("textarea",{required:!0,rows:3,value:C.question_text,onChange:I=>E(B=>({...B,question_text:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(T==="lesson_quizzes"||T==="quizzes")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Title *"}),a.jsx("input",{type:"text",required:!0,value:C.title,onChange:I=>E(B=>({...B,title:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{rows:2,value:C.description,onChange:I=>E(B=>({...B,description:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]}),(T==="lesson_questions"||T==="questions")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Question Type"}),a.jsx("select",{value:C.question_type,onChange:I=>E(B=>({...B,question_type:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:ap.map(I=>a.jsx("option",{value:I.value,children:I.label},I.value))})]}),C.question_type==="multiple_choice"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Options (JSON format)"}),a.jsx("textarea",{rows:4,value:C.options,onChange:I=>E(B=>({...B,options:I.target.value})),placeholder:'["Option 1", "Option 2", "Option 3", "Option 4"]',className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 font-mono text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Correct Answer"}),a.jsx("input",{type:"text",value:C.correct_answer,onChange:I=>E(B=>({...B,correct_answer:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Points"}),a.jsx("input",{type:"number",min:"1",value:C.points,onChange:I=>E(B=>({...B,points:parseInt(I.target.value)||1})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Difficulty"}),a.jsx("select",{value:C.difficulty,onChange:I=>E(B=>({...B,difficulty:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:ip.map(I=>a.jsx("option",{value:I.value,children:I.label},I.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),a.jsx("input",{type:"text",value:C.category,onChange:I=>E(B=>({...B,category:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>y(!1),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[a.jsx(dp,{className:"h-4 w-4"}),"Create Question"]})]})]})]})})}),v&&A&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Edit Question"}),a.jsxs("form",{onSubmit:I=>{I.preventDefault(),z(A.id,C)},className:"space-y-4",children:[(T==="lesson_questions"||T==="questions")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Question Text *"}),a.jsx("textarea",{required:!0,rows:3,value:C.question_text,onChange:I=>E(B=>({...B,question_text:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Question Type"}),a.jsx("select",{value:C.question_type,onChange:I=>E(B=>({...B,question_type:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:ap.map(I=>a.jsx("option",{value:I.value,children:I.label},I.value))})]}),C.question_type==="multiple_choice"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Options (JSON format)"}),a.jsx("textarea",{rows:4,value:C.options,onChange:I=>E(B=>({...B,options:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500 font-mono text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Correct Answer"}),a.jsx("input",{type:"text",value:C.correct_answer,onChange:I=>E(B=>({...B,correct_answer:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Points"}),a.jsx("input",{type:"number",min:"1",value:C.points,onChange:I=>E(B=>({...B,points:parseInt(I.target.value)||1})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Difficulty"}),a.jsx("select",{value:C.difficulty,onChange:I=>E(B=>({...B,difficulty:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:ip.map(I=>a.jsx("option",{value:I.value,children:I.label},I.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),a.jsx("input",{type:"text",value:C.category,onChange:I=>E(B=>({...B,category:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]}),(T==="lesson_quizzes"||T==="quizzes")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Title *"}),a.jsx("input",{type:"text",required:!0,value:C.title,onChange:I=>E(B=>({...B,title:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{rows:2,value:C.description,onChange:I=>E(B=>({...B,description:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>w(!1),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[a.jsx(dp,{className:"h-4 w-4"}),"Update Question"]})]})]})]})})}),N&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Import Questions"}),a.jsxs("div",{className:"text-center py-8",children:[a.jsx(fp,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 mb-4",children:"Import questions from JSON file"}),a.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"File format should match the export format"}),a.jsx("button",{onClick:()=>{l("Import functionality coming soon"),_(!1)},className:"px-6 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Choose File"})]})]})})})]})},UK=()=>{const[e,t]=S.useState(null),[r,n]=S.useState(!0),[s,i]=S.useState(null),[o,l]=S.useState("month");S.useEffect(()=>{c()},[o]);const c=async()=>{try{n(!0),i(null);const f=new Date,h=new Date;switch(o){case"today":h.setHours(0,0,0,0);break;case"week":h.setDate(f.getDate()-7);break;case"month":h.setMonth(f.getMonth()-1);break;case"year":h.setFullYear(f.getFullYear()-1);break}const{data:m,count:x}=await U.from("profiles").select("*",{count:"exact"}),p={},g={},y=(m==null?void 0:m.filter(E=>new Date(E.created_at)>=h).length)||0;m==null||m.forEach(E=>{p[E.role]=(p[E.role]||0)+1,g[E.status]=(g[E.status]||0)+1});const{data:v,count:w}=await U.from("questions").select("*",{count:"exact"}),j={},b=(v==null?void 0:v.filter(E=>new Date(E.created_at)>=h).length)||0;v==null||v.forEach(E=>{j[E.type]=(j[E.type]||0)+1});const{data:N,count:_}=await U.from("courses").select("*",{count:"exact"}),A=(N==null?void 0:N.filter(E=>new Date(E.created_at)>=h).length)||0,{data:O,count:T}=await U.from("enrollments").select("*",{count:"exact"}),P={};for(let E=6;E>=0;E--){const M=new Date;M.setDate(M.getDate()-E);const $=M.toISOString().split("T")[0];let q=0;m&&(q+=m.filter(D=>D.created_at&&D.created_at.startsWith($)).length),O&&(q+=O.filter(D=>D.created_at&&D.created_at.startsWith($)).length),P[$]=q}const C={period:o,users:{total:x||0,byRole:p,byStatus:g,newUsers:y,activeUsers:g.active||0},questions:{total:w||0,byType:j,newQuestions:b},activities:{totalActivities:y+b+A||0,byType:{registrations:y,new_questions:b,new_courses:A},dailyActivity:P},courses:{total:_||0,newCourses:A},enrollments:{totalEnrollments:T||0,dailyEnrollments:{}},generatedAt:f.toISOString()};t(C)}catch(f){i(f.message)}finally{n(!1)}},u=()=>{if(!e)return;const f=JSON.stringify(e,null,2),h="data:application/json;charset=utf-8,"+encodeURIComponent(f),m=`analytics-${o}-${new Date().toISOString().split("T")[0]}.json`,x=document.createElement("a");x.setAttribute("href",h),x.setAttribute("download",m),x.click()},d=f=>new Intl.NumberFormat().format(f);return r?a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Vt,{className:"h-6 w-6 animate-spin text-orange-600"}),a.jsx("span",{className:"ml-2 text-slate-600",children:"Loading analytics..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Cs,{className:"h-7 w-7 text-orange-600"}),"Platform Analytics"]}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Comprehensive insights and performance metrics"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:o,onChange:f=>l(f.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]}),a.jsxs("button",{onClick:u,disabled:!e,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 flex items-center gap-2",children:[a.jsx(ln,{className:"h-4 w-4"}),"Export"]}),a.jsxs("button",{onClick:c,disabled:r,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 flex items-center gap-2",children:[a.jsx(Vt,{className:`h-4 w-4 ${r?"animate-spin":""}`}),"Refresh"]})]})]}),s&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[a.jsx(ka,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"text-red-800",children:s})]}),e&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Users"}),a.jsx("p",{className:"text-3xl font-bold text-slate-800",children:d(e.users.total)}),a.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["+",d(e.users.newUsers)," new this ",o]})]}),a.jsx(Yr,{className:"h-10 w-10 text-slate-600 opacity-70"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Questions"}),a.jsx("p",{className:"text-3xl font-bold text-slate-800",children:d(e.questions.total)}),a.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["+",d(e.questions.newQuestions)," new this ",o]})]}),a.jsx(qi,{className:"h-10 w-10 text-slate-600 opacity-70"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Active Users"}),a.jsx("p",{className:"text-3xl font-bold text-slate-800",children:d(e.users.activeUsers)}),a.jsxs("p",{className:"text-sm text-purple-600 mt-1",children:[(e.users.activeUsers/e.users.total*100).toFixed(1),"% of total"]})]}),a.jsx(_a,{className:"h-10 w-10 text-slate-600 opacity-70"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Courses"}),a.jsx("p",{className:"text-3xl font-bold text-slate-800",children:d(e.courses.total)}),a.jsxs("p",{className:"text-sm text-orange-600 mt-1",children:["+",d(e.courses.newCourses)," new this ",o]})]}),a.jsx(tt,{className:"h-10 w-10 text-slate-600 opacity-70"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(Yr,{className:"h-5 w-5"}),"User Distribution by Role"]}),a.jsx("div",{className:"space-y-4",children:Object.entries(e.users.byRole).map(([f,h])=>{const m=(h/e.users.total*100).toFixed(1),x={admin:"bg-orange-500",teacher:"bg-blue-500",student:"bg-green-500"};return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${x[f]||"bg-gray-500"}`}),a.jsx("span",{className:"capitalize font-medium",children:f})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm text-slate-600",children:d(h)}),a.jsxs("span",{className:"text-sm font-medium",children:[m,"%"]})]})]},f)})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(qi,{className:"h-5 w-5"}),"Question Types"]}),a.jsx("div",{className:"space-y-4",children:Object.entries(e.questions.byType).map(([f,h])=>{const m=(h/e.questions.total*100).toFixed(1),x={multiple_choice:"bg-blue-500",true_false:"bg-purple-500",short_answer:"bg-orange-500"};return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${x[f]||"bg-gray-500"}`}),a.jsx("span",{className:"capitalize",children:f.replace("_"," ")})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm text-slate-600",children:d(h)}),a.jsxs("span",{className:"text-sm font-medium",children:[m,"%"]})]})]},f)})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(_a,{className:"h-5 w-5"}),"Activity Breakdown"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:d(e.activities.totalActivities)}),a.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"Total Activities"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:d(e.enrollments.totalEnrollments)}),a.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"Total Enrollments"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[(e.users.activeUsers/e.users.total*100).toFixed(1),"%"]}),a.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"Active User Rate"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(nr,{className:"h-5 w-5"}),"Recent Activity (",o,")"]}),a.jsx("div",{className:"space-y-3",children:Object.entries(e.activities.dailyActivity).slice(0,7).sort(([f],[h])=>h.localeCompare(f)).map(([f,h])=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 last:border-b-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ax,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{className:"text-sm font-medium",children:new Date(f).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-slate-600",children:[d(h)," activities"]}),a.jsx("div",{className:"w-16 bg-slate-200 rounded-full h-2",children:a.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${Math.min(h/Math.max(...Object.values(e.activities.dailyActivity))*100,100)}%`}})})]})]},f))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(ix,{className:"h-5 w-5"}),"System Health"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-800",children:"Database"}),a.jsx("p",{className:"text-sm text-green-600",children:"Healthy"})]}),a.jsx(ct,{className:"h-6 w-6 text-green-600"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-800",children:"Edge Functions"}),a.jsx("p",{className:"text-sm text-green-600",children:"Operational"})]}),a.jsx(ux,{className:"h-6 w-6 text-green-600"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-blue-800",children:"Storage"}),a.jsx("p",{className:"text-sm text-blue-600",children:"45% Used"})]}),a.jsx(Vn,{className:"h-6 w-6 text-blue-600"})]})]})]}),a.jsx("div",{className:"text-center text-sm text-slate-500",children:a.jsxs("p",{children:["Last updated: ",new Date(e.generatedAt).toLocaleString()]})})]}),!e&&!r&&!s&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-8 text-center",children:[a.jsx(Cs,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-500",children:"No analytics data available"}),a.jsx("p",{className:"text-sm",children:"Click refresh to load analytics"})]})]})},ES=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"],VK=({data:e,isLoading:t,error:r})=>t?a.jsx(Gn,{message:"Loading admin metrics...",size:"lg"}):r?a.jsx(ui,{message:r,onRetry:()=>window.location.reload()}):e?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(hr,{title:"Total Users",value:e.totalUsers,change:{value:12,type:"increase"},icon:a.jsx(Yr,{className:"h-6 w-6"})}),a.jsx(hr,{title:"Active Courses",value:e.totalCourses,change:{value:8,type:"increase"},icon:a.jsx(tt,{className:"h-6 w-6"})}),a.jsx(hr,{title:"Total Enrollments",value:e.totalEnrollments,change:{value:15,type:"increase"},icon:a.jsx(no,{className:"h-6 w-6"})}),a.jsx(hr,{title:"Active Users",value:e.activeUsers,change:{value:5,type:"increase"},icon:a.jsx(_a,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Ot,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Growth"}),a.jsxs("select",{className:"text-sm border border-gray-300 rounded-md px-3 py-1",children:[a.jsx("option",{children:"Last 6 months"}),a.jsx("option",{children:"Last year"})]})]}),a.jsx(ma,{width:"100%",height:300,children:a.jsxs(mC,{data:e.userGrowth,children:[a.jsx(Za,{strokeDasharray:"3 3"}),a.jsx(Qr,{dataKey:"month"}),a.jsx(Jr,{}),a.jsx($t,{}),a.jsx(Pn,{type:"monotone",dataKey:"count",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.1})]})})]}),a.jsxs(Ot,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Courses by Category"}),a.jsx(ma,{width:"100%",height:300,children:a.jsxs(kK,{children:[a.jsx(An,{data:e.courseStats,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"count",label:({name:n,value:s})=>`${n}: ${s}`,children:e.courseStats.map((n,s)=>a.jsx(mu,{fill:ES[s%ES.length]},`cell-${s}`))}),a.jsx($t,{})]})})]})]}),a.jsxs(Ot,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Daily Activity"}),a.jsx(ma,{width:"100%",height:400,children:a.jsxs(hC,{data:e.activityStats,children:[a.jsx(Za,{strokeDasharray:"3 3"}),a.jsx(Qr,{dataKey:"date"}),a.jsx(Jr,{}),a.jsx($t,{}),a.jsx(Yn,{type:"monotone",dataKey:"logins",stroke:"#10B981",strokeWidth:2,name:"Logins"}),a.jsx(Yn,{type:"monotone",dataKey:"submissions",stroke:"#F59E0B",strokeWidth:2,name:"Submissions"})]})})]})]}):a.jsx(Or,{title:"No Data Available",description:"Analytics data is not available yet"}),MS=({data:e,onRefresh:t,isRefreshing:r})=>{const n=i=>{switch(i){case"healthy":return"text-green-600 bg-green-100";case"warning":return"text-yellow-600 bg-yellow-100";case"error":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},s=i=>{switch(i){case"healthy":return a.jsx(ct,{className:"h-5 w-5"});case"warning":return a.jsx(Zt,{className:"h-5 w-5"});case"error":return a.jsx(Zt,{className:"h-5 w-5"});default:return a.jsx(nr,{className:"h-5 w-5"})}};return a.jsxs(Ot,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Health"}),a.jsxs("button",{onClick:t,disabled:r,className:"flex items-center space-x-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[a.jsx(Vt,{className:`h-4 w-4 ${r?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(e).map(([i,o])=>a.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg",children:[a.jsx("div",{className:`p-2 rounded-full ${n(o)}`,children:s(o)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 capitalize",children:i.replace(/([A-Z])/g," $1").trim()}),a.jsx("p",{className:`text-sm font-medium capitalize ${n(o).split(" ")[0]}`,children:o})]})]},i))})]})};function WK(){const e=Xn(),t=Nt(),[r,n]=S.useState([]),[s,i]=S.useState({totalCourses:0,totalEnrollments:0,totalStudents:0,totalTeachers:0,totalUsers:0}),[o,l]=S.useState(null),[c,u]=S.useState([]),[d,f]=S.useState({database:"checking",storage:"healthy",edgeFunctions:"checking",apiResponse:"healthy"}),[h,m]=S.useState(!0),[x,p]=S.useState(null),[g,y]=S.useState(new Date),[v,w]=S.useState(!1),[j,b]=S.useState([]),[N,_]=S.useState(null),[A,O]=S.useState(!1),[T,P]=S.useState([]),[C,E]=S.useState(!1),[M,$]=S.useState(null),[q,D]=S.useState(""),[z,V]=S.useState({userId:"",action:"",dateRange:"7days",search:""}),[ee,ae]=S.useState(!1),[W,Z]=S.useState(!1),[ce,X]=S.useState(""),[I,B]=S.useState(null),[J,G]=S.useState([]),[re,R]=S.useState([]),[L,Q]=S.useState(!1),[ie,oe]=S.useState(!1),[de,Se]=S.useState(!1),[Ie,qe]=S.useState({platformName:"EduPlatform",maintenanceMode:!1,registrationEnabled:!0,emailNotifications:!0,maxFileSize:"10",sessionTimeout:"30",backupFrequency:"daily"}),[nt,et]=S.useState(!1),[_t,Pe]=S.useState(null),Ir=async F=>{try{const{error:H}=await U.functions.invoke("admin-password-reset",{body:{action:"approve",requestId:F,adminNotes:q}});if(H)throw H;console.log("Password reset request approved"),Ht(),Ws()}catch(H){console.error("Error approving password reset request:",H),p(`Failed to approve request: ${H.message}`)}},vr=async F=>{try{const{error:H}=await U.functions.invoke("admin-password-reset",{body:{action:"reject",requestId:F,adminNotes:q}});if(H)throw H;console.log("Password reset request rejected"),Ht()}catch(H){console.error("Error rejecting password reset request:",H),p(`Failed to reject request: ${H.message}`)}},he=new URLSearchParams(e.search).get("tab")||"overview",Be=[{id:"overview",label:"Overview",count:void 0},{id:"users",label:"Users",count:s.totalUsers},{id:"analytics",label:"Analytics",count:void 0},{id:"questions",label:"Questions",count:void 0},{id:"password-resets",label:"Password Resets",count:j.length},{id:"activity",label:"Activity",count:c.length},{id:"messages",label:"Messages",count:J.length},{id:"system",label:"System",count:void 0},{id:"bulk",label:"Bulk Operations",count:void 0}],Oe=S.useCallback(async()=>{try{p(null),m(!0),await Promise.allSettled([ne(),fe(),je(),Ke(),Me()]),y(new Date)}catch(F){p(`Failed to load data: ${F.message}`)}finally{m(!1),w(!1)}},[]),pe=async()=>{w(!0),await Oe()};S.useEffect(()=>{Oe(),he==="password-resets"?(Ht(),Ws()):he==="activity"?ar():he==="messages"?(Dr(),dl()):he==="system"&&Gt()},[Oe,he,z]),S.useEffect(()=>{he==="activity"&&ar()},[z]);const ne=async()=>{try{const{data:F,error:H}=await U.from("profiles").select("*").order("created_at",{ascending:!1}).limit(100);if(H)throw H;n(F||[])}catch(F){throw console.error("Error loading users:",F),F}},fe=async()=>{try{const{data:F,error:H}=await U.functions.invoke("get-course-stats");if(H)throw H;F!=null&&F.data?i(F.data):await Ce()}catch(F){console.warn("Edge function unavailable, using fallback:",F),await Ce()}},Ce=async()=>{var F,H,_e,at,$r;try{const[It,Z0,ey]=await Promise.allSettled([U.from("profiles").select("role"),U.from("courses").select("id"),U.from("enrollments").select("id")]),xC=It.status==="fulfilled"&&((F=It.value.data)==null?void 0:F.length)||0,yC=It.status==="fulfilled"&&((H=It.value.data)==null?void 0:H.filter(Lu=>Lu.role==="student").length)||0,vC=It.status==="fulfilled"&&((_e=It.value.data)==null?void 0:_e.filter(Lu=>Lu.role==="teacher").length)||0,bC=Z0.status==="fulfilled"&&((at=Z0.value.data)==null?void 0:at.length)||0,wC=ey.status==="fulfilled"&&(($r=ey.value.data)==null?void 0:$r.length)||0;i({totalUsers:xC,totalStudents:yC,totalTeachers:vC,totalCourses:bC,totalEnrollments:wC})}catch(It){console.error("Error calculating fallback stats:",It)}},je=async()=>{var F;try{const{data:{session:H}}=await U.auth.getSession();if(!H)return;const _e=await U.functions.invoke("analytics-engine",{body:{type:"admin_overview"}});if((F=_e.data)!=null&&F.data)l(_e.data.data);else{const at={totalUsers:s.totalUsers,totalCourses:s.totalCourses,totalEnrollments:s.totalEnrollments,activeUsers:Math.floor(s.totalUsers*.7),userGrowth:[{month:"Jan",count:45},{month:"Feb",count:52},{month:"Mar",count:48},{month:"Apr",count:61},{month:"May",count:55},{month:"Jun",count:67}],courseStats:[{category:"Mathematics",count:12},{category:"Science",count:8},{category:"Literature",count:15},{category:"History",count:6},{category:"Languages",count:9}],activityStats:[{date:"2025-11-03",logins:120,submissions:85},{date:"2025-11-04",logins:135,submissions:92},{date:"2025-11-05",logins:98,submissions:67},{date:"2025-11-06",logins:145,submissions:103},{date:"2025-11-07",logins:156,submissions:118},{date:"2025-11-08",logins:142,submissions:95},{date:"2025-11-09",logins:168,submissions:127}]};l(at)}}catch(H){console.warn("Analytics engine unavailable:",H)}},Ke=async()=>{try{const{data:F,error:H}=await U.from("user_activity_logs").select("*, profiles:user_id(full_name, email)").order("created_at",{ascending:!1}).limit(20);if(H)throw H;u(F||[])}catch(F){console.warn("Activity logs unavailable:",F),u([])}},Me=async()=>{const F={database:"checking",storage:"healthy",edgeFunctions:"checking",apiResponse:"healthy"};try{const{data:H,error:_e}=await U.from("profiles").select("id").limit(1);if(_e)throw _e;F.database="healthy"}catch{F.database="error"}try{const H=await U.functions.invoke("api-gateway",{body:{test:!0}});F.edgeFunctions=H.error?"warning":"healthy"}catch{F.edgeFunctions="error"}f(F)},Ht=async()=>{try{O(!0);const{data:F,error:H}=await U.from("password_reset_requests").select("*").eq("status","pending").order("created_at",{ascending:!1});if(H)throw H;b(F||[])}catch(F){console.error("Error loading password reset requests:",F)}finally{O(!1)}},Ws=async()=>{try{const{data:F,error:H}=await U.functions.invoke("password-reset-stats");if(H)throw H;_(F)}catch(F){console.warn("Password reset stats unavailable:",F)}},ar=async()=>{try{ae(!0);let F=U.from("user_activity_logs").select("*, profiles:user_id(full_name, email, role)").order("created_at",{ascending:!1}).limit(50);z.userId&&(F=F.eq("user_id",z.userId)),z.action&&(F=F.ilike("action",`%${z.action}%`)),z.search&&(F=F.or(`action.ilike.%${z.search}%,details.ilike.%${z.search}%`));const H=new Date,_e=new Date;switch(z.dateRange){case"today":_e.setHours(0,0,0,0);break;case"7days":_e.setDate(H.getDate()-7);break;case"30days":_e.setDate(H.getDate()-30);break;case"90days":_e.setDate(H.getDate()-90);break}z.dateRange!=="all"&&(F=F.gte("created_at",_e.toISOString()));const{data:at,error:$r}=await F;if($r)throw $r;u(at||[])}catch(F){console.error("Error loading activity logs:",F),p(`Failed to load activity logs: ${F.message}`)}finally{ae(!1)}},ss=async F=>{try{Z(!0);const H=new FormData;H.append("file",F),H.append("type","user_import");const{data:_e,error:at}=await U.functions.invoke("admin-bulk-operations",{body:H});if(at)throw at;B(_e),ne()}catch(H){console.error("Error importing users:",H),p(`Failed to import users: ${H.message}`)}finally{Z(!1)}},Hs=async F=>{try{Z(!0);const{data:H,error:_e}=await U.functions.invoke("admin-bulk-operations",{body:{action:"bulk_create_courses",data:F}});if(_e)throw _e;B(H),fe()}catch(H){console.error("Error creating courses:",H),p(`Failed to create courses: ${H.message}`)}finally{Z(!1)}},Gs=async F=>{try{Z(!0);const{data:H,error:_e}=await U.functions.invoke("admin-bulk-operations",{body:{action:"export_data",type:F}});if(_e)throw _e;const at=new Blob([JSON.stringify(H,null,2)],{type:"application/json"}),$r=URL.createObjectURL(at),It=document.createElement("a");It.href=$r,It.download=`${F}_export_${new Date().toISOString().split("T")[0]}.json`,It.click()}catch(H){console.error("Error exporting data:",H),p(`Failed to export data: ${H.message}`)}finally{Z(!1)}},Dr=async()=>{try{Q(!0);const{data:F,error:H}=await U.from("notifications").select("*").order("created_at",{ascending:!1}).limit(20);if(H)throw H;G(F||[])}catch(F){console.error("Error loading notifications:",F)}finally{Q(!1)}},dl=async()=>{try{const{data:F,error:H}=await U.from("announcements").select("*, profiles:teacher_id(full_name)").order("created_at",{ascending:!1}).limit(10);if(H)throw H;R(F||[])}catch(F){console.error("Error loading announcements:",F)}},we=async F=>{try{const{error:H}=await U.functions.invoke("admin-notifications",{body:{action:"create_announcement",...F}});if(H)throw H;dl(),oe(!1)}catch(H){console.error("Error creating announcement:",H),p(`Failed to create announcement: ${H.message}`)}},Re=async F=>{try{const{error:H}=await U.functions.invoke("admin-notifications",{body:{action:"broadcast_message",...F}});if(H)throw H;Se(!1)}catch(H){console.error("Error sending broadcast message:",H),p(`Failed to send message: ${H.message}`)}},Ve=async()=>{try{et(!0);const{error:F}=await U.functions.invoke("admin-system-settings",{body:{action:"update_settings",settings:Ie}});if(F)throw F;Pe("System settings saved successfully")}catch(F){console.error("Error saving system settings:",F),p(`Failed to save settings: ${F.message}`)}finally{et(!1)}},Gt=async()=>{try{const{data:F,error:H}=await U.functions.invoke("admin-system-settings",{body:{action:"get_settings"}});if(H)throw H;F&&qe(F)}catch(F){console.warn("System settings unavailable:",F)}},Kt=async(F,H,_e)=>{try{switch(p(null),Pe(null),F){case"refresh":await Oe(),Pe("User data refreshed successfully");break;case"bulk_action":const{userIds:at,operation:$r}=_e,{error:It}=await U.functions.invoke("admin-manage-users",{body:{action:"bulk_update",userIds:at,operation:$r}});if(It)throw It;Pe(`Bulk ${$r.type} completed successfully`),await Oe();break;default:console.log(`User action ${F} will be handled by UserManagement component`)}}catch(at){console.error(`Error performing user action ${F}:`,at),p(`Failed to ${F}: ${(at==null?void 0:at.message)||"Unknown error"}`)}},Rr=()=>{if(h&&!o)return a.jsx(Gn,{message:"Loading dashboard data...",size:"lg"});if(x)return a.jsx(ui,{title:"Dashboard Error",message:x,onRetry:pe});switch(he){case"overview":return a.jsxs("div",{className:"space-y-6",children:[a.jsx(VK,{data:o,isLoading:h,error:x}),a.jsx(MS,{data:d,onRefresh:Me,isRefreshing:v})]});case"users":return a.jsx(FK,{onAction:Kt});case"analytics":return a.jsx(UK,{});case"questions":return a.jsx(zK,{});case"password-resets":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pending Requests"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:j.length})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Completed Today"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:(N==null?void 0:N.completedToday)||0})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Average Response"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:(N==null?void 0:N.avgResponseTime)||"N/A"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-slate-200",children:a.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Password Reset Requests"})}),A?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-slate-600",children:"Loading password reset requests..."})]}):j.length===0?a.jsx("div",{className:"p-8 text-center text-slate-500",children:a.jsx("p",{children:"No pending password reset requests"})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Requested"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:j.map(F=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-slate-900",children:F.full_name||"Unknown User"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-slate-500",children:F.email})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:new Date(F.created_at).toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:F.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>{$(F),E(!0)},className:"text-blue-600 hover:text-blue-700 p-1 hover:bg-blue-50 rounded",title:"Generate Temporary Password",children:a.jsx(GC,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>Ir(F.id),className:"text-green-600 hover:text-green-700 p-1 hover:bg-green-50 rounded",title:"Approve Request",children:a.jsx(ct,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>vr(F.id),className:"text-red-600 hover:text-red-700 p-1 hover:bg-red-50 rounded",title:"Reject Request",children:a.jsx(on,{className:"h-4 w-4"})})]})})]},F.id))})]})})]})]});case"activity":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(HS,{className:"h-5 w-5"}),"Activity Logs"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User"}),a.jsx("input",{type:"text",placeholder:"Filter by user...",value:z.userId,onChange:F=>V(H=>({...H,userId:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action"}),a.jsx("input",{type:"text",placeholder:"Filter by action...",value:z.action,onChange:F=>V(H=>({...H,action:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),a.jsxs("select",{value:z.dateRange,onChange:F=>V(H=>({...H,dateRange:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"7days",children:"Last 7 days"}),a.jsx("option",{value:"30days",children:"Last 30 days"}),a.jsx("option",{value:"90days",children:"Last 90 days"}),a.jsx("option",{value:"all",children:"All time"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(ii,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search logs...",value:z.search,onChange:F=>V(H=>({...H,search:F.target.value})),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Activity Log Entries"}),a.jsxs("button",{onClick:()=>{const F=JSON.stringify(c,null,2),H="data:application/json;charset=utf-8,"+encodeURIComponent(F),_e=`activity-logs-${new Date().toISOString().split("T")[0]}.json`,at=document.createElement("a");at.setAttribute("href",H),at.setAttribute("download",_e),at.click()},className:"flex items-center space-x-2 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:[a.jsx(ln,{className:"h-4 w-4"}),a.jsx("span",{children:"Export"})]})]}),ee?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-slate-600",children:"Loading activity logs..."})]}):c.length===0?a.jsxs("div",{className:"p-8 text-center text-slate-500",children:[a.jsx(_a,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),a.jsx("p",{children:"No activity logs found"})]}):a.jsx("div",{className:"divide-y divide-slate-200",children:c.map(F=>{var H,_e;return a.jsx("div",{className:"p-4 hover:bg-slate-50",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(_a,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"font-medium text-slate-900",children:F.action||"Unknown action"}),a.jsx("span",{className:"text-sm text-slate-500",children:new Date(F.created_at).toLocaleString()})]}),a.jsxs("div",{className:"mt-1 flex items-center space-x-4",children:[a.jsxs("p",{className:"text-sm text-slate-600",children:[a.jsx("span",{className:"font-medium",children:"User:"})," ",((H=F.profiles)==null?void 0:H.full_name)||"Unknown"]}),((_e=F.profiles)==null?void 0:_e.role)&&a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${F.profiles.role==="admin"?"bg-orange-100 text-orange-800":F.profiles.role==="teacher"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:F.profiles.role})]}),F.details&&a.jsx("p",{className:"mt-1 text-sm text-slate-500",children:F.details})]})]})},F.id)})})]})]});case"messages":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Admin Communications"}),a.jsx("p",{className:"text-gray-600",children:"Manage announcements and broadcast messages"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:()=>oe(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[a.jsx(ua,{className:"h-4 w-4"}),a.jsx("span",{children:"New Announcement"})]}),a.jsxs("button",{onClick:()=>Se(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[a.jsx(Ts,{className:"h-4 w-4"}),a.jsx("span",{children:"Broadcast Message"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-slate-200",children:a.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[a.jsx(ua,{className:"h-5 w-5"}),"Recent Announcements"]})}),re.length===0?a.jsxs("div",{className:"p-8 text-center text-slate-500",children:[a.jsx(ua,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),a.jsx("p",{children:"No announcements yet"})]}):a.jsx("div",{className:"divide-y divide-slate-200",children:re.map(F=>{var H;return a.jsx("div",{className:"p-4 hover:bg-slate-50",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-slate-900",children:F.title}),a.jsx("p",{className:"text-sm text-slate-600 mt-1 line-clamp-2",children:F.content}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${F.priority==="urgent"?"bg-red-100 text-red-800":F.priority==="high"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:F.priority}),a.jsxs("span",{className:"text-xs text-slate-500",children:["by ",(H=F.profiles)==null?void 0:H.full_name,"  ",new Date(F.created_at).toLocaleDateString()]})]})]})})},F.id)})})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-slate-200",children:a.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[a.jsx(Aa,{className:"h-5 w-5"}),"System Notifications"]})}),L?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-slate-600",children:"Loading notifications..."})]}):J.length===0?a.jsxs("div",{className:"p-8 text-center text-slate-500",children:[a.jsx(Aa,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),a.jsx("p",{children:"No notifications"})]}):a.jsx("div",{className:"divide-y divide-slate-200",children:J.map(F=>a.jsx("div",{className:"p-4 hover:bg-slate-50",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`h-2 w-2 rounded-full mt-2 flex-shrink-0 ${F.read?"bg-gray-300":"bg-blue-600"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-medium text-slate-900",children:F.title}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:F.message}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${F.type==="system"?"bg-red-100 text-red-800":F.type==="announcement"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:F.type}),a.jsx("span",{className:"text-xs text-slate-500",children:new Date(F.created_at).toLocaleString()})]})]})]})},F.id))})]})]})]});case"system":return a.jsxs("div",{className:"space-y-6",children:[a.jsx(MS,{data:d,onRefresh:Me,isRefreshing:v}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-slate-200",children:a.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[a.jsx(ro,{className:"h-5 w-5"}),"System Settings"]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Platform Configuration"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Platform Name"}),a.jsx("input",{type:"text",value:Ie.platformName,onChange:F=>qe(H=>({...H,platformName:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max File Size (MB)"}),a.jsx("input",{type:"number",value:Ie.maxFileSize,onChange:F=>qe(H=>({...H,maxFileSize:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Timeout (minutes)"}),a.jsx("input",{type:"number",value:Ie.sessionTimeout,onChange:F=>qe(H=>({...H,sessionTimeout:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Backup Frequency"}),a.jsxs("select",{value:Ie.backupFrequency,onChange:F=>qe(H=>({...H,backupFrequency:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"hourly",children:"Hourly"}),a.jsx("option",{value:"daily",children:"Daily"}),a.jsx("option",{value:"weekly",children:"Weekly"}),a.jsx("option",{value:"monthly",children:"Monthly"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Feature Settings"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:Ie.maintenanceMode,onChange:F=>qe(H=>({...H,maintenanceMode:F.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Maintenance Mode"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:Ie.registrationEnabled,onChange:F=>qe(H=>({...H,registrationEnabled:F.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"User Registration"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:Ie.emailNotifications,onChange:F=>qe(H=>({...H,emailNotifications:F.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Email Notifications"})]})]})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsxs("button",{onClick:Ve,disabled:nt,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[nt?a.jsx(Vt,{className:"h-4 w-4 animate-spin"}):a.jsx(qC,{className:"h-4 w-4"}),a.jsx("span",{children:nt?"Saving...":"Save Settings"})]})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Database"}),a.jsx("p",{className:"text-sm text-gray-600",children:"PostgreSQL 15.x"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Supabase Platform"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Edge Functions"}),a.jsx("p",{className:"text-sm text-gray-600",children:"34 Functions Deployed"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Deno Runtime"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Storage"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Supabase Storage"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Unlimited Storage"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Authentication"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Supabase Auth"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Row Level Security"})]})]})]})]});case"bulk":return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bulk Operations"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[a.jsx(Yr,{className:"h-8 w-8 text-blue-600 mb-2"}),a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Bulk User Import"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Import users from CSV file"}),a.jsx("input",{type:"file",accept:".csv",onChange:F=>{var _e;const H=(_e=F.target.files)==null?void 0:_e[0];H&&ss(H)},className:"hidden",id:"bulk-user-import",disabled:W}),a.jsxs("label",{htmlFor:"bulk-user-import",className:`flex items-center justify-center space-x-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-lg cursor-pointer hover:bg-blue-700 ${W?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(fp,{className:"h-4 w-4"}),a.jsx("span",{children:W?"Importing...":"Select CSV"})]})]}),a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[a.jsx(tt,{className:"h-8 w-8 text-green-600 mb-2"}),a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Bulk Course Creation"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Create multiple courses at once"}),a.jsxs("button",{onClick:()=>{Hs([{title:"Introduction to Mathematics",description:"Basic math concepts",category:"math",level:"beginner"},{title:"Advanced Physics",description:"Physics for advanced students",category:"science",level:"advanced"}])},disabled:W,className:`w-full flex items-center justify-center space-x-2 px-3 py-2 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 ${W?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(tt,{className:"h-4 w-4"}),a.jsx("span",{children:W?"Creating...":"Create Sample"})]})]}),a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[a.jsx(ix,{className:"h-8 w-8 text-purple-600 mb-2"}),a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Data Export"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Export platform data"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:()=>Gs("users"),disabled:W,className:"w-full flex items-center justify-center space-x-2 px-3 py-2 text-sm bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[a.jsx(ln,{className:"h-4 w-4"}),a.jsx("span",{children:"Export Users"})]}),a.jsxs("button",{onClick:()=>Gs("courses"),disabled:W,className:"w-full flex items-center justify-center space-x-2 px-3 py-2 text-sm bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[a.jsx(ln,{className:"h-4 w-4"}),a.jsx("span",{children:"Export Courses"})]})]})]})]}),I&&a.jsxs("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Operation Completed"}),a.jsx("pre",{className:"text-sm text-green-700 overflow-x-auto",children:JSON.stringify(I,null,2)})]})]})});default:return a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Tab not found"}),a.jsx("p",{className:"text-gray-600",children:"The selected tab does not exist."})]})}};return a.jsx(di,{children:a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx(Hx,{title:"Admin Dashboard",description:"Manage users, courses, and platform settings",breadcrumbs:[{label:"Admin"},{label:"Dashboard"}],actions:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:pe,disabled:v,className:"flex items-center space-x-2 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 disabled:opacity-50",children:[a.jsx(Vt,{className:`h-4 w-4 ${v?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[a.jsx(ln,{className:"h-4 w-4"}),a.jsx("span",{children:"Export"})]})]})}),a.jsx(Gx,{items:Be,activeTab:he,onTabChange:F=>{const H=new URLSearchParams(e.search);F!=="overview"?H.set("tab",F):H.delete("tab"),t(`${e.pathname}?${H.toString()}`)}}),a.jsx("div",{className:"mt-6",children:Rr()}),_t&&a.jsx("div",{className:"fixed top-4 right-4 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg shadow-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:_t}),a.jsx("button",{onClick:()=>Pe(null),className:"ml-2 text-green-500 hover:text-green-700",children:a.jsx(jn,{className:"h-4 w-4"})})]})}),ie&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Create Announcement"}),a.jsx(HK,{onSubmit:we,onCancel:()=>oe(!1)})]})})}),de&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Broadcast Message"}),a.jsx(GK,{onSubmit:Re,onCancel:()=>Se(!1)})]})})}),C&&M&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Temporary Password Generated"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"User"}),a.jsx("p",{className:"text-slate-900",children:M.full_name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),a.jsx("p",{className:"text-slate-500",children:M.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Temporary Password"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"text",value:M.tempPassword,readOnly:!0,className:"flex-1 px-3 py-2 bg-slate-100 border border-slate-300 rounded-lg font-mono text-sm"}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(M.tempPassword),className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Copy"})]})]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Important:"})," Share this password securely with the user. They will be required to change it on first login."]})})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700",children:"Close"})})]})})}),a.jsxs("div",{className:"text-center text-sm text-gray-500 mt-8",children:["Last updated: ",g.toLocaleString()]})]})})}const HK=({onSubmit:e,onCancel:t})=>{const[r,n]=S.useState({title:"",content:"",priority:"normal",courseId:"",targetAudience:"all"}),[s,i]=S.useState([]),[o,l]=S.useState(!1);S.useEffect(()=>{(async()=>{const{data:d}=await U.from("courses").select("id, title").order("title");i(d||[])})()},[]);const c=async u=>{u.preventDefault(),l(!0);try{await e(r)}finally{l(!1)}};return a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),a.jsx("input",{type:"text",required:!0,value:r.title,onChange:u=>n(d=>({...d,title:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),a.jsx("textarea",{required:!0,rows:4,value:r.content,onChange:u=>n(d=>({...d,content:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsxs("select",{value:r.priority,onChange:u=>n(d=>({...d,priority:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"normal",children:"Normal"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"urgent",children:"Urgent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Audience"}),a.jsxs("select",{value:r.targetAudience,onChange:u=>n(d=>({...d,targetAudience:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Users"}),a.jsx("option",{value:"students",children:"Students Only"}),a.jsx("option",{value:"teachers",children:"Teachers Only"}),a.jsx("option",{value:"admins",children:"Admins Only"})]})]}),r.targetAudience==="all"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course (Optional)"}),a.jsxs("select",{value:r.courseId,onChange:u=>n(d=>({...d,courseId:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Courses"}),s.map(u=>a.jsx("option",{value:u.id,children:u.title},u.id))]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:o?"Creating...":"Create Announcement"})]})]})},GK=({onSubmit:e,onCancel:t})=>{const[r,n]=S.useState({subject:"",content:"",messageType:"notification",targetUsers:"all"}),[s,i]=S.useState(!1),o=async l=>{l.preventDefault(),i(!0);try{await e(r)}finally{i(!1)}};return a.jsxs("form",{onSubmit:o,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message Type"}),a.jsxs("select",{value:r.messageType,onChange:l=>n(c=>({...c,messageType:l.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"notification",children:"System Notification"}),a.jsx("option",{value:"announcement",children:"Announcement"}),a.jsx("option",{value:"alert",children:"Alert"}),a.jsx("option",{value:"maintenance",children:"Maintenance Notice"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),a.jsx("input",{type:"text",required:!0,value:r.subject,onChange:l=>n(c=>({...c,subject:l.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message Content"}),a.jsx("textarea",{required:!0,rows:4,value:r.content,onChange:l=>n(c=>({...c,content:l.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Users"}),a.jsxs("select",{value:r.targetUsers,onChange:l=>n(c=>({...c,targetUsers:l.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Users"}),a.jsx("option",{value:"active",children:"Active Users"}),a.jsx("option",{value:"inactive",children:"Inactive Users"}),a.jsx("option",{value:"students",children:"Students Only"}),a.jsx("option",{value:"teachers",children:"Teachers Only"}),a.jsx("option",{value:"admins",children:"Admins Only"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:s?"Sending...":"Send Message"})]})]})};function KK(){const[e,t]=S.useState([]),[r,n]=S.useState(""),[s,i]=S.useState(!0),{user:o}=Ze();S.useEffect(()=>{l()},[]);async function l(){try{const{data:u}=await U.from("courses").select("*").eq("is_published",!0).order("created_at",{ascending:!1});if(u){const d=await Promise.all(u.map(async f=>{const{data:h}=await U.from("profiles").select("full_name").eq("id",f.teacher_id).maybeSingle(),{data:m}=await U.from("lessons").select("id, duration_minutes").eq("course_id",f.id),{data:x}=await U.from("enrollments").select("id").eq("course_id",f.id),p=(m==null?void 0:m.reduce((g,y)=>g+(y.duration_minutes||0),0))||0;return{...f,teacherName:(h==null?void 0:h.full_name)||"Unknown",lessonsCount:(m==null?void 0:m.length)||0,studentsCount:(x==null?void 0:x.length)||0,totalDuration:p}}));t(d)}}finally{i(!1)}}const c=e.filter(u=>{var d,f;return u.title.toLowerCase().includes(r.toLowerCase())||((d=u.description)==null?void 0:d.toLowerCase().includes(r.toLowerCase()))||((f=u.category)==null?void 0:f.toLowerCase().includes(r.toLowerCase()))});return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Course Catalog"}),a.jsx("p",{className:"text-slate-600",children:"Explore our comprehensive collection of courses"})]}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(ii,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search courses...",value:r,onChange:u=>n(u.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),!o&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 sm:p-6 mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[a.jsx(tt,{className:"h-6 w-6 text-blue-600 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-blue-900 mb-2",children:"Ready to start learning?"}),a.jsx("p",{className:"text-sm sm:text-base text-blue-800 mb-3",children:"Create an account to enroll in courses and track your progress"}),a.jsx(Te,{to:"/register",className:"inline-block bg-blue-600 text-white px-6 py-2 min-h-[44px] rounded-lg hover:bg-blue-700 transition",children:"Sign Up Now"})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(u=>a.jsxs(Te,{to:`/courses/${u.id}`,className:"bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden group",children:[a.jsx("div",{className:"h-48 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center transform group-hover:scale-105 transition-transform",children:a.jsx(tt,{className:"h-20 w-20 text-white"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:u.category&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:u.category})}),a.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2 group-hover:text-blue-600 transition",children:u.title}),a.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:u.description||"No description available"}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-500 border-t border-slate-100 pt-4",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(tt,{className:"h-4 w-4"}),a.jsxs("span",{children:[u.lessonsCount," lessons"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Yr,{className:"h-4 w-4"}),a.jsxs("span",{children:[u.studentsCount," students"]})]}),u.totalDuration>0&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(nr,{className:"h-4 w-4"}),a.jsxs("span",{children:[u.totalDuration,"m"]})]})]}),a.jsxs("p",{className:"text-xs text-slate-500 mt-3",children:["Taught by ",u.teacherName]})]})]},u.id))}),c.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(tt,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:r?"No courses found matching your search":"No courses available yet"})]})]})})}function YK(){const{courseId:e}=Qn(),t=Nt(),{user:r,profile:n}=Ze(),[s,i]=S.useState(null),[o,l]=S.useState([]),[c,u]=S.useState(!1),[d,f]=S.useState([]),[h,m]=S.useState(!0);S.useEffect(()=>{x()},[e,r]);async function x(){try{const{data:j}=await U.from("courses").select("*").eq("id",e).maybeSingle();if(!j){t("/courses");return}const{data:b}=await U.from("profiles").select("full_name, email").eq("id",j.teacher_id).maybeSingle(),{data:N}=await U.from("lessons").select("*").eq("course_id",e).order("order_index",{ascending:!0});if(i({...j,teacherName:(b==null?void 0:b.full_name)||(b==null?void 0:b.email)}),l(N||[]),r){const{data:_}=await U.from("enrollments").select("*").eq("student_id",r.id).eq("course_id",e).maybeSingle();if(u(!!_),_){const{data:A}=await U.from("lesson_progress").select("*").eq("student_id",r.id).eq("course_id",e);f(A||[])}}}finally{m(!1)}}async function p(){if(!r){t("/login");return}if((n==null?void 0:n.role)!=="student"){alert("Only students can enroll in courses");return}try{const{error:j}=await U.from("enrollments").insert([{student_id:r.id,course_id:e}]);if(j)throw j;u(!0),x()}catch(j){console.error("Error enrolling:",j)}}async function g(){try{await U.from("enrollments").delete().eq("student_id",r==null?void 0:r.id).eq("course_id",e),u(!1),f([])}catch(j){console.error("Error unenrolling:",j)}}function y(j){return d.some(b=>b.lesson_id===j&&b.completed)}if(h)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!s)return null;const v=d.filter(j=>j.completed).length,w=o.length>0?Math.round(v/o.length*100):0;return a.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("button",{onClick:()=>t("/courses"),className:"flex items-center space-x-2 text-slate-600 hover:text-blue-600 mb-6 min-h-[44px]",children:[a.jsx(gn,{className:"h-5 w-5"}),a.jsx("span",{children:"Back to Courses"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 sm:p-8 text-white",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold mb-3",children:s.title}),a.jsx("p",{className:"text-sm sm:text-base text-blue-100 mb-4",children:s.description}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(tt,{className:"h-5 w-5"}),a.jsxs("span",{children:[o.length," lessons"]})]}),s.category&&a.jsx("div",{className:"bg-white/20 px-3 py-1 rounded-full",children:s.category})]}),a.jsxs("p",{className:"text-sm text-blue-100 mt-4",children:["Instructor: ",s.teacherName]})]}),a.jsxs("div",{className:"p-4 sm:p-8",children:[r&&(n==null?void 0:n.role)==="student"&&a.jsx("div",{className:"mb-6",children:c?a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Your Progress"}),a.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:[w,"%"]}),a.jsxs("p",{className:"text-sm text-slate-500",children:[v," / ",o.length," lessons completed"]})]}),a.jsxs("button",{onClick:g,className:"flex items-center justify-center space-x-2 border-2 border-red-600 text-red-600 px-6 py-3 min-h-[44px] rounded-lg hover:bg-red-50 transition",children:[a.jsx(tT,{className:"h-5 w-5"}),a.jsx("span",{children:"Unenroll"})]})]}),a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3",children:a.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all",style:{width:`${w}%`}})})]}):a.jsxs("button",{onClick:p,className:"w-full bg-blue-600 text-white py-3 min-h-[44px] rounded-lg font-semibold hover:bg-blue-700 transition flex items-center justify-center space-x-2",children:[a.jsx(cx,{className:"h-5 w-5"}),a.jsx("span",{children:"Enroll in this Course"})]})}),a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800 mb-4",children:"Course Content"}),a.jsxs("div",{className:"space-y-3",children:[o.map((j,b)=>{const N=y(j.id),_=c||(n==null?void 0:n.role)==="teacher"||(n==null?void 0:n.role)==="admin";return a.jsx("div",{className:`border-2 rounded-lg p-4 ${N?"border-green-200 bg-green-50":"border-slate-200"}`,children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-start sm:items-center space-x-3 flex-1",children:[a.jsx("div",{className:`w-10 h-10 flex-shrink-0 rounded-full flex items-center justify-center ${N?"bg-green-600 text-white":"bg-slate-200 text-slate-600"}`,children:N?a.jsx(ct,{className:"h-6 w-6"}):a.jsx("span",{className:"font-bold",children:b+1})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-sm sm:text-base text-slate-800",children:j.title}),j.duration_minutes&&a.jsxs("div",{className:"flex items-center space-x-1 text-sm text-slate-500 mt-1",children:[a.jsx(nr,{className:"h-4 w-4"}),a.jsxs("span",{children:[j.duration_minutes," minutes"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[_?a.jsxs(Te,{to:`/courses/${e}/lessons/${j.id}`,className:"flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-2 min-h-[44px] rounded-lg hover:bg-blue-700 transition whitespace-nowrap",children:[a.jsx(Ji,{className:"h-5 w-5"}),a.jsx("span",{children:N?"Review":"Start"})]}):a.jsxs("button",{disabled:!0,className:"flex items-center justify-center space-x-2 bg-slate-300 text-slate-500 px-4 py-2 min-h-[44px] rounded-lg cursor-not-allowed whitespace-nowrap",children:[a.jsx(Ji,{className:"h-5 w-5"}),a.jsx("span",{children:"Locked"})]}),_&&a.jsxs(Te,{to:`/courses/${e}/lessons/${j.id}/discussions`,className:"flex items-center justify-center space-x-2 bg-slate-100 text-slate-700 px-4 py-2 min-h-[44px] rounded-lg hover:bg-slate-200 transition whitespace-nowrap",children:[a.jsx(pr,{className:"h-5 w-5"}),a.jsx("span",{children:"Discuss"})]})]})]})},j.id)}),o.length===0&&a.jsx("div",{className:"text-center py-12 text-slate-600",children:"No lessons available yet"})]})]})]})]})})}function IS({lessonId:e,courseId:t,lessonContent:r,onQuizCreated:n,existingQuiz:s}){var A,O,T;const{user:i}=Ze(),[o,l]=S.useState(!1),[c,u]=S.useState(!1),[d,f]=S.useState("settings"),[h,m]=S.useState({lessonId:e,quizEnabled:!!s,isRequired:(s==null?void 0:s.is_required)||!1,autoGenerate:(s==null?void 0:s.auto_generated)||!0,customQuizId:s==null?void 0:s.id,questionCount:((A=s==null?void 0:s.generation_settings)==null?void 0:A.questionCount)||5,difficultyDistribution:((O=s==null?void 0:s.generation_settings)==null?void 0:O.difficultyDistribution)||{easy:2,medium:2,hard:1},questionTypes:((T=s==null?void 0:s.generation_settings)==null?void 0:T.questionTypes)||{multipleChoice:!0,trueFalse:!0,shortAnswer:!1,fillBlank:!1},passingScore:(s==null?void 0:s.passing_score)||70,timeLimit:(s==null?void 0:s.time_limit)||void 0,allowRetries:(s==null?void 0:s.allow_retry)??!0,maxRetries:(s==null?void 0:s.max_retries)||3,shuffleQuestions:(s==null?void 0:s.shuffle_questions)||!1,shuffleOptions:(s==null?void 0:s.shuffle_options)||!1}),[x,p]=S.useState([]),[g,y]=S.useState(null);S.useEffect(()=>{s&&h.autoGenerate&&v()},[s]);const v=async()=>{if(s!=null&&s.id)try{const{data:P,error:C}=await U.from("lesson_questions").select("*").eq("quiz_id",s.id);if(C)throw C;const E=P.map(M=>({id:M.id,quiz_id:M.quiz_id,type:M.question_type,question_text:M.question_text,question:M.question_text,options:M.options?Array.isArray(M.options)?M.options:[M.options]:void 0,correct_answer:M.correct_answer,correctAnswer:M.correct_answer,explanation:M.explanation,points:M.points,timeLimit:void 0,lessonId:e,contentReference:void 0,difficulty:"medium",order_index:M.order_index,created_at:new Date(M.created_at)}));p(E)}catch(P){console.error("Error loading questions:",P)}},w=async()=>{if(!(!i||!r)){u(!0);try{const{data:P,error:C}=await U.functions.invoke("generate-lesson-quiz",{body:{lessonId:e,content:r,settings:h}});if(C)throw C;P!=null&&P.questions&&(p(P.questions),f("questions"))}catch(P){console.error("Error generating quiz:",P)}finally{u(!1)}}},j=async()=>{if(!(!i||!h.quizEnabled)){u(!0);try{let P=h.customQuizId;if(!P){const{data:C,error:E}=await U.from("lesson_quizzes").insert({title:`Quiz: ${e}`,description:"Lesson assessment quiz",lesson_id:e,course_id:t,created_by:i.id,time_limit:h.timeLimit,allow_retry:h.allowRetries,max_retries:h.maxRetries,shuffle_questions:h.shuffleQuestions,shuffle_options:h.shuffleOptions,passing_score:h.passingScore,is_required:h.isRequired,is_active:!0,auto_generated:h.autoGenerate,generation_settings:{questionCount:h.questionCount,difficultyDistribution:h.difficultyDistribution,questionTypes:h.questionTypes}}).select().single();if(E)throw E;P=C.id}if(x.length>0){const C=x.map(M=>{var $,q,D,z;return{quiz_id:P,lesson_id:e,question_text:M.question,question_type:M.type,option_a:($=M.options)==null?void 0:$[0],option_b:(q=M.options)==null?void 0:q[1],option_c:(D=M.options)==null?void 0:D[2],option_d:(z=M.options)==null?void 0:z[3],correct_answer:Array.isArray(M.correctAnswer)?M.correctAnswer[0]:M.correctAnswer,correct_answers:Array.isArray(M.correctAnswer)?M.correctAnswer:[M.correctAnswer],explanation:M.explanation,hint:void 0,points:M.points,time_limit:M.timeLimit,content_reference:M.contentReference,difficulty:M.difficulty}});s&&await U.from("lesson_questions").delete().eq("quiz_id",P);const{error:E}=await U.from("lesson_questions").insert(C);if(E)throw E}P&&(n==null||n(P)),l(!1)}catch(P){console.error("Error saving quiz:",P)}finally{u(!1)}}},b=()=>{const P={id:Date.now().toString(),quiz_id:"",type:"multiple-choice",question_text:"",question:"",options:["","","",""],correct_answer:"",correctAnswer:"",explanation:"",points:10,timeLimit:30,lessonId:e,contentReference:void 0,difficulty:"medium",order_index:x.length,created_at:new Date};p([...x,P]),y(P)},N=P=>{p(x.map(C=>C.id===P.id?P:C))},_=P=>{p(x.filter(C=>C.id!==P))};return o?a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Lesson Quiz Builder"}),a.jsx("button",{onClick:()=>l(!1),className:"text-white/80 hover:text-white transition",children:""})]}),a.jsx("div",{className:"flex space-x-1 mt-4",children:["settings","questions","preview"].map(P=>a.jsx("button",{onClick:()=>f(P),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${d===P?"bg-white/20 text-white":"text-white/80 hover:text-white hover:bg-white/10"}`,children:P.charAt(0).toUpperCase()+P.slice(1)},P))})]}),a.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[d==="settings"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:"Enable Quiz Assessment"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Add a quiz to test student understanding"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.quizEnabled,onChange:P=>m({...h,quizEnabled:P.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),h.quizEnabled&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:"Quiz Creation Method"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:()=>m({...h,autoGenerate:!0}),className:`p-4 rounded-lg border-2 text-left transition ${h.autoGenerate?"border-blue-500 bg-blue-50":"border-slate-300 hover:border-slate-400"}`,children:[a.jsx(Bu,{className:"h-6 w-6 mb-2 text-blue-600"}),a.jsx("h4",{className:"font-medium",children:"Auto-Generate from Content"}),a.jsx("p",{className:"text-sm text-slate-600",children:"AI creates questions from lesson content"})]}),a.jsxs("button",{onClick:()=>m({...h,autoGenerate:!1}),className:`p-4 rounded-lg border-2 text-left transition ${h.autoGenerate?"border-slate-300 hover:border-slate-400":"border-blue-500 bg-blue-50"}`,children:[a.jsx(to,{className:"h-6 w-6 mb-2 text-purple-600"}),a.jsx("h4",{className:"font-medium",children:"Create Manually"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Build questions step by step"})]})]})]}),h.autoGenerate&&a.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-slate-800",children:"Generation Settings"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Number of Questions"}),a.jsx("input",{type:"number",min:"3",max:"20",value:h.questionCount,onChange:P=>m({...h,questionCount:parseInt(P.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Passing Score (%)"}),a.jsx("input",{type:"number",min:"50",max:"100",value:h.passingScore,onChange:P=>m({...h,passingScore:parseInt(P.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Question Types"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(h.questionTypes).map(([P,C])=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:C,onChange:E=>m({...h,questionTypes:{...h.questionTypes,[P]:E.target.checked}}),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-slate-700 capitalize",children:P.replace(/([A-Z])/g," $1").trim()})]},P))})]}),a.jsxs("button",{onClick:w,disabled:c,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center justify-center space-x-2 disabled:opacity-50",children:[c?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):a.jsx(Bu,{className:"h-4 w-4"}),a.jsx("span",{children:c?"Generating...":"Generate Quiz"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-slate-800",children:"Assessment Settings"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[a.jsx(nr,{className:"inline h-4 w-4 mr-1"}),"Time Limit (minutes, optional)"]}),a.jsx("input",{type:"number",min:"1",placeholder:"No limit",value:h.timeLimit||"",onChange:P=>m({...h,timeLimit:P.target.value?parseInt(P.target.value):void 0}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[a.jsx(Vn,{className:"inline h-4 w-4 mr-1"}),"Max Retries"]}),a.jsx("input",{type:"number",min:"1",max:"10",value:h.maxRetries,onChange:P=>m({...h,maxRetries:parseInt(P.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",checked:h.isRequired,onChange:P=>m({...h,isRequired:P.target.checked}),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),a.jsxs("span",{className:"text-sm text-slate-700",children:[a.jsx("strong",{children:"Required:"})," Students must pass before accessing next lesson"]})]}),a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",checked:h.allowRetries,onChange:P=>m({...h,allowRetries:P.target.checked}),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Allow retakes"})]}),a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",checked:h.shuffleQuestions,onChange:P=>m({...h,shuffleQuestions:P.target.checked}),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),a.jsxs("span",{className:"text-sm text-slate-700",children:[a.jsx(ay,{className:"inline h-4 w-4 mr-1"}),"Shuffle questions"]})]}),a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",checked:h.shuffleOptions,onChange:P=>m({...h,shuffleOptions:P.target.checked}),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),a.jsxs("span",{className:"text-sm text-slate-700",children:[a.jsx(ay,{className:"inline h-4 w-4 mr-1"}),"Shuffle answer options"]})]})]})]})]})]}),d==="questions"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Quiz Questions (",x.length,")"]}),a.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[a.jsx(lx,{className:"h-4 w-4"}),a.jsx("span",{children:"Add Question"})]})]}),x.length===0?a.jsxs("div",{className:"text-center py-12 text-slate-500",children:[a.jsx(to,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),a.jsx("p",{children:"No questions yet. Generate a quiz or add questions manually."})]}):a.jsx("div",{className:"space-y-4",children:x.map((P,C)=>a.jsx(XK,{question:P,index:C,onUpdate:N,onDelete:()=>_(P.id)},P.id))})]}),d==="preview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Quiz Preview"}),a.jsx("div",{className:"bg-slate-50 rounded-lg p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Settings"}),a.jsxs("ul",{className:"text-sm text-slate-600 mt-2 space-y-1",children:[a.jsxs("li",{children:[" Questions: ",x.length]}),a.jsxs("li",{children:[" Passing Score: ",h.passingScore,"%"]}),a.jsxs("li",{children:[" Time Limit: ",h.timeLimit?`${h.timeLimit} minutes`:"No limit"]}),a.jsxs("li",{children:[" Retries: ",h.allowRetries?`${h.maxRetries} allowed`:"No retries"]}),a.jsxs("li",{children:[" Required: ",h.isRequired?"Yes":"No"]})]})]}),x.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Sample Questions"}),a.jsxs("div",{className:"mt-2 space-y-3",children:[x.slice(0,3).map((P,C)=>a.jsxs("div",{className:"bg-white p-4 rounded border",children:[a.jsxs("p",{className:"font-medium text-sm",children:[C+1,". ",P.question]}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Type: ",P.type,"  Difficulty: ",P.difficulty]})]},P.id)),x.length>3&&a.jsxs("p",{className:"text-sm text-slate-500",children:["... and ",x.length-3," more questions"]})]})]})]})})]})]}),a.jsxs("div",{className:"bg-slate-50 px-6 py-4 flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-slate-600 hover:text-slate-800 transition",children:"Cancel"}),a.jsxs("button",{onClick:j,disabled:c||!h.quizEnabled||x.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(dp,{className:"h-4 w-4"}),a.jsx("span",{children:c?"Saving...":"Save Quiz"})]})]})]})}):a.jsxs("button",{onClick:()=>l(!0),className:"w-full py-3 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center justify-center space-x-2",children:[a.jsx(Bu,{className:"h-5 w-5"}),a.jsx("span",{children:s?"Edit Quiz":"Create Quiz"})]})}function XK({question:e,index:t,onUpdate:r,onDelete:n}){var c,u,d,f,h,m,x;const[s,i]=S.useState(!1),o=(p,g)=>{r({...e,[p]:g})},l=(p,g)=>{const y=[...e.options||[]];y[p]=g,r({...e,options:y})};return a.jsxs("div",{className:"bg-white border rounded-lg overflow-hidden",children:[a.jsx("div",{className:"p-4 cursor-pointer hover:bg-slate-50",onClick:()=>i(!s),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["Question ",t+1]}),a.jsx("p",{className:"font-medium text-slate-800 mt-1",children:e.question||"Click to edit question"}),a.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[e.type,"  ",e.difficulty,"  ",e.points," points"]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:p=>{p.stopPropagation(),n()},className:"p-2 text-red-600 hover:bg-red-50 rounded transition",children:a.jsx(xn,{className:"h-4 w-4"})})})]})}),s&&a.jsxs("div",{className:"border-t p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Question Text"}),a.jsx("textarea",{value:e.question,onChange:p=>o("question",p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Enter your question..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Question Type"}),a.jsxs("select",{value:e.type,onChange:p=>o("type",p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"multiple-choice",children:"Multiple Choice"}),a.jsx("option",{value:"true-false",children:"True/False"}),a.jsx("option",{value:"short-answer",children:"Short Answer"}),a.jsx("option",{value:"fill-blank",children:"Fill in the Blank"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Difficulty"}),a.jsxs("select",{value:e.difficulty,onChange:p=>o("difficulty",p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]})]}),(e.type==="multiple-choice"||e.type==="true-false")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Answer Options"}),e.type==="true-false"?a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"text",value:((c=e.options)==null?void 0:c[0])||"True",onChange:p=>l(0,p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Option A"}),a.jsx("input",{type:"text",value:((u=e.options)==null?void 0:u[1])||"False",onChange:p=>l(1,p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Option B"})]}):a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"text",value:((d=e.options)==null?void 0:d[0])||"",onChange:p=>l(0,p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Option A"}),a.jsx("input",{type:"text",value:((f=e.options)==null?void 0:f[1])||"",onChange:p=>l(1,p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Option B"}),a.jsx("input",{type:"text",value:((h=e.options)==null?void 0:h[2])||"",onChange:p=>l(2,p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Option C"}),a.jsx("input",{type:"text",value:((m=e.options)==null?void 0:m[3])||"",onChange:p=>l(3,p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Option D"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Correct Answer"}),e.type==="true-false"?a.jsxs("select",{value:e.correctAnswer,onChange:p=>o("correctAnswer",p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"True",children:"True"}),a.jsx("option",{value:"False",children:"False"})]}):e.type==="multiple-choice"?a.jsxs("select",{value:e.correctAnswer,onChange:p=>o("correctAnswer",p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select correct answer"}),(x=e.options)==null?void 0:x.map((p,g)=>a.jsx("option",{value:p,children:p||`Option ${String.fromCharCode(65+g)}`},g))]}):a.jsx("input",{type:"text",value:e.correctAnswer,onChange:p=>o("correctAnswer",p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter the correct answer"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Points"}),a.jsx("input",{type:"number",min:"1",max:"100",value:e.points,onChange:p=>o("points",parseInt(p.target.value)),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Time Limit (seconds)"}),a.jsx("input",{type:"number",min:"10",max:"300",value:e.timeLimit||30,onChange:p=>o("timeLimit",parseInt(p.target.value)),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Explanation (optional)"}),a.jsx("textarea",{value:e.explanation||"",onChange:p=>o("explanation",p.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,placeholder:"Explain why this is the correct answer..."})]})]})]})}function QK(){var V,ee,ae;const{courseId:e,lessonId:t}=Qn(),r=Nt(),{user:n}=Ze(),[s,i]=S.useState(null),[o,l]=S.useState(null),[c,u]=S.useState([]),[d,f]=S.useState(!1),[h,m]=S.useState(!0),[x,p]=S.useState(null),[g,y]=S.useState(null),[v,w]=S.useState([]),[j,b]=S.useState(!1),[N,_]=S.useState(null),[A,O]=S.useState(!1);S.useEffect(()=>{T()},[t]);async function T(){var W;try{const{data:Z}=await U.from("lessons").select("*").eq("id",t).maybeSingle();if(!Z){r("/courses");return}const{data:ce}=await U.from("courses").select("*").eq("id",Z.course_id).maybeSingle(),{data:X}=await U.from("lessons").select("*").eq("course_id",Z.course_id).order("order_index",{ascending:!0});if(i(Z),l(ce),u(X||[]),n){const{data:I}=await U.from("lesson_progress").select("*").eq("student_id",n.id).eq("lesson_id",t).maybeSingle();f((I==null?void 0:I.completed)||!1);const{data:B}=await U.from("lesson_quizzes").select("*").eq("lesson_id",t).eq("is_active",!0).maybeSingle();if(B){p(B);const{data:J}=await U.from("lesson_quiz_attempts").select("*").eq("quiz_id",B.id).eq("student_id",n.id).order("created_at",{ascending:!1});w(J||[]);const G=J==null?void 0:J[0],re=(G==null?void 0:G.passed)||!1,L=(((W=B.quiz_settings)==null?void 0:W.max_retries)||3)-((J==null?void 0:J.length)||0);y({...I,quizAttempts:J||[],currentQuizStatus:{hasAttempted:((J==null?void 0:J.length)||0)>0,passed:re,bestScore:(G==null?void 0:G.score_percentage)||0,attemptsLeft:Math.max(0,L),lastAttemptAt:G==null?void 0:G.created_at}}),O(d&&(!B.is_required||!re)&&L>0)}}}finally{m(!1)}}async function P(){if(n)try{const{data:W}=await U.from("lesson_progress").select("*").eq("student_id",n.id).eq("lesson_id",t).maybeSingle();W?await U.from("lesson_progress").update({completed:!d,completed_at:d?null:new Date().toISOString(),last_viewed_at:new Date().toISOString()}).eq("id",W.id):await U.from("lesson_progress").insert([{student_id:n.id,lesson_id:t,course_id:e,completed:!0,completed_at:new Date().toISOString()}]),f(!d)}catch(W){console.error("Error updating progress:",W)}}function C(W){var X;if(W==="next"&&(x!=null&&x.is_required)&&!((X=g==null?void 0:g.currentQuizStatus)!=null&&X.passed)){alert("You must pass the lesson quiz before proceeding to the next lesson.");return}const Z=c.findIndex(I=>I.id===t),ce=W==="prev"?Z-1:Z+1;ce>=0&&ce<c.length&&r(`/courses/${e}/lessons/${c[ce].id}`)}const E=()=>{!x||!n||r(`/quiz/lesson/${x.id}`,{state:{lessonId:t,courseId:e,returnTo:`/courses/${e}/lessons/${t}`}})},M=()=>{if(!(x!=null&&x.allow_retry))return;if(x.max_retries-v.length<=0){alert("No more attempts left for this quiz.");return}E()},$=n&&(o==null?void 0:o.created_by)===n.id;if(h)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!s||!o)return null;const q=c.findIndex(W=>W.id===t),D=q>0,z=q<c.length-1;return a.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs(Te,{to:`/courses/${e}`,className:"flex items-center space-x-2 text-slate-600 hover:text-blue-600 mb-6 min-h-[44px]",children:[a.jsx(gn,{className:"h-5 w-5"}),a.jsx("span",{children:"Back to Course"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 sm:p-6 text-white",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm mb-2",children:[a.jsx(tt,{className:"h-4 w-4"}),a.jsx("span",{className:"truncate",children:o.title})]}),a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:s.title}),a.jsxs("p",{className:"text-sm sm:text-base text-blue-100",children:["Lesson ",q+1," of ",c.length]})]}),a.jsxs("div",{className:"p-4 sm:p-8",children:[s.video_url&&a.jsx("div",{className:"mb-6 sm:mb-8 rounded-xl overflow-hidden bg-slate-100 aspect-video flex items-center justify-center",children:a.jsxs("p",{className:"text-sm sm:text-base text-slate-600 px-4 text-center",children:["Video player would be here: ",s.video_url]})}),a.jsx("div",{className:"prose max-w-none mb-6 sm:mb-8",children:a.jsx("div",{className:"text-sm sm:text-base text-slate-700 leading-relaxed whitespace-pre-wrap",children:s.content||"No content available for this lesson."})}),n&&a.jsxs("div",{className:"space-y-6 border-t border-slate-200 pt-4 sm:pt-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:P,className:`py-3 min-h-[44px] rounded-lg font-semibold transition flex items-center justify-center space-x-2 ${d?"bg-green-600 text-white hover:bg-green-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[a.jsx(ct,{className:"h-5 w-5"}),a.jsx("span",{children:d?"Mark as Incomplete":"Mark as Complete"})]}),a.jsxs(Te,{to:`/courses/${e}/lessons/${t}/discussions`,className:"py-3 min-h-[44px] rounded-lg font-semibold transition flex items-center justify-center space-x-2 bg-slate-100 text-slate-700 hover:bg-slate-200",children:[a.jsx(pr,{className:"h-5 w-5"}),a.jsx("span",{children:"Join Discussion"})]})]}),x?a.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Lesson Assessment"}),x.is_required&&a.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 text-sm font-medium rounded-full",children:"Required"})]}),(g==null?void 0:g.currentQuizStatus)&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[g.currentQuizStatus.bestScore,"%"]}),a.jsx("p",{className:"text-sm text-slate-600",children:"Best Score"})]}),a.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:g.currentQuizStatus.attemptsLeft}),a.jsx("p",{className:"text-sm text-slate-600",children:"Attempts Left"})]})]}),a.jsxs("div",{className:"space-y-3",children:[g.currentQuizStatus.passed?a.jsxs("div",{className:"flex items-center justify-center p-4 bg-green-100 rounded-lg",children:[a.jsx(jt,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsxs("span",{className:"text-green-800 font-medium",children:["Quiz Passed! Score: ",g.currentQuizStatus.bestScore,"%"]})]}):g.currentQuizStatus.hasAttempted?a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-slate-700",children:["Last attempt: ",g.currentQuizStatus.bestScore,"%"]}),x.allow_retry&&g.currentQuizStatus.attemptsLeft>0&&a.jsxs("button",{onClick:M,className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:[a.jsx(QC,{className:"h-4 w-4"}),a.jsx("span",{children:"Retake Quiz"})]})]}):null,A&&a.jsxs("button",{onClick:E,className:"w-full py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition flex items-center justify-center space-x-2 font-semibold",children:[a.jsx(jt,{className:"h-5 w-5"}),a.jsx("span",{children:(V=g==null?void 0:g.currentQuizStatus)!=null&&V.hasAttempted?"Retake Quiz":"Take Quiz"})]}),a.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Time Limit:"}),a.jsx("span",{children:x.time_limit?`${x.time_limit} minutes`:"No limit"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Passing Score:"}),a.jsxs("span",{children:[x.passing_score,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Questions:"}),a.jsx("span",{children:((ee=x.questions)==null?void 0:ee.length)||"Loading..."})]})]})]})]})]}):$?a.jsx("div",{className:"bg-blue-50 rounded-xl p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"No Quiz Created"}),a.jsx("p",{className:"text-blue-600 mb-4",children:"Create an assessment quiz to test student understanding of this lesson."}),a.jsx(IS,{lessonId:t,courseId:e,lessonContent:(s==null?void 0:s.content)||"",onQuizCreated:()=>{T()}})]})}):null,$&&x&&a.jsx("div",{className:"bg-blue-50 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Quiz Management"}),a.jsx("p",{className:"text-blue-600 text-sm",children:"Manage this lesson's assessment quiz"})]}),a.jsx(IS,{lessonId:t,courseId:e,lessonContent:(s==null?void 0:s.content)||"",existingQuiz:x,onQuizCreated:()=>{T()}})]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mt-6 pt-4 sm:pt-6 border-t border-slate-200",children:[a.jsxs("button",{onClick:()=>C("prev"),disabled:!D,className:`w-full sm:w-auto flex items-center justify-center space-x-2 px-6 py-3 min-h-[44px] rounded-lg transition ${D?"bg-slate-200 text-slate-700 hover:bg-slate-300":"bg-slate-100 text-slate-400 cursor-not-allowed"}`,children:[a.jsx(gn,{className:"h-5 w-5"}),a.jsx("span",{children:"Previous"})]}),a.jsxs("span",{className:"text-sm text-slate-600 order-first sm:order-none",children:[q+1," / ",c.length]}),a.jsxs("button",{onClick:()=>C("next"),disabled:!z,className:`w-full sm:w-auto flex items-center justify-center space-x-2 px-6 py-3 min-h-[44px] rounded-lg transition relative ${z?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-100 text-slate-400 cursor-not-allowed"}`,children:[a.jsx("span",{children:"Next"}),a.jsx(DC,{className:"h-5 w-5"}),(x==null?void 0:x.is_required)&&!((ae=g==null?void 0:g.currentQuizStatus)!=null&&ae.passed)&&z&&a.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]})]})]})]})]})})}function JK(e,t,r){const{user:n,profile:s}=Ze(),[i,o]=S.useState([]),[l,c]=S.useState(!0),[u,d]=S.useState(null),f=n&&((s==null?void 0:s.role)==="student"||(s==null?void 0:s.role)==="teacher"||(s==null?void 0:s.role)==="admin"),[h,m]=S.useState(!1);S.useEffect(()=>{p(),n&&x()},[n,e,t,r]);const x=async()=>{if(!(!n||!e&&!t))try{let b;if(e){const{data:N}=await U.from("lessons").select("course_id").eq("id",e).single();b=N==null?void 0:N.course_id}else if(t){const{data:N}=await U.from("assignments").select("course_id").eq("id",t).single();b=N==null?void 0:N.course_id}if(b){const{data:N}=await U.from("courses").select("teacher_id").eq("id",b).single();m(n.id===(N==null?void 0:N.teacher_id))}}catch(b){console.error("Error checking course teacher role:",b)}},p=S.useCallback(async()=>{try{c(!0),d(null);let b=U.from("discussion_comments").select(`
          *,
          profiles (
            full_name,
            email,
            role
          )
        `).order("created_at",{ascending:!1});if(e)b=b.eq("lesson_id",e);else if(t)b=b.eq("assignment_id",t);else throw new Error("Either lessonId or assignmentId is required");r||(b=b.is("parent_id",null));const{data:N,error:_}=await b;if(_)throw _;const O=(T=>{const P=new Map,C=[];return T.forEach(E=>{P.set(E.id,{...E,replies:[]})}),T.forEach(E=>{const M=P.get(E.id);if(E.parent_id){const $=P.get(E.parent_id);$&&$.replies.push(M)}else C.push(M)}),C})(N||[]);o(O)}catch(b){console.error("Error loading comments:",b),d(b instanceof Error?b.message:"Failed to load comments")}finally{c(!1)}},[e,t,r]);return{comments:i,loading:l,error:u,canComment:f,isCourseTeacher:h,createComment:async b=>{if(!n||!f)throw new Error("You must be logged in and have permission to comment");try{const{data:N,error:_}=await U.from("discussion_comments").insert({user_id:n.id,content:b.content.trim(),parent_id:b.parent_id,lesson_id:b.lesson_id||e,assignment_id:b.assignment_id||t}).select(`
          *,
          profiles (
            full_name,
            email,
            role
          )
        `).single();if(_)throw _;return await p(),N}catch(N){throw console.error("Error creating comment:",N),N}},updateComment:async(b,N)=>{if(!n)throw new Error("You must be logged in to update comments");try{const{error:_}=await U.from("discussion_comments").update({content:N.content.trim(),updated_at:new Date().toISOString()}).eq("id",b).eq("user_id",n.id);if(_)throw _;await p()}catch(_){throw console.error("Error updating comment:",_),_}},deleteComment:async b=>{if(!n)throw new Error("You must be logged in to delete comments");try{const{error:N}=await U.from("discussion_comments").delete().eq("id",b).or(`user_id.eq.${n.id},${h?"true":"false"}`);if(N)throw N;await p()}catch(N){throw console.error("Error deleting comment:",N),N}},moderateComment:async b=>{if(!n||!h)throw new Error("Only course teachers can moderate comments");try{const{error:N}=await U.from("discussion_comments").delete().eq("id",b);if(N)throw N;await p()}catch(N){throw console.error("Error moderating comment:",N),N}},refreshComments:()=>{p()}}}function pC({comment:e,onReply:t,onEdit:r,onDelete:n,canEdit:s,canDelete:i,showActions:o}){var p,g,y;const{profile:l}=Ze(),[c,u]=S.useState(!0),[d,f]=S.useState(!1),h=v=>{const w=new Date(v),b=new Date().getTime()-w.getTime(),N=Math.floor(b/6e4),_=Math.floor(N/60),A=Math.floor(_/24);return N<1?"Just now":N<60?`${N}m ago`:_<24?`${_}h ago`:A<7?`${A}d ago`:w.toLocaleDateString()},m=((p=e.profiles)==null?void 0:p.full_name)||((g=e.profiles)==null?void 0:g.email)||"Anonymous",x=m.charAt(0).toUpperCase();return a.jsx("div",{className:"group",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center font-semibold",children:x})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-semibold text-slate-800",children:m}),a.jsx("span",{className:"text-xs text-slate-500 capitalize px-2 py-1 bg-slate-100 rounded-full",children:(y=e.profiles)==null?void 0:y.role}),a.jsx("span",{className:"text-xs text-slate-400",children:h(e.created_at)})]}),o&&a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>f(!d),className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",children:a.jsx(zC,{className:"h-4 w-4"})}),d&&a.jsxs("div",{className:"absolute right-0 top-8 bg-white border border-slate-200 rounded-lg shadow-lg py-1 z-10 min-w-[120px]",children:[s&&a.jsxs("button",{onClick:()=>{r(e.id,e.content),f(!1)},className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 flex items-center space-x-2",children:[a.jsx(to,{className:"h-4 w-4"}),a.jsx("span",{children:"Edit"})]}),i&&a.jsxs("button",{onClick:()=>{n(e.id),f(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center space-x-2",children:[a.jsx(xn,{className:"h-4 w-4"}),a.jsx("span",{children:"Delete"})]})]})]})]}),a.jsx("div",{className:"text-slate-700 whitespace-pre-wrap break-words",children:e.content}),a.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-slate-100",children:[a.jsxs("button",{onClick:()=>t(e.id),className:"flex items-center space-x-1 text-sm text-blue-600 hover:text-blue-700 transition-colors",children:[a.jsx(up,{className:"h-4 w-4"}),a.jsx("span",{children:"Reply"})]}),e.replies&&e.replies.length>0&&a.jsxs("button",{onClick:()=>u(!c),className:"flex items-center space-x-1 text-sm text-slate-500 hover:text-slate-600 transition-colors",children:[a.jsx(pr,{className:"h-4 w-4"}),a.jsxs("span",{children:[e.replies.length," ",e.replies.length===1?"reply":"replies"]})]})]})]}),e.replies&&e.replies.length>0&&c&&a.jsx("div",{className:"mt-4 ml-6 space-y-4",children:e.replies.map(v=>a.jsx(pC,{comment:v,onReply:t,onEdit:r,onDelete:n,canEdit:s,canDelete:i,showActions:o},v.id))})]})]})})}function op({onSubmit:e,onCancel:t,placeholder:r="Write a comment...",isReply:n=!1,parentComment:s="",initialContent:i="",isEditing:o=!1,loading:l=!1}){var x;const{user:c}=Ze(),[u,d]=S.useState(i),[f,h]=S.useState(!1);S.useEffect(()=>{d(i)},[i]);const m=async p=>{if(p.preventDefault(),!(!u.trim()||f)){h(!0);try{await e(u.trim()),o||d("")}catch(g){console.error("Error submitting comment:",g)}finally{h(!1)}}};return c?a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg",children:[n&&s&&a.jsx("div",{className:"px-4 py-2 bg-slate-50 border-b border-slate-200 rounded-t-lg",children:a.jsxs("p",{className:"text-sm text-slate-600",children:["Replying to: ",a.jsxs("span",{className:"font-medium text-slate-800",children:['"',s.slice(0,100),s.length>100?"...":"",'"']})]})}),a.jsx("form",{onSubmit:m,className:"p-4",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center font-semibold",children:(((x=c.user_metadata)==null?void 0:x.full_name)||c.email||"U").charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{value:u,onChange:p=>d(p.target.value),placeholder:r,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:n?3:4,maxLength:2e3}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("span",{className:"text-xs text-slate-500",children:[u.length,"/2000 characters"]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[t&&a.jsxs("button",{type:"button",onClick:t,className:"flex items-center space-x-1 px-4 py-2 text-slate-600 hover:text-slate-700 transition-colors",disabled:f,children:[a.jsx(jn,{className:"h-4 w-4"}),a.jsx("span",{children:"Cancel"})]}),a.jsxs("button",{type:"submit",disabled:!u.trim()||f||l,className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed min-h-[40px]",children:[a.jsx(ql,{className:"h-4 w-4"}),a.jsx("span",{children:f||l?"Posting...":o?"Update":"Post"})]})]})]})]})]})})]}):a.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 text-center",children:a.jsx("p",{className:"text-slate-600",children:"Please log in to join the discussion."})})}function gC({type:e}){var q;const{courseId:t,lessonId:r,assignmentId:n}=Qn();Nt();const{user:s,profile:i}=Ze(),{comments:o,loading:l,error:c,canComment:u,isCourseTeacher:d,createComment:f,updateComment:h,deleteComment:m,moderateComment:x,refreshComments:p}=JK(e==="lesson"?r:void 0,e==="assignment"?n:void 0),[g,y]=S.useState(!1),[v,w]=S.useState(null),[j,b]=S.useState(null),[N,_]=S.useState(""),A=e==="lesson"?r:n,O=e==="lesson"?"Lesson":"Assignment",T=async D=>{if(!A)return;const z={content:D,...e==="lesson"?{lesson_id:A}:{assignment_id:A}};await f(z),y(!1)},P=async(D,z)=>{if(!A)return;const V={content:z,parent_id:D,...e==="lesson"?{lesson_id:A}:{assignment_id:A}};await f(V),w(null)},C=async(D,z)=>{b(D),_(z)},E=async D=>{j&&(await h(j,{content:D}),b(null),_(""))},M=async D=>{window.confirm("Are you sure you want to delete this comment? This action cannot be undone.")&&await m(D)},$=async D=>{window.confirm("Are you sure you want to remove this comment? This action cannot be undone.")&&await x(D)};return l?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):c?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Zt,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Error Loading Discussions"}),a.jsx("p",{className:"text-slate-600 mb-4",children:c}),a.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Try Again"})]})}):a.jsx("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8 bg-slate-50",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(Te,{to:e==="lesson"?`/courses/${t}/lessons/${r}`:`/student/assignments/${n}`,className:"flex items-center space-x-2 text-slate-600 hover:text-blue-600 mb-6 min-h-[44px]",children:[a.jsx(gn,{className:"h-5 w-5"}),a.jsxs("span",{children:["Back to ",O]})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-2",children:"Discussion Forum"}),a.jsxs("p",{className:"text-slate-600",children:["Join the conversation about this ",e==="lesson"?"lesson":"assignment"]})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-500",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(pr,{className:"h-4 w-4"}),a.jsxs("span",{children:[o.length," ",o.length===1?"discussion":"discussions"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Yr,{className:"h-4 w-4"}),a.jsxs("span",{children:[new Set(o.flatMap(D=>{var z;return[D.user_id,...((z=D.replies)==null?void 0:z.map(V=>V.user_id))||[]]})).size," participants"]})]})]})]})})]}),u&&!g&&a.jsx("div",{className:"mb-8",children:a.jsxs("button",{onClick:()=>y(!0),className:"w-full bg-blue-600 text-white py-4 px-6 rounded-lg font-semibold hover:bg-blue-700 transition flex items-center justify-center space-x-2",children:[a.jsx(pr,{className:"h-5 w-5"}),a.jsx("span",{children:"Start a Discussion"})]})}),g&&a.jsx("div",{className:"mb-8",children:a.jsx(op,{onSubmit:T,onCancel:()=>y(!1),placeholder:`Share your thoughts about this ${e}...`,loading:l})}),j&&a.jsx("div",{className:"mb-8",children:a.jsx(op,{onSubmit:E,onCancel:()=>{b(null),_("")},placeholder:"Edit your comment...",initialContent:N,isEditing:!0,loading:l})}),a.jsx("div",{className:"space-y-6",children:o.length===0?a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12 text-center",children:[a.jsx(pr,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-slate-600 mb-2",children:"No discussions yet"}),a.jsxs("p",{className:"text-slate-500 mb-6",children:["Be the first to start a conversation about this ",e==="lesson"?"lesson":"assignment","!"]}),u&&a.jsx("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Start Discussion"})]}):o.map(D=>a.jsx(pC,{comment:D,onReply:w,onEdit:C,onDelete:d?$:M,canEdit:(s==null?void 0:s.id)===D.user_id,canDelete:(s==null?void 0:s.id)===D.user_id||d,showActions:!!s},D.id))}),v&&a.jsx("div",{className:"mt-6",children:a.jsx(op,{onSubmit:D=>P(v,D),onCancel:()=>w(null),placeholder:"Write your reply...",isReply:!0,parentComment:((q=o.find(D=>D.id===v))==null?void 0:q.content)||"",loading:l})})]})})}function ZK(){return a.jsx(gC,{type:"lesson"})}function eY(){return a.jsx(gC,{type:"assignment"})}function J0(e){const{user:t,profile:r}=Ze(),[n,s]=S.useState([]),[i,o]=S.useState(!0),[l,c]=S.useState(null),u=async()=>{if(!(!t||!r))try{o(!0),c(null);let g=U.from("messages").select(`
          *,
          sender:profiles!messages_sender_id_fkey(id, full_name, email, role),
          recipient:profiles!messages_recipient_id_fkey(id, full_name, email, role)
        `);(e==null?void 0:e.type)==="inbox"?g=g.eq("recipient_id",t.id):(e==null?void 0:e.type)==="sent"?g=g.eq("sender_id",t.id):g=g.or(`sender_id.eq.${t.id},recipient_id.eq.${t.id}`),(e==null?void 0:e.read)!==void 0&&(g=g.eq("read",e.read)),e!=null&&e.search&&(g=g.or(`subject.ilike.%${e.search}%,content.ilike.%${e.search}%`)),g=g.order("created_at",{ascending:!1});const{data:y,error:v}=await g;if(v)throw new Error(v.message);s(y||[])}catch(g){const y=g instanceof Error?g.message:"Failed to fetch messages";c(y),console.error("Error fetching messages:",g)}finally{o(!1)}},d=async g=>{if(!t||!r)return{success:!1,error:"User not authenticated"};try{const{data:y,error:v}=await U.from("profiles").select("id, full_name").eq("id",g.recipient_id).single();if(v||!y)return{success:!1,error:"Recipient not found"};if(g.recipient_id===t.id)return{success:!1,error:"Cannot send message to yourself"};const{data:w,error:j}=await U.from("messages").insert({sender_id:t.id,recipient_id:g.recipient_id,subject:g.subject,content:g.content}).select(`
          *,
          sender:profiles!messages_sender_id_fkey(id, full_name, email, role),
          recipient:profiles!messages_recipient_id_fkey(id, full_name, email, role)
        `).single();if(j)throw new Error(j.message);return await u(),{success:!0,data:w}}catch(y){return{success:!1,error:y instanceof Error?y.message:"Failed to send message"}}},f=async g=>{if(!t)return{success:!1,error:"User not authenticated"};try{const{data:y,error:v}=await U.from("messages").update({read:!0}).eq("id",g).eq("recipient_id",t.id).select(`
          *,
          sender:profiles!messages_sender_id_fkey(id, full_name, email, role),
          recipient:profiles!messages_recipient_id_fkey(id, full_name, email, role)
        `).single();if(v)throw new Error(v.message);return s(w=>w.map(j=>j.id===g?{...j,read:!0,sender:y==null?void 0:y.sender,recipient:y==null?void 0:y.recipient}:j)),{success:!0,data:y}}catch(y){return{success:!1,error:y instanceof Error?y.message:"Failed to mark message as read"}}},h=async g=>{if(!t)return{success:!1,error:"User not authenticated"};try{const{error:y}=await U.from("messages").delete().eq("id",g).or(`sender_id.eq.${t.id},recipient_id.eq.${t.id}`);if(y)throw new Error(y.message);return s(v=>v.filter(w=>w.id!==g)),{success:!0}}catch(y){return{success:!1,error:y instanceof Error?y.message:"Failed to delete message"}}},m=async g=>{if(!t)return{success:!1,error:"User not authenticated"};try{const{data:y,error:v}=await U.from("messages").select(`
          *,
          sender:profiles!messages_sender_id_fkey(id, full_name, email, role),
          recipient:profiles!messages_recipient_id_fkey(id, full_name, email, role)
        `).eq("id",g).or(`sender_id.eq.${t.id},recipient_id.eq.${t.id}`).single();if(v)throw new Error(v.message);return{success:!0,data:y}}catch(y){return{success:!1,error:y instanceof Error?y.message:"Failed to fetch message"}}},x=async()=>{if(!t)return 0;try{const{count:g,error:y}=await U.from("messages").select("*",{count:"exact",head:!0}).eq("recipient_id",t.id).eq("read",!1);return y?(console.error("Error fetching unread count:",y),0):g||0}catch(g){return console.error("Error fetching unread count:",g),0}},p=async g=>{try{let y=U.from("profiles").select("id, full_name, email, role");g&&(y=y.eq("role",g)),t&&(y=y.neq("id",t.id));const{data:v,error:w}=await y.order("full_name");if(w)throw new Error(w.message);return v||[]}catch(y){return console.error("Error fetching user list:",y),[]}};return S.useEffect(()=>{u()},[t,r,e==null?void 0:e.type,e==null?void 0:e.read,e==null?void 0:e.search]),{messages:n,loading:i,error:l,sendMessage:d,markAsRead:f,deleteMessage:h,getMessageById:m,getUnreadCount:x,getUserList:p,refreshMessages:u}}function tY(){const{profile:e}=Ze(),[t,r]=S.useState("inbox"),[n,s]=S.useState(""),[i,o]=S.useState(!1),{messages:l,loading:c,error:u,markAsRead:d,deleteMessage:f,refreshMessages:h}=J0({type:t,read:i?!1:void 0,search:n||void 0}),m=async y=>{y.read||await d(y.id)},x=async(y,v)=>{v.preventDefault(),v.stopPropagation(),window.confirm("Are you sure you want to delete this message?")&&await f(y)},p=y=>{const v=new Date(y),j=(new Date().getTime()-v.getTime())/(1e3*60*60);return j<24?v.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):j<168?v.toLocaleDateString([],{weekday:"short",hour:"2-digit",minute:"2-digit"}):v.toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"})},g=l.filter(y=>!y.read&&y.recipient_id===(e==null?void 0:e.id)).length;return c?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Vt,{className:"h-8 w-8 animate-spin mx-auto text-blue-600 mb-2"}),a.jsx("p",{className:"text-gray-600",children:"Loading messages..."})]})}):u?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:[a.jsx("p",{className:"text-red-800 font-medium mb-2",children:"Error loading messages"}),a.jsx("p",{className:"text-red-600 text-sm mb-4",children:u}),a.jsx("button",{onClick:h,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"py-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(pr,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Messages"}),a.jsx("p",{className:"text-gray-600",children:"Manage your conversations"})]})]}),a.jsxs(Te,{to:"/messages/compose",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[a.jsx(ql,{className:"h-4 w-4"}),a.jsx("span",{children:"Compose"})]})]})})})}),a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"py-4",children:[a.jsxs("div",{className:"flex space-x-8 border-b border-gray-200",children:[a.jsx("button",{onClick:()=>r("inbox"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="inbox"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(HC,{className:"h-4 w-4"}),a.jsx("span",{children:"Inbox"}),g>0&&a.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:g})]})}),a.jsx("button",{onClick:()=>r("sent"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="sent"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ql,{className:"h-4 w-4"}),a.jsx("span",{children:"Sent"})]})})]}),a.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(ii,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search messages...",value:n,onChange:y=>s(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),t==="inbox"&&a.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[a.jsx("input",{type:"checkbox",checked:i,onChange:y=>o(y.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{children:"Unread only"})]})]})]})})}),a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:l.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(pr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No messages found"}),a.jsx("p",{className:"text-gray-500 mb-6",children:t==="inbox"?"You don't have any messages yet.":"You haven't sent any messages yet."}),a.jsx(Te,{to:"/messages/compose",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Compose New Message"})]}):a.jsx("div",{className:"space-y-2",children:l.map(y=>{const v=y.recipient_id===(e==null?void 0:e.id),w=v?y.sender:y.recipient,j=!y.read&&v;return a.jsx(Te,{to:`/messages/${y.id}`,onClick:()=>m(y),className:`block p-4 rounded-lg border transition-colors hover:shadow-md ${j?"bg-blue-50 border-blue-200":"bg-white border-gray-200 hover:bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center ${j?"bg-blue-600":"bg-gray-400"}`,children:a.jsx(Kr,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:`text-sm font-medium truncate ${j?"text-blue-900":"text-gray-900"}`,children:(w==null?void 0:w.full_name)||"Unknown User"}),(w==null?void 0:w.role)&&a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${w.role==="teacher"?"bg-purple-100 text-purple-800":w.role==="administrator"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:w.role}),j&&a.jsx("div",{className:"h-2 w-2 bg-blue-600 rounded-full"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center text-gray-500",children:[a.jsx(nr,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"text-xs",children:p(y.created_at)})]}),a.jsx("button",{onClick:b=>x(y.id,b),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Delete message",children:a.jsx(xn,{className:"h-4 w-4"})})]})]}),y.subject&&a.jsx("p",{className:`text-sm font-medium mb-1 truncate ${j?"text-blue-800":"text-gray-700"}`,children:y.subject}),a.jsx("p",{className:`text-sm truncate ${j?"text-blue-700":"text-gray-600"}`,children:y.content})]})]})},y.id)})})})]})}function rY(){const e=Nt(),{profile:t}=Ze(),{sendMessage:r,getUserList:n}=J0(),[s,i]=S.useState({recipient_id:"",subject:"",content:""}),[o,l]=S.useState([]),[c,u]=S.useState([]),[d,f]=S.useState(""),[h,m]=S.useState(null),[x,p]=S.useState(!1),[g,y]=S.useState(!1),[v,w]=S.useState(null);S.useEffect(()=>{(async()=>{const T=await n();l(T),u(T)})()},[n]),S.useEffect(()=>{if(d.trim()==="")u(o);else{const O=o.filter(T=>{var P;return T.full_name.toLowerCase().includes(d.toLowerCase())||((P=T.email)==null?void 0:P.toLowerCase().includes(d.toLowerCase()))});u(O)}},[d,o]);const j=O=>{const{name:T,value:P}=O.target;i(C=>({...C,[T]:P})),w(null)},b=O=>{m(O),i(T=>({...T,recipient_id:O.id})),f(O.full_name),p(!1)},N=async O=>{if(O.preventDefault(),!s.recipient_id){w("Please select a recipient");return}if(!s.content.trim()){w("Please enter a message");return}y(!0),w(null);try{const T=await r(s);T.success?e("/messages"):w(T.error||"Failed to send message")}catch{w("An unexpected error occurred")}finally{y(!1)}},_=()=>{e("/messages")},A=O=>{switch(O){case"teacher":return"bg-purple-100 text-purple-800";case"administrator":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"py-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:_,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(gn,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ts,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Compose Message"}),a.jsx("p",{className:"text-gray-600",children:"Send a new message"})]})]})]})})})}),a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:a.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[v&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-800 text-sm",children:v})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"recipient",className:"block text-sm font-medium text-gray-700",children:"To *"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:d,onChange:O=>{f(O.target.value),p(!0),m(null)},onFocus:()=>p(!0),placeholder:"Search for a user...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-10"}),a.jsx(ii,{className:"h-5 w-5 absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),x&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:c.length===0?a.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:d?"No users found":"No users available"}):c.map(O=>a.jsx("button",{type:"button",onClick:()=>b(O),className:"w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none border-b border-gray-100 last:border-b-0",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-gray-200 rounded-full flex items-center justify-center",children:a.jsx(Kr,{className:"h-4 w-4 text-gray-500"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:O.full_name}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-xs text-gray-500 truncate",children:O.email}),O.role&&a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${A(O.role)}`,children:O.role})]})]})]})},O.id))})]}),h&&a.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Kr,{className:"h-4 w-4 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-900",children:h.full_name}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-xs text-blue-700",children:h.email}),h.role&&a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${A(h.role)}`,children:h.role})]})]})]}),a.jsx("button",{type:"button",onClick:()=>{m(null),i(O=>({...O,recipient_id:""})),f("")},className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",children:a.jsx(jn,{className:"h-4 w-4"})})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Subject"}),a.jsx("input",{type:"text",id:"subject",name:"subject",value:s.subject,onChange:j,placeholder:"Enter subject (optional)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:"Message *"}),a.jsx("textarea",{id:"content",name:"content",value:s.content,onChange:j,rows:8,placeholder:"Type your message here...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",required:!0})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:_,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:g||!s.recipient_id||!s.content.trim(),className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:g?a.jsxs(a.Fragment,{children:[a.jsx(ca,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Sending..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(ql,{className:"h-4 w-4"}),a.jsx("span",{children:"Send Message"})]})})]})]})})})]})}function nY(){var j,b,N,_;const{messageId:e}=Qn(),t=Nt(),{profile:r}=Ze(),{getMessageById:n,markAsRead:s,deleteMessage:i}=J0(),[o,l]=S.useState(null),[c,u]=S.useState(!0),[d,f]=S.useState(null),[h,m]=S.useState(!1);S.useEffect(()=>{(async()=>{if(!e){f("Message ID not provided"),u(!1);return}u(!0),f(null);try{const O=await n(e);O.success&&O.data?(l(O.data),O.data.recipient_id===(r==null?void 0:r.id)&&!O.data.read&&await s(e)):f(O.error||"Message not found")}catch{f("Failed to load message")}finally{u(!1)}})()},[e,r==null?void 0:r.id,n,s]);const x=async()=>{if(o&&window.confirm("Are you sure you want to delete this message?")){m(!0);try{const A=await i(o.id);A.success?t("/messages"):f(A.error||"Failed to delete message")}catch{f("An unexpected error occurred")}finally{m(!1)}}},p=A=>new Date(A).toLocaleString([],{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),g=A=>{switch(A){case"teacher":return"bg-purple-100 text-purple-800";case"administrator":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};if(c)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ca,{className:"h-8 w-8 animate-spin mx-auto text-blue-600 mb-2"}),a.jsx("p",{className:"text-gray-600",children:"Loading message..."})]})});if(d)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:[a.jsx(Zt,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),a.jsx("p",{className:"text-red-800 font-medium mb-2",children:"Error loading message"}),a.jsx("p",{className:"text-red-600 text-sm mb-4",children:d}),a.jsx("div",{className:"space-x-2",children:a.jsx("button",{onClick:()=>t("/messages"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Back to Messages"})})]})})});if(!o)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 max-w-md",children:[a.jsx(Ts,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-800 font-medium mb-2",children:"Message not found"}),a.jsx("button",{onClick:()=>t("/messages"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Messages"})]})})});const y=o.recipient_id===(r==null?void 0:r.id),v=y?o.sender:o.recipient,w=!o.read&&y;return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"py-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>t("/messages"),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(gn,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ts,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:y?"Inbox":"Sent Message"}),a.jsx("p",{className:"text-gray-600",children:"Message Details"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[y&&a.jsxs(Te,{to:`/messages/compose?replyTo=${v==null?void 0:v.id}&subject=Re: ${o.subject||""}`,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(up,{className:"h-4 w-4"}),a.jsx("span",{children:"Reply"})]}),a.jsxs("button",{onClick:x,disabled:h,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-400 transition-colors",children:[h?a.jsx(ca,{className:"h-4 w-4 animate-spin"}):a.jsx(xn,{className:"h-4 w-4"}),a.jsx("span",{children:"Delete"})]})]})]})})})}),a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`flex-shrink-0 h-12 w-12 rounded-full flex items-center justify-center ${w?"bg-blue-600":"bg-gray-400"}`,children:a.jsx(Kr,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:(v==null?void 0:v.full_name)||"Unknown User"}),(v==null?void 0:v.role)&&a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${g(v.role)}`,children:v.role}),w&&a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Unread"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[a.jsx(nr,{className:"h-4 w-4"}),a.jsx("span",{children:p(o.created_at)})]})]})]})}),o.subject&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Subject:"}),a.jsx("p",{className:"text-gray-900 font-medium",children:o.subject})]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"From:"}),a.jsxs("p",{className:"text-sm text-gray-900",children:[((j=o.sender)==null?void 0:j.full_name)||"Unknown"," (",((b=o.sender)==null?void 0:b.email)||"No email",")"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"To:"}),a.jsxs("p",{className:"text-sm text-gray-900",children:[((N=o.recipient)==null?void 0:N.full_name)||"Unknown"," (",((_=o.recipient)==null?void 0:_.email)||"No email",")"]})]})]})})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"prose max-w-none",children:a.jsx("div",{className:"whitespace-pre-wrap text-gray-900 leading-relaxed",children:o.content})})}),a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 rounded-b-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("button",{onClick:()=>t("/messages"),className:"text-gray-600 hover:text-gray-900 text-sm font-medium transition-colors",children:" Back to Messages"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[y&&a.jsxs(Te,{to:`/messages/compose?replyTo=${v==null?void 0:v.id}&subject=Re: ${o.subject||""}`,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[a.jsx(up,{className:"h-4 w-4"}),a.jsx("span",{children:"Reply"})]}),a.jsxs("button",{onClick:x,disabled:h,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-400 transition-colors text-sm",children:[h?a.jsx(ca,{className:"h-4 w-4 animate-spin"}):a.jsx(xn,{className:"h-4 w-4"}),a.jsx("span",{children:"Delete"})]})]})]})})]})})]})}function Dt({children:e,requiredRole:t}){const{user:r,profile:n,loading:s}=Ze();return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(U4,{size:48,color:"text-blue-600"})}):r?t&&(n==null?void 0:n.role)!==t?a.jsx(lp,{to:"/"}):a.jsx(a.Fragment,{children:e}):a.jsx(lp,{to:"/login"})}function sY(){return a.jsx(OC,{children:a.jsxs(Ye,{path:"/",element:a.jsx(xE,{}),children:[a.jsx(Ye,{index:!0,element:a.jsx(Cv,{children:a.jsx(W4,{})})}),a.jsx(Ye,{path:"quiz/:category",element:a.jsx(Dt,{children:a.jsx(Cv,{children:a.jsx(H4,{})})})}),a.jsx(Ye,{path:"login",element:a.jsx(Y4,{})}),a.jsx(Ye,{path:"register",element:a.jsx(X4,{})}),a.jsx(Ye,{path:"forgot-password",element:a.jsx(Q4,{})}),a.jsx(Ye,{path:"reset-password",element:a.jsx(J4,{})}),a.jsx(Ye,{path:"courses",element:a.jsx(KK,{})}),a.jsx(Ye,{path:"courses/:courseId",element:a.jsx(YK,{})}),a.jsx(Ye,{path:"courses/:courseId/lessons/:lessonId",element:a.jsx(QK,{})}),a.jsx(Ye,{path:"courses/:courseId/lessons/:lessonId/discussions",element:a.jsx(Dt,{children:a.jsx(ZK,{})})}),a.jsx(Ye,{path:"courses/:courseId/assignments/:assignmentId/discussions",element:a.jsx(Dt,{children:a.jsx(eY,{})})}),a.jsx(Ye,{path:"quiz/lesson/:quizId",element:a.jsx(Dt,{children:a.jsx(G4,{})})}),a.jsx(Ye,{path:"analytics",element:a.jsx(Dt,{children:a.jsx(K4,{})})}),a.jsx(Ye,{path:"student/dashboard",element:a.jsx(Dt,{requiredRole:"student",children:a.jsx(EK,{})})}),a.jsx(Ye,{path:"student/assignments/:assignmentId",element:a.jsx(Dt,{requiredRole:"student",children:a.jsx(MK,{})})}),a.jsx(Ye,{path:"student/achievements",element:a.jsx(Dt,{requiredRole:"student",children:a.jsx(IK,{})})}),a.jsx(Ye,{path:"student/bookmarks",element:a.jsx(Dt,{requiredRole:"student",children:a.jsx(DK,{})})}),a.jsx(Ye,{path:"student/resources",element:a.jsx(Dt,{requiredRole:"student",children:a.jsx(RK,{})})}),a.jsx(Ye,{path:"teacher/dashboard",element:a.jsx(Dt,{requiredRole:"teacher",children:a.jsx(BK,{})})}),a.jsx(Ye,{path:"admin",element:a.jsx(lp,{to:"/admin/dashboard",replace:!0})}),a.jsx(Ye,{path:"admin/dashboard",element:a.jsx(Dt,{requiredRole:"admin",children:a.jsx(WK,{})})}),a.jsx(Ye,{path:"messages",element:a.jsx(Dt,{children:a.jsx(tY,{})})}),a.jsx(Ye,{path:"messages/compose",element:a.jsx(Dt,{children:a.jsx(rY,{})})}),a.jsx(Ye,{path:"messages/:messageId",element:a.jsx(Dt,{children:a.jsx(nY,{})})})]})})}function aY(){return a.jsx(QS,{children:a.jsx(PC,{children:a.jsx(gE,{children:a.jsx(sY,{})})})})}EC.createRoot(document.getElementById("root")).render(a.jsx(S.StrictMode,{children:a.jsx(QS,{children:a.jsx(IT,{children:a.jsxs(BT,{children:[a.jsx(aY,{}),a.jsx(hE,{position:"top-right",toastOptions:{duration:4e3,style:{background:"white",color:"black",border:"1px solid #e5e7eb"}}})]})})})}));
